import{r as M,j as n,R as Pe}from"./react-Bky29K5w.js";import{r as ja,R as vt}from"./react-dom-CAVhmBvL.js";import{e as ia,a as sa,o as jt,b as Mt,c as St,d as Ct,n as At,r as Nt,f as It,g as rt,t as $t,h as Pt,i as Tt,j as Et,m as Lt,k as Dt,l as Rt,p as Gt,q as Kt,s as Bt,u as Ot,v as Wt,w as Ht,x as Ut,y as Vt,z as Ft,A as Jt,B as Zt,C as Yt,D as qt,E as Qt,F as Xt,G as er,H as ar,I as tr,J as rr,K as or,L as nr,M as ir,N as sr,O as lr,P as cr,Q as Ma,R as Sa,S as Ca,T as dr}from"./@phosphor-icons-BjUhm3Os.js";import{b as ur}from"./qrcode-CMrO99vm.js";import"./dijkstrajs-B-FHFk8B.js";import"./scheduler-7OC5HNn7.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const p=(e,a)=>a?`{{card:${e}|${a}}}`:`{{card:${e}}}`,pr=[{title:"O grze",blocks:[{kind:"paragraph",text:"Mafia to fabularna gra towarzyska dla 2â€“20 osÃ³b."},{kind:"paragraph",text:`Gracze dzielÄ… siÄ™ na dwie frakcje: ${p("Mafia","MafiÄ™")} oraz Miasto (zwykÅ‚ych mieszkaÅ„cÃ³w). ${p("Mafia","Mafia")} wygrywa, gdy wyeliminuje wszystkich obywateli, natomiast Miasto triumfuje po pozbyciu siÄ™ ${p("Mafia","Mafii")}.`},{kind:"paragraph",text:"Rozgrywka opiera siÄ™ na dedukcji, blefie oraz umiejÄ™tnym zarzÄ…dzaniu zdolnoÅ›ciami kart."}]},{title:"PoczÄ…tek gry",blocks:[{kind:"paragraph",text:"Na poczÄ…tku partii kaÅ¼dy gracz otrzymuje takÄ… samÄ… liczbÄ™ kart."},{kind:"paragraph",text:"Przed pierwszÄ… nocÄ… gracze powinni zapoznaÄ‡ siÄ™ z dziaÅ‚aniem swoich kart nocnych."},{kind:"paragraph",text:`System rozdawania kart posiada zabezpieczenia przed skrajnie niesprawiedliwymi ukÅ‚adami (np. trafienie wszystkich ${p("CloudWalker","ChmurostÄ…pÃ³w")} do jednego gracza). SzczegÃ³Å‚y znajdujÄ… siÄ™ w sekcji â€Zasady balansu kartâ€.`}]},{title:"Noc",blocks:[{kind:"paragraph",text:"Gdy Konferansjer ogÅ‚asza noc, wszyscy gracze zamykajÄ… oczy. NastÄ™pnie prowadzÄ…cy wywoÅ‚uje kolejno aktywne postacie, pytajÄ…c o uÅ¼ycie zdolnoÅ›ci i wybÃ³r celu. Obudzeni gracze odpowiadajÄ… bezszelestnie, uÅ¼ywajÄ…c gestÃ³w gÅ‚owy lub rÄ…k."},{kind:"paragraph",text:"Noce dzielÄ… siÄ™ na parzyste i nieparzyste â€“ od numeru nocy zaleÅ¼y, ktÃ³re karty sÄ… budzone i w jakiej kolejnoÅ›ci."},{kind:"paragraph",text:"SzczegÃ³Å‚owy schemat budzeÅ„ rÃ³l nocnych i dziennych znajdziesz w sekcji â€KolejnoÅ›Ä‡ budzeÅ„â€."}],subsections:[{title:`Pierwsza noc - narada ${p("Mafia","Mafii")}`,blocks:[{kind:"paragraph",text:`Na poczÄ…tku pierwszej nocy prowadzÄ…cy budzi caÅ‚Ä… ${p("Mafia","MafiÄ™")}. To jedyny moment, w ktÃ³rym ${p("Mafia","Mafiosi")} mogÄ… niemo ustaliÄ‡ strategiÄ™ i kolejnoÅ›Ä‡ eliminacji. Po zakoÅ„czeniu narady ${p("Mafia","Mafia")} ponownie zasÅ‚ania oczy i rozpoczyna siÄ™ standardowa sekwencja nocy.`}]}]},{title:"DzieÅ„",blocks:[{kind:"paragraph",text:"O poranku miasto budzi siÄ™ do Å¼ycia, gracze otwierajÄ… oczy, a Konferansjer przedstawia raport z nocy."},{kind:"paragraph",text:"Wyeliminowani gracze koÅ„czÄ… udziaÅ‚ w rozgrywce â€“ od tej chwili nie mogÄ… zabieraÄ‡ gÅ‚osu ani braÄ‡ udziaÅ‚u w gÅ‚osowaniach."},{kind:"list",ordered:!0,title:"Przebieg dnia:",items:["Konferansjer odczytuje sprawozdanie z wydarzeÅ„ nocnych.",`Gracze wnoszÄ… oskarÅ¼enia wobec osÃ³b podejrzanych o przynaleÅ¼noÅ›Ä‡ do ${p("Mafia","Mafii")}, dÄ…Å¼Ä…c do skazania ich na Å›mierÄ‡ szubienicÄ….`,`OskarÅ¼eni gracze wygÅ‚aszajÄ… mowy obronne, starajÄ…c siÄ™ przekonaÄ‡ innych o swojej niewinnoÅ›ci. JeÅ›li ${p("GhostBobo","Duch Bobo")} odebraÅ‚ ktÃ³remuÅ› z oskarÅ¼onych gÅ‚os, wskazuje on osobÄ™ (adwokata), ktÃ³rej zadaniem jest obrona poprzez tÅ‚umaczenie mimiki i ruchÃ³w oskarÅ¼onego.`,`Konferansjer wymienia oskarÅ¼onych. JeÅ›li jest tylko jeden kandydat, gracze gÅ‚osujÄ… dwukrotnie: najpierw za, a nastÄ™pnie przeciw jego egzekucji. W przypadku wielu kandydatÃ³w, gracze gÅ‚osujÄ… kolejno wyÅ‚Ä…cznie za Å›mierciÄ… kaÅ¼dego z nich. Przy kaÅ¼dym gÅ‚osowaniu prowadzÄ…cy odlicza: â€Kto gÅ‚osuje [opcja], proszÄ™ podnieÅ›Ä‡ rÄ™kÄ™ za trzy, dwa, jedenâ€. GÅ‚osowaÄ‡ mogÄ… wszyscy (w tym sami oskarÅ¼eni), chyba Å¼e ${p("Judge","SÄ™dzia")} odebraÅ‚ komuÅ› to prawo.`,"Po rozstrzygniÄ™ciu fazy gÅ‚osowania miasto zasypia."]},{kind:"paragraph",text:`NiektÃ³re role modyfikujÄ… siÅ‚Ä™ gÅ‚osu: gÅ‚os ${p("Meciar","Mecziara")} liczy siÄ™ podwÃ³jnie, natomiast liczba gÅ‚osÃ³w oddanych na ${p("Kovac","Kovacza")} jest pomniejszana o jeden. ${p("Communist","Komunista")} moÅ¼e raz na grÄ™ znieÅ›Ä‡ przywileje ${p("Meciar","Mecziara")}, ${p("Kovac","Kovacza")}, ${p("Judge","SÄ™dziego")} oraz cenzurÄ™ ${p("GhostBobo","Ducha Bobo")}, zrÃ³wnujÄ…c prawa wszystkich graczy.`},{kind:"paragraph",text:`Konferansjer liczy gÅ‚osy rÄ™cznie, samodzielnie uwzglÄ™dniajÄ…c bonus ${p("Meciar","Mecziara")} i modyfikator ${p("Kovac","Kovacza")}. Aplikacja jedynie wyÅ›wietla ikony przy odpowiednich rolach, wiÄ™c prowadzÄ…cy musi pamiÄ™taÄ‡ o korekcie wyniku.`},{kind:"paragraph",text:"W przypadku remisu, kandydaci z rÃ³wnÄ… liczbÄ… gÅ‚osÃ³w mogÄ… â€“ jeÅ›li chcÄ… â€“ wygÅ‚osiÄ‡ ostatecznÄ… mowÄ™ obronnÄ…. NastÄ™pnie przeprowadza siÄ™ miÄ™dzy nimi dogrywkÄ™ na tych samych zasadach. JeÅ›li ponownie dojdzie do remisu, gÅ‚osowanie koÅ„czy siÄ™ natychmiast bez egzekucji."},{kind:"paragraph",text:`Przed ogÅ‚oszeniem ostatecznego wyroku ${p("Astronomer","Astronom")} moÅ¼e uÅ¼yÄ‡ swojej zdolnoÅ›ci, by natychmiast zakoÅ„czyÄ‡ dzieÅ„ bez Å›mierci skazanego.`}]},{title:"ReguÅ‚y obronne",blocks:[{kind:"paragraph",text:`Gracze posiadajÄ… Å›rodki obrony przed Å›mierciÄ…, ktÃ³re aktywujÄ… siÄ™ automatycznie. UÅ¼ycie karty ${p("CloudWalker","ChmurostÄ…p")}, ${p("Immunity","Immunitet")}, ${p("KevlarVest","Kamizelka kuloodporna")}, ${p("Mirror","ZwierciadÅ‚o")} lub ${p("RopeWalker","Linoskoczek")} powoduje jej bezpowrotnÄ… utratÄ™.`}],subsections:[{title:"Tunel",blocks:[{kind:"paragraph",text:"JeÅ›li trafiony zostanie pierwszy wskazany gracz, pocisk przemieszcza siÄ™ tunelem do drugiego. JeÅ›li od jednego gracza wychodzi wiÄ™cej tuneli, pocisk dzieli siÄ™ na odÅ‚amki, ktÃ³re przelatujÄ… wszystkimi tunelami (zachowujÄ…c wÅ‚aÅ›ciwoÅ›ci normalnego pocisku). Pocisk ani odÅ‚amki nie mogÄ… przebyÄ‡ tego samego tunelu dwukrotnie. W przypadku istnienia dwÃ³ch lub trzech tuneli w tym samym kierunku miÄ™dzy tymi samymi graczami, pocisk nie dzieli siÄ™, lecz leci tunelem utworzonym najwczeÅ›niej."}]},{title:"Maska Gazowa",blocks:[{kind:"paragraph",text:`Posiadacze kart ${p("Mage","Mag 2")}, ${p("MadGunman","Szalony Strzelec 2")} oraz ${p("GhostBobo","Duch Bobo")} sÄ… wyposaÅ¼eni w MaskÄ™ GazowÄ…, chroniÄ…cÄ… przed ${p("Sand","Piaskiem")} i zapachem ${p("Sock","Skarpetki")}.`}]}]},{title:"ReguÅ‚y obronne â€“ noc",blocks:[{kind:"paragraph",text:`KaÅ¼dy nocny atak weryfikowany jest przez system obron w okreÅ›lonej kolejnoÅ›ci â€“ zadziaÅ‚anie jednej z barier przerywa sprawdzanie pozostaÅ‚ych. Przed listÄ… priorytetÃ³w zawsze sprawdzane jest, czy ${p("Matrix")} nie przechwyciÅ‚ pocisku.`},{kind:"paragraph",text:"Aplikacja przetwarza ataki zgodnie z poniÅ¼szÄ… hierarchiÄ…, ale raport koÅ„cowy jest losowo przetasowany, aby utrudniÄ‡ identyfikacjÄ™ strzelcÃ³w."}],subsections:[{title:`a) Pocisk od ${p("Mafia","Mafii")}`,blocks:[{kind:"list",title:`Strzela ${p("Mafia","Mafioso")} z najwyÅ¼szym numerem:`,ordered:!0,items:[p("Magnet","Magnes"),"Tunel",p("Mirror","ZwierciadÅ‚o"),p("Slime","Åšlina"),p("AlCapone","Al Capone"),p("Doctor","Doktor"),p("KevlarVest","Kamizelka kuloodporna"),p("CloudWalker","ChmurostÄ…p")]}]},{title:`b) Pocisk od ${p("MadGunman","Szalonego Strzelca")}`,blocks:[{kind:"list",ordered:!0,items:[p("Magnet","Magnes"),"Tunel",p("Mirror","ZwierciadÅ‚o"),p("Slime","Åšlina"),p("Doctor","Doktor"),p("KevlarVest","Kamizelka kuloodporna"),p("CloudWalker","ChmurostÄ…p")]}]},{title:`c) Pocisk od ${p("Sniper","Snajpera")}`,blocks:[{kind:"list",ordered:!0,items:[p("Magnet","Magnes"),"Tunel",p("Mirror","ZwierciadÅ‚o"),p("Slime","Åšlina"),p("Doctor","Doktor"),p("KevlarVest","Kamizelka kuloodporna"),p("CloudWalker","ChmurostÄ…p")]}]},{title:`d) Zapach ${p("Sock","Skarpetki")}`,blocks:[{kind:"list",ordered:!0,items:["Maska Gazowa",p("Doctor","Doktor"),p("CloudWalker","ChmurostÄ…p")]}]},{title:`e) Pocisk od ${p("Matrix","Matrixa")}`,blocks:[{kind:"list",ordered:!0,items:[p("KevlarVest","Kamizelka kuloodporna"),p("CloudWalker","ChmurostÄ…p")]}]}]},{title:"ReguÅ‚y obronne â€“ dzieÅ„",blocks:[{kind:"paragraph",text:`W dzieÅ„ obrona rÃ³wnieÅ¼ dziaÅ‚a automatycznie i jest rozpatrywana przed faktycznÄ… Å›mierciÄ… gracza. JeÅ›li ${p("BlindExecutioner","Åšlepy Kat")} wskazaÅ‚ ofiarÄ™ zastÄ™pczÄ…, zamiana celÃ³w nastÄ™puje przed zuÅ¼yciem tarcz.`}],subsections:[{title:"a) Skazanie w gÅ‚osowaniu",blocks:[{kind:"list",ordered:!0,items:[p("RopeWalker","Linoskoczek"),p("Immunity","Immunitet"),p("CloudWalker","ChmurostÄ…p")]}]},{title:`b) StrzaÅ‚ w dzieÅ„ (${p("Anarchist","Anarchista")}, ${p("MassMurderer","Masowy Morderca")}, ${p("Terrorist","Bomba")})`,blocks:[{kind:"list",ordered:!0,items:[p("Immunity","Immunitet"),p("KevlarVest","Kamizelka kuloodporna"),p("CloudWalker","ChmurostÄ…p")]}]}]},{title:"KolejnoÅ›Ä‡ budzeÅ„",blocks:[],subsections:[{title:"a) Noce parzyste",blocks:[{kind:"paragraph",text:"W parzyste noce budzÄ… siÄ™ kolejno:"},{kind:"list",items:[p("Jailer","Jailer"),p("Gravedigger","Grabarz"),p("Matrix","Matrix"),p("Mage","Magowie"),p("Slime","Åšlina"),p("Leech","Pijawka"),p("Sand","Piasek"),p("Cobra","Kobra"),p("Magnet","Magnes"),p("GhostBobo","Duch Bobo"),p("Doctor","Doktor"),p("SwampMonster","JoÅ¼in z BaÅ¼in"),p("Mafia","Mafia"),p("MadGunman","Szaleni Strzelcy"),p("Sniper","Snajper"),p("Sock","Skarpetka"),p("Judge","SÄ™dzia"),p("BlindExecutioner","Åšlepy Kat"),p("Matrix","StrzaÅ‚ Matrixa")]}]},{title:"b) Noce nieparzyste",blocks:[{kind:"paragraph",text:"W nieparzyste noce budzÄ… siÄ™ kolejno:"},{kind:"list",items:[p("Gravedigger","Grabarz"),p("Matrix","Matrix"),p("Mage","Magowie"),p("Slime","Åšlina"),p("Leech","Pijawka"),p("Sand","Piasek"),p("Doctor","Doktor"),p("SwampMonster","JoÅ¼in z BaÅ¼in"),p("Mafia","Mafia"),p("Sniper","Snajper"),p("Sock","Skarpetka"),p("BlindExecutioner","Åšlepy Kat"),p("Matrix","StrzaÅ‚ Matrixa")]}]},{title:"c) Dodatkowe zasady nocne",blocks:[{kind:"paragraph",text:`Pod koniec co trzeciej nocy (zaczynajÄ…c od drugiej) budzi siÄ™ ${p("Spyglass","Luneta")}, aby dowiedzieÄ‡ siÄ™, ktÃ³rzy gracze byli aktywni.`},{kind:"paragraph",text:`NiektÃ³re role (np. ${p("Matrix")}) majÄ… ograniczonÄ… liczbÄ™ uÅ¼yÄ‡; po wyczerpaniu Å‚adunkÃ³w prowadzÄ…cy przestaje je budziÄ‡.`}]}]},{title:"Zasady balansu kart",blocks:[{kind:"paragraph",text:"Aby rozgrywka byÅ‚a sprawiedliwa, aplikacja stosuje nastÄ™pujÄ…ce ograniczenia przy rozdawaniu rÃ³l:"},{kind:"list",items:[`Gracz moÅ¼e posiadaÄ‡ tylko jednÄ… kartÄ™ ${p("Mafia","Mafii")}.`,`Gracz moÅ¼e posiadaÄ‡ tylko jednÄ… kartÄ™ z pary ${p("Gandalf")} / ${p("HorsePiece","KawaÅ‚ Konia")}.`,`Gracz moÅ¼e posiadaÄ‡ tylko jednÄ… kartÄ™ z zestawu: ${p("Mage","Mag 2")} / ${p("MadGunman","Szalony Strzelec 2")} / ${p("GhostBobo","Duch Bobo")}.`,`Gracz moÅ¼e posiadaÄ‡ tylko jednÄ… kartÄ™ z pary ${p("Leech","Pijawka")} / ${p("Cobra")}.`,`Gracz moÅ¼e posiadaÄ‡ tylko jednego ${p("MadGunman","Szalonego Strzelca")}.`,`Gracz moÅ¼e posiadaÄ‡ tylko jednÄ… kartÄ™ ${p("Slime","Åšliny")}.`,`Gracz moÅ¼e posiadaÄ‡ tylko jednÄ… kartÄ™ z pary ${p("Atheist","Ateista")} / ${p("Matrix")}.`,`Gracz posiadajÄ…cy kartÄ™ ${p("Mafia","Mafii")} nie moÅ¼e otrzymaÄ‡ ${p("Doctor","Doktora")} ani ${p("Spyglass","Lunety")}.`,`Gracz moÅ¼e otrzymaÄ‡ maksymalnie dwa ${p("CloudWalker","ChmurostÄ…py")}.`,`Gracz moÅ¼e otrzymaÄ‡ maksymalnie dwÃ³ch ${p("RopeWalker","LinoskoczkÃ³w")}.`,`Gracz posiadajÄ…cy kartÄ™ ${p("Gravedigger","Grabarz")}, ${p("Leech","Pijawka")}, ${p("AlCapone","Al Capone")}, ${p("Gandalf")} lub ${p("HorsePiece","KawaÅ‚ Konia")} moÅ¼e otrzymaÄ‡ tylko jednego ${p("CloudWalker","ChmurostÄ…pa")}.`]}]}],mr={role_AlCapone:"Al Capone",role_Anarchist:"Anarchista",role_Astronomer:"Astronom",role_Atheist:"Ateista",role_BlindExecutioner:"Åšlepy Kat",role_CloudWalker:"ChmurostÄ…p",role_Cobra:"Kobra",role_Communist:"Komunista",role_Doctor:"Doktor",role_Gandalf:"Gandalf",role_GhostBobo:"Duch Bobo",role_Glazier:"Szklarz",role_Gravedigger:"Grabarz",role_HorsePiece:"KawaÅ‚ Konia",role_Immunity:"Immunitet",role_Jailer:"Jailer",role_Judge:"SÄ™dzia",role_KevlarVest:"Kamizelka kuloodporna",role_Kovac:"Kovacz",role_Leech:"Pijawka",role_MadGunman:"Szalony Strzelec",role_Mafia:"Mafioso",role_Magnet:"Magnes",role_MassMurderer:"Masowy Morderca",role_Matrix:"Matrix",role_Meciar:"Mecziar",role_Mage:"Mag",role_Mirror:"ZwierciadÅ‚o",role_RopeWalker:"Linoskoczek",role_Sand:"Piasek",role_Slime:"Åšlina",role_Sniper:"Snajper",role_Sock:"Skarpetka",role_Spyglass:"Luneta",role_SwampMonster:"JoÅ¼in z BaÅ¼in",role_Terrorist:"Terrorysta",role_TimeLord:"Pan Czasu",card_description_AlCapone:"Al Capone jako ojciec chrzestny Mafii jest odporny na jej ataki. Ochrona ta dziaÅ‚a tylko na bezpoÅ›rednie trafienie przez MafiÄ™, nie chroni natomiast przed pociskiem przekierowanym przez Tunel, Magnes lub ZwierciadÅ‚o.",card_description_Anarchist:'Anarchista moÅ¼e raz na caÅ‚Ä… grÄ™ w ciÄ…gu dnia uÅ¼yÄ‡ swojej zdolnoÅ›ci, mÃ³wiÄ…c "I shoot you baby!", po czym strzela do wskazanej przez siebie osoby.',card_description_Astronomer:'Astronom moÅ¼e raz na caÅ‚Ä… grÄ™ w ciÄ…gu dnia uÅ¼yÄ‡ swojej zdolnoÅ›ci, mÃ³wiÄ…c "Noc!", co natychmiast koÅ„czy dzieÅ„, nawet jeÅ›li trwa wÅ‚aÅ›nie gÅ‚osowanie.',card_description_Atheist:"Tunel stworzony przez Maga prowadzÄ…cy do Ateisty nie dziaÅ‚a. Konferansjer nie informuje Maga o tym, Å¼e utworzyÅ‚ tunel na AteistÄ™.",card_description_BlindExecutioner:"Åšlepy Kat moÅ¼e dwa razy w ciÄ…gu gry wskazaÄ‡ w nocy dwÃ³ch graczy. JeÅ›li nastÄ™pnego dnia pierwszy ze wskazanych graczy miaÅ‚by zostaÄ‡ powieszony, zamiast niego ginie gracz wskazany jako drugi.",card_description_CloudWalker:"ChmurostÄ…p to podstawowa karta obronna peÅ‚niÄ…ca funkcjÄ™ dodatkowego Å¼ycia. Jest zuÅ¼ywana, jeÅ›li gracz nie posiada innej ochrony.",card_description_Cobra:"Kobra kaÅ¼dej parzystej nocy wskazuje gracza, ktÃ³ry wedÅ‚ug niej posiada kartÄ™ Pijawka. JeÅ›li trafi, pod koniec nocy zyskuje ChmurostÄ…pa i zjada PijawkÄ™ (gracz z tÄ… kartÄ… traci swoje zdolnoÅ›ci).",card_description_Communist:'Komunista moÅ¼e raz na caÅ‚Ä… grÄ™ w ciÄ…gu dnia uÅ¼yÄ‡ swojej zdolnoÅ›ci, mÃ³wiÄ…c "Obywatele, w tej rundzie jesteÅ›my wszyscy rÃ³wni", anulujÄ…c tym samym na jeden dzieÅ„ zdolnoÅ›ci Mecziara, Kovacza, Ducha Bobo i SÄ™dziego.',card_description_Doctor:"Doktor kaÅ¼dej nocy wskazuje gracza, ktÃ³rego leczy, chroniÄ…c go tym samym jednorazowo przed pociskiem lub zapachem Skarpetki. Co trzeciÄ… noc (zaczynajÄ…c od pierwszej lub drugiej) moÅ¼e uleczyÄ‡ samego siebie. JeÅ›li Doktor zostanie sam przeciwko jednemu lub kilku Mafiosom i nie moÅ¼e siÄ™ uleczyÄ‡, jest deaktywowany.",card_description_Gandalf:"JeÅ›li KawaÅ‚ Konia traci ChmurostÄ…pa, zyskuje go Gandalf. W ciÄ…gu nocy moÅ¼e uzyskaÄ‡ w ten sposÃ³b tylko jednego ChmurostÄ…pa.",card_description_Glazier:"JeÅ›li Szklarz nie ma Å¼adnego ZwierciadÅ‚a, a innemu graczowi w nocy zostanie ono zniszczone, Szklarz zyskuje je pod koniec nocy. MoÅ¼e otrzymaÄ‡ tylko jedno ZwierciadÅ‚o w ciÄ…gu nocy.",card_description_GhostBobo:"Duch Bobo kaÅ¼dej parzystej nocy wskazuje gracza, ktÃ³ry nastÄ™pnego dnia bÄ™dzie miaÅ‚ zakaz mÃ³wienia (zakaz ten moÅ¼e znieÅ›Ä‡ tylko Komunista). JeÅ›li oskarÅ¼ony gracz ma naÅ‚oÅ¼ony przez Ducha Bobo zakaz wypowiadania siÄ™, wybiera osobÄ™, ktÃ³ra ma go broniÄ‡, tÅ‚umaczÄ…c jego mimikÄ™ i gesty.",card_description_Gravedigger:"Grabarz moÅ¼e raz na caÅ‚Ä… grÄ™ w nocy wykopaÄ‡ groby dla ChmurostÄ…pÃ³w, dziÄ™ki czemu pod koniec nocy zyskuje tyle ChmurostÄ…pÃ³w, ile zostaÅ‚o ich tej nocy utraconych przez innych graczy.",card_description_HorsePiece:"JeÅ›li Gandalf traci ChmurostÄ…pa, zyskuje go KawaÅ‚ Konia. W ciÄ…gu nocy moÅ¼e uzyskaÄ‡ w ten sposÃ³b tylko jednego ChmurostÄ…pa.",card_description_Immunity:"Karta obronna uÅ¼ywana w przypadku trafienia pociskiem w dzieÅ„ lub skazania na Å›mierÄ‡ przez powieszenie.",card_description_Jailer:"Jailer moÅ¼e raz na caÅ‚Ä… grÄ™ wskazaÄ‡ gracza, ktÃ³rego wtrÄ…ca do wiÄ™zienia, blokujÄ…c dziaÅ‚anie jego zdolnoÅ›ci tej nocy. Konferansjer budzi uwiÄ™zionego gracza, ale wyraÅºnie sygnalizuje mu, Å¼e znajduje siÄ™ w wiÄ™zieniu.",card_description_Judge:"SÄ™dzia kaÅ¼dej parzystej nocy wskazuje gracza, ktÃ³ry nastÄ™pnego dnia bÄ™dzie miaÅ‚ zakaz gÅ‚osowania. Komunista moÅ¼e znieÅ›Ä‡ ten zakaz.",card_description_KevlarVest:"Karta obronna uÅ¼ywana w przypadku trafienia pociskiem.",card_description_Kovac:"Kovacz zmniejsza liczbÄ™ gÅ‚osÃ³w oddanych za jego Å›mierciÄ… o 1. JeÅ›li Komunista uÅ¼yje swojej zdolnoÅ›ci, Kovacz traci tÄ™ funkcjÄ™.",card_description_Leech:"Pijawka kaÅ¼dej nocy wskazuje gracza, do ktÃ³rego siÄ™ przysysa. JeÅ›li gracz ten traci owej nocy ChmurostÄ…pa lub ginie, Pijawka zyskuje ChmurostÄ…pa. Pijawka moÅ¼e zostaÄ‡ zjedzona przez KobrÄ™.",card_description_MadGunman:"Szalony Strzelec kaÅ¼dej parzystej nocy oddaje jeden strzaÅ‚.",card_description_Mafia:"Mafioso moÅ¼e wygraÄ‡ grÄ™ poprzez eliminacjÄ™ wszystkich zwykÅ‚ych graczy, uÅ¼ywajÄ…c w tym celu pocisku kaÅ¼dej nocy. Aby Mafia wystrzeliÅ‚a, wszyscy Mafiosi muszÄ… w nocy wskazaÄ‡ tego samego gracza. Aby ustaliÄ‡ kolejnoÅ›Ä‡ wskazywania, budzÄ… siÄ™ oni na poczÄ…tku pierwszej nocy.",card_description_Mage:"Mag kaÅ¼dej nocy wskazuje dwÃ³ch graczy, miÄ™dzy ktÃ³rymi tworzy jednokierunkowy tunel. JeÅ›li trafiony zostanie pierwszy wskazany gracz, pocisk wÄ™druje tunelem do drugiego.",card_description_Magnet:"Magnes kaÅ¼dej parzystej nocy wskazuje gracza, ktÃ³rego magnetyzuje. JeÅ›li obok namagnetyzowanego gracza przelatuje pocisk, zostaje on do niego przyciÄ…gniÄ™ty. Pocisk moÅ¼e zostaÄ‡ przyciÄ…gniÄ™ty przez namagnetyzowanego gracza tylko raz.",card_description_MassMurderer:"JeÅ›li Masowy Morderca zostanie skazany na powieszenie, strzela do wszystkich, ktÃ³rzy na niego gÅ‚osowali.",card_description_Matrix:"Matrix moÅ¼e raz na caÅ‚Ä… grÄ™ w nocy zmieniÄ‡ prawa fizyki â€“ przechwyciÄ‡ wszystkie pociski, ktÃ³re w niego trafiÄ…, i wypuÅ›ciÄ‡ je pod koniec nocy.",card_description_Meciar:"W gÅ‚osowaniu jego gÅ‚os liczy siÄ™ podwÃ³jnie. JeÅ›li Komunista uÅ¼yje swojej zdolnoÅ›ci, Mecziar traci tÄ™ funkcjÄ™.",card_description_Mirror:"Karta obronna uÅ¼ywana w przypadku trafienia pociskiem Mafii lub Szalonego Strzelca. Po rozbiciu ZwierciadÅ‚a pocisk wraca do gracza, od ktÃ³rego przyleciaÅ‚, chyba Å¼e ZwierciadÅ‚o zostaÅ‚o poplamione bÅ‚otem przez JoÅ¼ina z BaÅ¼in.",card_description_RopeWalker:"Karta obronna chroniÄ…ca przed Å›mierciÄ… na szubienicy.",card_description_Sand:"Gracz z kartÄ… Piasek kaÅ¼dej nocy wskazuje gracza, ktÃ³rego posypuje piaskiem. Piasek neutralizuje efekt Åšliny, czyniÄ…c gracza ponownie podatnym na trafienie. OchronÄ™ przed Piaskiem majÄ… gracze z MaskÄ… GazowÄ… (Szalony Strzelec 2, Mag 2 i Duch Bobo).",card_description_Slime:"Gracz z kartÄ… Åšlina kaÅ¼dej nocy wskazuje gracza, ktÃ³rego chce oÅ›liniÄ‡. OÅ›liniony gracz jest raz w nocy chroniony przed pociskiem Mafii, Szalonego Strzelca i Snajpera (pocisk zeÅ›lizguje siÄ™ z celu). Efekt Åšliny moÅ¼na zneutralizowaÄ‡ Piaskiem.",card_description_Sniper:"Snajper moÅ¼e raz na caÅ‚Ä… grÄ™ wskazaÄ‡ gracza, w ktÃ³rego strzela potÄ™Å¼nym pociskiem. Jest on tak silny, Å¼e rozbija nawet ZwierciadÅ‚o i leci dalej.",card_description_Sock:"Gracz ze SkarpetkÄ… moÅ¼e raz na caÅ‚Ä… grÄ™ w nocy rzuciÄ‡ SkarpetkÄ™ miÄ™dzy dwÃ³ch graczy, ktÃ³rzy zostajÄ… poraÅ¼eni jej zapachem. Przed zapachem Skarpetki chroni tylko Maska Gazowa, Doktor i ChmurostÄ…p. Szalony Strzelec 2, Mag 2 i Duch Bobo posiadajÄ… MaskÄ™ GazowÄ….",card_description_Spyglass:"Luneta budzi siÄ™ pod koniec kaÅ¼dej trzeciej nocy (zaczynajÄ…c od drugiej) i dowiaduje siÄ™ od Konferansjera, ktÃ³rzy gracze obudzili siÄ™ tej nocy.",card_description_SwampMonster:"JoÅ¼in z BaÅ¼in moÅ¼e trzy razy w ciÄ…gu caÅ‚ej gry wskazaÄ‡ w nocy gracza, ktÃ³remu poplami ZwierciadÅ‚o. Pocisk rozbija poplamione bÅ‚otem ZwierciadÅ‚o, ale leci dalej. JoÅ¼in moÅ¼e uÅ¼yÄ‡ swojej zdolnoÅ›ci wielokrotnie tej samej nocy. JeÅ›li gracz posiada rÃ³wnieÅ¼ kartÄ™ Mafiosa, Snajpera lub Szalonego Strzelca, moÅ¼e poplamiÄ‡ ZwierciadÅ‚o tylko dwa razy.",card_description_Terrorist:'Terrorysta moÅ¼e raz na caÅ‚Ä… grÄ™ w ciÄ…gu dnia uÅ¼yÄ‡ swojej zdolnoÅ›ci, mÃ³wiÄ…c "Bomba!", po czym strzela do wszystkich graczy.',card_description_TimeLord:'Pan Czasu moÅ¼e raz na caÅ‚Ä… grÄ™ na poczÄ…tku dnia lub nocy powiedzieÄ‡ "Jestem Panem czasu!" i przeskoczyÄ‡ caÅ‚y dzieÅ„ lub noc.',app_title:"MafiaÂ²",app_continue_game:"Kontynuuj grÄ™",app_continue_round:"Runda {round}",app_new_game:"Nowa gra",nav_game:"Gra",nav_players:"Gracze",nav_logs:"Raporty",nav_rules:"Zasady",nav_cards:"Karty",nav_settings:"Ustawienia",nav_my_cards:"Moje karty",nav_all_cards:"Wszystkie karty",player_link_invalid:"NieprawidÅ‚owy link gracza. PoproÅ› prowadzÄ…cego o nowy.",rules_header_title:"ReguÅ‚y",rules_missing_language:"Brak przetÅ‚umaczonych reguÅ‚ dla wybranego jÄ™zyka.",logs_heading:"Dziennik nocy i dnia",logs_subheading:"Pokazywany raport nocy i dnia #{round}",logs_round_label:"Runda",logs_view_label:"Widok",logs_public_report_title:"Raport publiczny",logs_public_report_placeholder:"Raport publiczny pojawi siÄ™ na poczÄ…tku dnia.",logs_round_title:"Dziennik rundy",logs_round_empty:"Brak wpisÃ³w dla tej rundy.",logs_panel_title:"Historia gry",logs_panel_empty:"Brak wpisÃ³w w dzienniku.",cards_collection_title:"Kolekcja kart",cards_placeholder_description:"Opis w przygotowaniu.",cards_toggle_icons:"Ikony",cards_toggle_images:"Grafiki",player_add_card_title:"Dodaj zdobytÄ… kartÄ™",player_add_card_button:"Dodaj kartÄ™",player_add_card_type_label:"Typ karty",player_add_card_instance_label:"Numer karty",player_add_card_submit:"Dodaj kartÄ™",player_add_card_duplicate:"Ta karta jest juÅ¼ na liÅ›cie.",settings_language_title:"JÄ™zyk aplikacji",settings_language_active:"Aktywny",settings_title:"Ustawienia",settings_player_node_size:"WielkoÅ›Ä‡ pionkÃ³w graczy",settings_reset_player_size:"PrzywrÃ³Ä‡ domyÅ›lny rozmiar",settings_player_node_hint:"UÅ‚atwia trafianie w okrÄ…gÅ‚e znaczniki na duÅ¼ych stoÅ‚ach.",settings_bullet_speed:"PrÄ™dkoÅ›Ä‡ pociskÃ³w",settings_bullet_speed_fast:"Szybciej",settings_bullet_speed_slow:"Wolniej",settings_bullet_speed_hint:"Steruje tempem animacji nocnych strzaÅ‚Ã³w.",settings_storage_title:"PamiÄ™Ä‡",settings_export_data_button:"Eksportuj dane gry",settings_import_data_button:"Importuj z pliku",settings_import_warning:"Import zastÄ™puje bieÅ¼Ä…cÄ… rozgrywkÄ™.",settings_import_error:"Nie udaÅ‚o siÄ™ wczytaÄ‡ zapisu. SprawdÅº plik i sprÃ³buj ponownie.",gm_players_title:"Gracze ({count})",gm_players_badge_mafia:"Mafia",gm_players_no_cards:"Brak kart",gm_players_share_button:"UdostÄ™pnij",gm_players_qr_button:"Kod QR",gm_players_qr_instruction:"Zeskanuj kod, aby otworzyÄ‡ widok gracza.",gm_players_qr_generating:"Generowanie kodu QRâ€¦",gm_players_copy_link_instead:"Skopiuj link zamiast tego",gm_players_manual_copy_title:"Skopiuj link rÄ™cznie",gm_players_manual_copy_fallback:"UdostÄ™pnianie jest niedostÄ™pne na tym urzÄ…dzeniu. Skopiuj link i wyÅ›lij go do {name}.",gm_players_manual_copy_label:"Link",gm_players_manual_copy_copy:"Skopiuj link",gm_players_manual_copy_close:"Zamknij",gm_players_share_insecure:"UdostÄ™pnianie dziaÅ‚a tylko przez HTTPS (lub localhost). Skopiuj link lub otwÃ³rz aplikacjÄ™ przez https://.",gm_players_share_unsupported:"Ta przeglÄ…darka nie obsÅ‚uguje przycisku UdostÄ™pnij. Skopiuj link poniÅ¼ej.",gm_players_share_failure_reason:"UdostÄ™pnianie nie powiodÅ‚o siÄ™ na tym urzÄ…dzeniu. Skopiuj link rÄ™cznie.",gm_players_share_title:"{player} â€” link gracza",gm_players_copy_success:"Link do gracza {player} skopiowany! WyÅ›lij go tej osobie.",gm_players_qr_error:"Nie moÅ¼na wygenerowaÄ‡ kodu QR. Link zostaÅ‚ skopiowany do schowka.",gm_players_modal_close_qr_aria:"Zamknij okno kodu QR",gm_players_modal_close_manual_aria:"Zamknij okno kopiowania",gm_players_share_mode_title:"Tryb udostÄ™pniania",gm_players_share_mode_hint:"Ukrywa karty i kolory Mafii podczas pokazywania kodÃ³w QR.",gm_players_share_mode_on:"WÅ‚Ä…czony",gm_players_share_mode_off:"WyÅ‚Ä…czony",gm_players_share_mode_cards_hidden:"Karty ukryte w trybie udostÄ™pniania.",victory_mafia:"Wygrywa Mafia.",victory_innocent:"Wygrywa Miasto.",log_start_game:"Nowa gra rozpoczÄ™ta.",log_player_activate:"{cardLabel} {player} uÅ¼yÅ‚ zdolnoÅ›ci.",start_day:"Rozpocznij dzieÅ„",start_night_intro:"Zapada noc, miasteczko zasypia...",first_night_message:"Mafia budzi siÄ™, by ustaliÄ‡ strategiÄ™.",wake_up:"Budzi siÄ™ {role}. Czy uÅ¼yje swojej funkcji?",wake_up_use_again:"Czy {role} chce uÅ¼yÄ‡ funkcji ponownie?",wake_up_shooter:"Budzi siÄ™ {role}. Do kogo chce strzeliÄ‡?",wake_up_mage_from:"Budzi siÄ™ {role}. Z ktÃ³rego gracza chce utworzyÄ‡ tunel?",wake_up_mage_to:"DokÄ…d {role} poprowadzi wyjÅ›cie z tunelu?",log_tunnel_duplicate:"{cardLabel} {player} chciaÅ‚ stworzyÄ‡ tunel {source}->{target}, ale taki juÅ¼ istnieje.",log_tunnel_atheist:`{cardLabel} {player} chciaÅ‚ uÅ¼yÄ‡ tunelu na graczu {target}, ale to ${p("Atheist","Ateista")}.`,log_tunnel_same_player:"{cardLabel} {player} nie moÅ¼e stworzyÄ‡ tunelu na tego samego gracza.",log_tunnel_created:"{cardLabel} {player} utworzyÅ‚ tunel {tunnelNumber} ({source} -> {target}).",wake_up_slime:"Budzi siÄ™ {role}. Kogo chce pokryÄ‡ Å›linÄ…?",log_action_slime:"{cardLabel} {player} pokryÅ‚ Å›linÄ… gracza {target}.",public_report_slime:"{name} ocieka Å›linÄ….",public_report_slime_multi:"{name} ocieka Å›linÄ… (x{count}).",wake_up_leech:"Budzi siÄ™ {role}. Do kogo chce siÄ™ przyssaÄ‡?",log_action_leech:"{cardLabel} {player} przyssaÅ‚ siÄ™ do gracza {target}.",public_report_leech_cloudwalker:`${p("Leech","Pijawka")} zdobywa ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,log_night_leech_cloudwalker:`{cardLabel} {player} zdobywa ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,wake_up_sand:"Budzi siÄ™ {role}. Kogo chce obsypaÄ‡ piaskiem?",log_action_sand:"{cardLabel} {player} obsypaÅ‚ piaskiem gracza {target}.",log_action_sand_fail:`{cardLabel} {player} chciaÅ‚ uÅ¼yÄ‡ ${p("Sand","Piasku")} na graczu {target}, ale ten posiada MaskÄ™ GazowÄ….`,public_report_sand:"{name} ma piasek w oczach.",public_report_sand_saved:`Maska Gazowa uchroniÅ‚a gracza przed ${p("Sand","Piaskiem")}.`,wake_up_cobra:"Budzi siÄ™ {role}. Kogo chce ukÄ…siÄ‡?",log_action_cobra:"{name} zostaÅ‚ ukÄ…szony.",public_report_cobra_cloudwalker:`${p("Cobra","Kobra")} zjada ${p("Leech","PijawkÄ™")} i zdobywa ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,log_night_cobra_cloudwalker:`{cardLabel} {player} poÅ¼era ${p("Leech","PijawkÄ™")} i zdobywa ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,wake_up_magnet:"Budzi siÄ™ {role}. Kogo chce namagnetyzowaÄ‡?",log_action_magnet:"{name} zostaÅ‚ namagnetyzowany.",wake_up_ghost:"Budzi siÄ™ {role}. Kogo chce uciszyÄ‡?",log_action_ghost:"{cardLabel} {player} odebraÅ‚ gÅ‚os graczowi {target}.",public_report_ghost_bobo:"{name} nie moÅ¼e dziÅ› mÃ³wiÄ‡.",wake_up_judge:"Budzi siÄ™ {role}. Komu chce odebraÄ‡ prawo gÅ‚osu?",log_action_judge:"{cardLabel} {player} odebraÅ‚ prawo gÅ‚osu graczowi {target}.",public_report_judge:"{name} nie moÅ¼e dziÅ› gÅ‚osowaÄ‡.",wake_up_swamp_monster:"Kogo chce ochlapaÄ‡ bÅ‚otem?",log_night_swamp_attack:"{cardLabel} {player} ochlapaÅ‚ bÅ‚otem gracza {target}.",wake_up_executioner_save:"Budzi siÄ™ {role}. Kogo chce uÅ‚askawiÄ‡ spod szubienicy?",wake_up_executioner_victim:"Kto ma trafiÄ‡ na szubienicÄ™ zamiast niego?",log_night_executioner_save:"{saved} jest chroniony przed wyrokiem, zamiast niego zginie {victim}.",wake_up_sock_first:"PomiÄ™dzy kogo rzuciÄ‡ SkarpetkÄ™? WskaÅ¼ pierwszego gracza.",wake_up_sock_second:"Teraz wskaÅ¼ sÄ…siada tego gracza.",log_action_sock_throw:`{cardLabel} {player} wycelowaÅ‚ ${p("Sock","SkarpetkÄ…")} miÄ™dzy graczy {first} i {second}.`,log_sock_throw_intro:`{cardLabel} {player} rzuciÅ‚ ${p("Sock","SkarpetkÄ™")} miÄ™dzy graczy {first} i {second}. `,log_sock_result_gasmask:"Maska Gazowa ocaliÅ‚a gracza {name}. ",log_sock_result_dead:"Gracz {name} byÅ‚ juÅ¼ martwy. ",log_sock_result_doctor:`${p("Doctor","Doktor")} ocaliÅ‚ gracza {name}. `,log_sock_result_cloudwalker:`Gracz {name} straciÅ‚ ${p("CloudWalker","ChmurostÄ…pa {num}")}. `,log_sock_result_death:"Gracz {name} opuszcza grÄ™. ",public_report_sock_used:`${p("Sock","Skarpetka")} zostaÅ‚a rzucona pomiÄ™dzy dwÃ³ch graczy. `,public_report_sock_first_gasmask:"Pierwszego gracza ocaliÅ‚a Maska Gazowa",public_report_sock_first_dead:"Pierwszy gracz byÅ‚ juÅ¼ martwy",public_report_sock_first_doctor:`Pierwszego gracza uratowaÅ‚ ${p("Doctor","Doktor")}`,public_report_sock_first_cloudwalker:`Pierwszy gracz straciÅ‚ ${p("CloudWalker","ChmurostÄ…pa {num}")}`,public_report_sock_first_death:"Pierwszy gracz, {name}, opuszcza naszÄ… grÄ™",public_report_sock_second_gasmask:", a drugiego ocaliÅ‚a Maska Gazowa.",public_report_sock_second_dead:", a drugi gracz byÅ‚ juÅ¼ martwy.",public_report_sock_second_doctor:`, a drugiego uratowaÅ‚ ${p("Doctor","Doktor")}.`,public_report_sock_second_cloudwalker:`, a drugi gracz straciÅ‚ ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,public_report_sock_second_death:", a drugi gracz, {name}, opuszcza naszÄ… grÄ™.",public_report_sock_first_only_suffix:".",wake_up_jailer:"Budzi siÄ™ {role}. Kogo wtrÄ…ca do wiÄ™zienia?",log_jailer_imprison:"{cardLabel} {player} wtrÄ…ciÅ‚ do wiÄ™zienia gracza {target}.",log_action_blocked_jailed:"{cardLabel} {player} siedzi w wiÄ™zieniu, wiÄ™c tej nocy nic siÄ™ nie wydarzy.",wake_up_doctor_heal_self:"Budzi siÄ™ {role}. Kogo chce uleczyÄ‡? (moÅ¼e siebie)",wake_up_doctor_heal_other:"Budzi siÄ™ {role}. Kogo chce uleczyÄ‡? (nie moÅ¼e siebie)",log_doctor_fail:`{cardLabel} {player} chciaÅ‚ uleczyÄ‡ {target}, ale cel nie zostanie uleczony, gdyÅ¼ ${p("Doctor","Doktor")} dziaÅ‚a w pojedynkÄ™ przeciw ${p("Mafia","Mafii")}.`,log_doctor_success:"{cardLabel} {player} wyleczy gracza {target}.",log_doctor_self_locked:"{cardLabel} {player} nie moÅ¼e uleczyÄ‡ siebie tej nocy.",wake_matrix_shot:"Budzi siÄ™ Matrix. W kogo chce strzeliÄ‡? (pocisk {current}/{total})",log_night_matrix_activate:"PodÄ…Å¼aj za biaÅ‚ym krÃ³likiem... ({cardLabel} {player} uÅ¼yÅ‚ zdolnoÅ›ci.)",log_night_matrix_bullet_summary:`IloÅ›Ä‡ pociskÃ³w, ktÃ³re ${p("Matrix","Matrix")} {player} przechwyciÅ‚ tej nocy: {count}.`,wake_up_spyglass:"Budzi siÄ™ Luneta. Czy dowiedziaÅ‚a siÄ™, kto byÅ‚ aktywny tej nocy?",spyglass_reveal_intro:"Tej nocy budzili siÄ™: {names}.",spyglass_reveal_none:"Tej nocy nikt siÄ™ nie obudziÅ‚.",log_mafia_jailed:`{cardLabel} {player} przebywa w wiÄ™zieniu, wiÄ™c ${p("Mafia","Mafia")} nie odda strzaÅ‚u.`,log_mafia_no_consensus:`${p("Mafia","Mafiosi")} nie byli zgodni co do celu, wiÄ™c tej nocy nikt nie strzeliÅ‚.`,log_shoot:"{cardLabel} {player} strzela do gracza {target}.",log_shooter_aim:"{cardLabel} {player} celuje w gracza {target}.",ui_timelord_skip_night:"{cardLabel}: PomiÅ„ noc",ui_timelord_skip_day:"{cardLabel}: PomiÅ„ dzieÅ„",log_timelord_skip_day:"{cardLabel} {player} przeskoczyÅ‚ dzieÅ„.",log_timelord_skip_night:"{cardLabel} {player} przeskoczyÅ‚ noc.",log_day_vest_hit:`{target} traci ${p("KevlarVest","KamizelkÄ™ kuloodpornÄ… {num}")}.`,log_day_ropewalker_lost:`{target} traci ${p("RopeWalker","Linoskoczka {num}")}.`,log_day_immunity_lost:`{target} traci ${p("Immunity","Immunitet {num}")}.`,log_day_cloudwalker_lost:`{target} traci ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,log_day_death:"{target} ginie.",public_report_default:"Miasteczko Palermo budzi siÄ™.",public_report_matrix:`Tej nocy ${p("Matrix","Matrix")} uÅ¼yÅ‚ swej funkcji. IloÅ›Ä‡ pociskÃ³w ktÃ³re przechwyciÅ‚: {count}.`,public_report_cloudwalker_gain:`{cardLabel} zdobywa ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,public_report_glazier_mirror:`${p("Glazier","Szklarz")} tworzy ${p("Mirror","ZwierciadÅ‚o {num}")}.`,log_night_cloudwalker_gain:`{cardLabel} {player} zdobywa ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,log_night_glazier_mirror:`{cardLabel} {player} tworzy ${p("Mirror","ZwierciadÅ‚o {num}")}.`,public_report_bullet_start:"PadÅ‚ strzaÅ‚",public_report_bullet_dead_target:", lecz trafiÅ‚ w martwego gracza.",public_report_bullet_matrix_catch:` i ${p("Matrix","Matrix")} go pochwyciÅ‚.`,public_report_bullet_magnet:`, zostaÅ‚ przyciÄ…gniÄ™ty ${p("Magnet","Magnesem")}`,public_report_bullet_split:", rozszczepiajÄ…c siÄ™ na {count} czÄ™Å›ci.",public_report_bullet_tunnel_single:", przeleciaÅ‚ tunelem",public_report_bullet_tunnel_segment:" {index}. odÅ‚amek przeleciaÅ‚ tunelem",public_report_bullet_slime:` i pocisk zeÅ›lizgnÄ…Å‚ siÄ™ po ${p("Slime","Åšlinie")}.`,public_report_bullet_al_capone:`, lecz ${p("AlCapone","Al Capone")} zneutralizowaÅ‚ zagroÅ¼enie.`,public_report_bullet_doctor:`, lecz ${p("Doctor","Doktor")} zneutralizowaÅ‚ pocisk.`,public_report_bullet_mirror_break:`, pÄ™kÅ‚o ${p("Mirror","ZwierciadÅ‚o {num}")}`,public_report_bullet_return:", pocisk wrÃ³ciÅ‚",public_report_bullet_continue:", kula leci dalej",public_report_bullet_vest_loss:` i ${p("KevlarVest","Kamizelka kuloodporna {num}")} zostaÅ‚a zniszczona.`,public_report_bullet_cloudwalker_loss:` i zmarÅ‚ ${p("CloudWalker","ChmurostÄ…p {num}")}.`,public_report_bullet_death:" i naszÄ… grÄ™ opuszcza {name}.",log_night_bullet_start:"{cardLabel} {shooter} strzela do gracza {target}. ",log_night_bullet_start_generic:"PadÅ‚ strzaÅ‚ w kierunku {target}. ",log_night_bullet_split:"Pocisk rozszczepiÅ‚ siÄ™ na {count} czÄ™Å›ci.",log_night_bullet_dead_target:" i trafia w martwego gracza {target}.",log_night_bullet_matrix_catch:` i ${p("Matrix","Matrix")} {target} go pochwyciÅ‚.`,log_night_bullet_magnet_initial:`Pocisk zostaÅ‚ przyciÄ…gniÄ™ty ${p("Magnet","Magnesem")} do gracza {target}`,log_night_bullet_magnet:`, zostaÅ‚ przyciÄ…gniÄ™ty ${p("Magnet","Magnesem")} do gracza {target}`,log_night_bullet_magnet_dead:` i trafia w martwego gracza {target} (efekt ${p("Magnet","Magnesu")}).`,log_night_bullet_tunnel_initial:"Pocisk przeleciaÅ‚ tunelem {num} ({src} -> {target})",log_night_bullet_tunnel_single:", przeleciaÅ‚ tunelem {num} ({src} -> {target})",log_night_bullet_tunnel_segment:" {index}. odÅ‚amek przeleciaÅ‚ tunelem {num} ({src} -> {target})",log_night_bullet_slime_initial:`Pocisk zeÅ›lizguje siÄ™ po ${p("Slime","Åšlinie")} z gracza {target}.`,log_night_bullet_slime:` i zeÅ›lizguje siÄ™ po ${p("Slime","Åšlinie")} z gracza {target}.`,log_night_bullet_al_capone_initial:`${p("AlCapone","Al Capone")} {target} neutralizuje pocisk.`,log_night_bullet_al_capone:` i ${p("AlCapone","Al Capone")} {target} go neutralizuje.`,log_night_bullet_doctor_initial:`${p("Doctor","Doktor")} uratowaÅ‚ gracza {target}.`,log_night_bullet_doctor:` i gracz {target} zostaÅ‚ wyleczony przez ${p("Doctor","Doktora")}.`,log_night_bullet_mirror_break_initial:`Pocisk rozbija ${p("Mirror","ZwierciadÅ‚o {num}")} u gracza {target}`,log_night_bullet_mirror_break:`, u gracza {target} pÄ™kÅ‚o ${p("Mirror","ZwierciadÅ‚o {num}")}`,log_night_bullet_return:", pocisk wrÃ³ciÅ‚ do {target}",log_night_bullet_continue_sniper:`, lecz pocisk leci dalej, gdyÅ¼ ${p("Mirror","ZwierciadÅ‚o")} gracza {target} nie odbija strzaÅ‚Ã³w ${p("Sniper","Snajpera")},`,log_night_bullet_continue_matrix:`, lecz pocisk leci dalej, gdyÅ¼ ${p("Mirror","ZwierciadÅ‚o")} gracza {target} nie zatrzymuje strzaÅ‚Ã³w ${p("Matrix","Matrixa")},`,log_night_bullet_continue_mud:`, lecz pocisk leci dalej, gdyÅ¼ ${p("Mirror","ZwierciadÅ‚o")} gracza {target} byÅ‚o zabÅ‚ocone,`,log_night_bullet_vest_loss_initial:`Pocisk niszczy ${p("KevlarVest","KamizelkÄ™ kuloodpornÄ… {num}")} gracza {target}.`,log_night_bullet_vest_loss:` i {target} traci ${p("KevlarVest","KamizelkÄ™ kuloodpornÄ… {num}")}.`,log_night_bullet_cloudwalker_loss_initial:`Pocisk odbiera ${p("CloudWalker","ChmurostÄ…pa {num}")} graczowi {target}.`,log_night_bullet_cloudwalker_loss:` i {target} traci ${p("CloudWalker","ChmurostÄ…pa {num}")}.`,log_night_bullet_death_initial:"Pocisk zabija gracza {name}.",log_night_bullet_death:" i {name} ginie.",log_night_bullet_gandalf_from_horse:` ${p("Gandalf","Gandalf")} {gandalf} zyskuje ${p("CloudWalker","ChmurostÄ…pa {num}")} (strata ${p("HorsePiece","KawaÅ‚a Konia")} {horse}: {lost}).`,log_night_bullet_horsepiece_from_gandalf:` ${p("HorsePiece","KawaÅ‚ Konia")} {horse} zyskuje ${p("CloudWalker","ChmurostÄ…pa {num}")} (strata ${p("Gandalf","Gandalfa")} {gandalf}: {lost}).`,ui_confirm:"Tak",ui_deny:"Nie",ui_undo:"Cofnij",ui_bomb:"Bomba!",ui_next_phase:"Dalej",ui_replay_bullets:"PowtÃ³rz animacjÄ™",ui_bullet_replay:"Odtwarzanie przebiegu strzaÅ‚Ã³w...",ui_first_night_done:"Koniec narady Mafii",ui_start_night:"Zacznij noc",ui_player_label:"Gracz: {name}",ui_player_jailed_notice:"Gracz {name} jest w wiÄ™zieniu â€” pokaÅ¼ mu skrzyÅ¼owane rÄ™ce ğŸ™….",ui_anarchist_baby:"I shoot you baby!",ui_astronomer_night:"Noc!",ui_communist_equal:"Wszyscy rÃ³wni!",ui_special_no_owner:"Brak wÅ‚aÅ›ciciela",day_action_vote:"PrzegÅ‚osowany",day_prompt_vote:"WskaÅ¼ gracza, ktÃ³ry zostaÅ‚ przegÅ‚osowany.",day_prompt_shot:"Anarchista oddaje strzaÅ‚. Wybierz cel.",day_prompt_mass_murderer_select:"Masowy Morderca strzela do swoich oskarÅ¼ycieli. Zaznacz graczy i potwierdÅº.",day_idle_message:"Trwa dzieÅ„. UÅ¼yj dostÄ™pnych akcji.",day_report_confirm:"ZatwierdÅº raport",public_report_day_player_left:"NaszÄ… grÄ™ opuszcza {name}.",public_report_day_ropewalker_lost:`${p("RopeWalker","Linoskoczek {num}")} utracony.`,public_report_day_cloudwalker_lost:`${p("CloudWalker","ChmurostÄ…p {num}")} utracony.`,public_report_day_kevlar_lost:`${p("KevlarVest","Kamizelka kuloodporna {num}")} zniszczona.`,public_report_day_immunity_lost:`${p("Immunity","Immunitet {num}")} zuÅ¼yty.`,ui_mass_murderer_target:"Skazany: {name}",ui_mass_murderer_selected:"Wybrano: {count}",ui_mass_murderer_confirm:"Oddaj strzaÅ‚y",warn_anarchist_unavailable:"Anarchista nie moÅ¼e juÅ¼ strzelaÄ‡.",warn_terrorist_unavailable:"Terrorysta nie moÅ¼e juÅ¼ odpaliÄ‡ bomby.",warn_bomb_day_only:"Bomby moÅ¼na uÅ¼yÄ‡ tylko w dzieÅ„.",warn_astronomer_unavailable:"Astronom nie moÅ¼e juÅ¼ zakoÅ„czyÄ‡ dnia.",warn_astronomer_day_only:"Astronom dziaÅ‚a tylko w trakcie dnia.",warn_communist_unavailable:"Komunista nie moÅ¼e juÅ¼ uÅ¼yÄ‡ swojej zdolnoÅ›ci.",warn_communist_day_only:"Komunista dziaÅ‚a tylko w dzieÅ„.",log_day_vote:"Gracz {target} zostaÅ‚ przegÅ‚osowany.",log_day_shot:`${p("Anarchist","Anarchista")} {actor} postrzeliÅ‚ {target}.`,log_day_bomb:`${p("Terrorist","Terrorysta")} {player} detonuje bombÄ™!`,log_day_astronomer:`${p("Astronomer","Astronom")} {player} koÅ„czy dzieÅ„.`,log_day_communist:`${p("Communist","Komunista")} {player} wprowadza rÃ³wnoÅ›Ä‡.`,log_day_mass_murderer_trigger:`${p("MassMurderer","Masowy Morderca")} {target} siÄ™ga po broÅ„ przed wyrokiem.`,log_day_mass_murderer_shot:`${p("MassMurderer","Masowy Morderca")} {player} zabija {target}.`,log_divider_night_start:"Noc {round} zaczyna siÄ™.",log_divider_night_end:"Noc {round} dobiega koÅ„ca.",log_divider_day_start:"DzieÅ„ {round} zaczyna siÄ™.",log_divider_day_end:"DzieÅ„ {round} dobiega koÅ„ca.",setup_next:"Dalej",setup_remove:"Aby poprawnie rozdaÄ‡ role, musisz usunÄ…Ä‡ kilka kart...",setup_step_count:"Liczba graczy",setup_step_mafia:"Liczba kart Mafii",setup_mafia_description:"Wybierz, ile kart Mafii znajdzie siÄ™ w talii ({min} - {max}).",setup_mafia_label:"Karty Mafii w talii",setup_mafia_recommended:"Sugerowana wartoÅ›Ä‡ dla {players} graczy: {count}",setup_step_names:"Imiona",setup_step_balance:"Balans gry",setup_balance_instruction:"Aby wyrÃ³wnaÄ‡ taliÄ™, usuÅ„ {remove} kart lub dodaj {add}.",setup_remove_instruction:"Musisz usunÄ…Ä‡ {count} kart, aby wyrÃ³wnaÄ‡ taliÄ™.",setup_cards_remaining:"Do usuniÄ™cia",setup_cards_missing:"Brakuje kart",setup_cards_total:"ÅÄ…cznie kart w talii: {count}",setup_cards_minimum:"Dodaj jeszcze {missing}, aby kaÅ¼dy gracz dostaÅ‚ co najmniej jednÄ… kartÄ™.",setup_start_game:"Rozpocznij grÄ™"},m=(e,a)=>a?`{{card:${e}|${a}}}`:`{{card:${e}}}`,_r=[{title:"O hÅ™e",blocks:[{kind:"paragraph",text:"Mafie je spoleÄenskÃ¡ hra urÄenÃ¡ pro 2â€“20 osob."},{kind:"paragraph",text:`HrÃ¡Äi se dÄ›lÃ­ na dvÄ› frakce: ${m("Mafia","MafiÃ¡ny")} a MÄ›sto (bÄ›Å¾nÃ­ obÄanÃ©). ${m("Mafia","Mafie")} vyhrÃ¡vÃ¡, kdyÅ¾ eliminuje vÅ¡echny obÄany, zatÃ­mco MÄ›sto vÃ­tÄ›zÃ­, jakmile se zbavÃ­ ${m("Mafia","Mafie")}.`},{kind:"paragraph",text:"Hra je zaloÅ¾ena na dedukci, blafovÃ¡nÃ­ a Å¡ikovnÃ©m vyuÅ¾Ã­vÃ¡nÃ­ schopnostÃ­ karet."}]},{title:"ZaÄÃ¡tek hry",blocks:[{kind:"paragraph",text:"Na zaÄÃ¡tku partie obdrÅ¾Ã­ kaÅ¾dÃ½ hrÃ¡Ä stejnÃ½ poÄet karet."},{kind:"paragraph",text:"PÅ™ed prvnÃ­ nocÃ­ by se hrÃ¡Äi mÄ›li seznÃ¡mit s funkcemi svÃ½ch noÄnÃ­ch karet."},{kind:"paragraph",text:`SystÃ©m rozdÃ¡vÃ¡nÃ­ karet mÃ¡ pojistky proti extrÃ©mnÄ› nespravedlivÃ½m kombinacÃ­m (napÅ™. pÅ™idÄ›lenÃ­ vÅ¡ech ${m("CloudWalker","MrÃ¡koÅ¡lapÅ¯")} jednomu hrÃ¡Äi). Podrobnosti naleznete v sekci â€Pravidla vyvÃ¡Å¾enÃ­ karetâ€œ.`}]},{title:"Noc",blocks:[{kind:"paragraph",text:"KdyÅ¾ ModerÃ¡tor vyhlÃ¡sÃ­ noc, vÅ¡ichni hrÃ¡Äi zavÅ™ou oÄi. NÃ¡slednÄ› moderÃ¡tor postupnÄ› vyvolÃ¡vÃ¡ aktivnÃ­ postavy a ptÃ¡ se na pouÅ¾itÃ­ schopnostÃ­ a vÃ½bÄ›r cÃ­le. ProbuzenÃ­ hrÃ¡Äi odpovÃ­dajÃ­ tiÅ¡e pomocÃ­ gest hlavou nebo rukama."},{kind:"paragraph",text:"Noci se dÄ›lÃ­ na sudÃ© a lichÃ© â€“ na poÅ™adÃ­ noci zÃ¡visÃ­, kterÃ© karty se budÃ­ a v jakÃ©m poÅ™adÃ­."},{kind:"paragraph",text:"PodrobnÃ© schÃ©ma buzenÃ­ noÄnÃ­ch a dennÃ­ch rolÃ­ naleznete v sekci â€PoÅ™adÃ­ buzenÃ­â€œ."}],subsections:[{title:`PrvnÃ­ noc - porada ${m("Mafia","Mafie")}`,blocks:[{kind:"paragraph",text:`Na zaÄÃ¡tku prvnÃ­ noci moderÃ¡tor vzbudÃ­ celou ${m("Mafia","Mafii")}. Je to jedinÃ½ okamÅ¾ik, kdy se mohou ${m("Mafia","MafiÃ¡ni")} beze slov dohodnout na strategii a poÅ™adÃ­ eliminace. Po skonÄenÃ­ porady si ${m("Mafia","Mafie")} opÄ›t zakryje oÄi a zaÄÃ­nÃ¡ standardnÃ­ noÄnÃ­ sekvence.`}]}]},{title:"Den",blocks:[{kind:"paragraph",text:"RÃ¡no se mÄ›sto probouzÃ­, hrÃ¡Äi otevÃ­rajÃ­ oÄi a ModerÃ¡tor pÅ™ednese hlÃ¡Å¡enÃ­ z noci."},{kind:"paragraph",text:"EliminovanÃ­ hrÃ¡Äi konÄÃ­ svou ÃºÄast ve hÅ™e â€“ od tÃ©to chvÃ­le nemohou mluvit ani se ÃºÄastnit hlasovÃ¡nÃ­."},{kind:"list",ordered:!0,title:"PrÅ¯bÄ›h dne:",items:["ModerÃ¡tor pÅ™eÄte zprÃ¡vu o noÄnÃ­ch udÃ¡lostech.",`HrÃ¡Äi vznÃ¡Å¡ejÃ­ obvinÄ›nÃ­ proti osobÃ¡m podezÅ™elÃ½m z pÅ™Ã­sluÅ¡nosti k ${m("Mafia","Mafii")} s cÃ­lem odsoudit je k smrti na Å¡ibenici.`,`ObvinÄ›nÃ­ hrÃ¡Äi pronÃ¡Å¡ejÃ­ obhajobu a snaÅ¾Ã­ se pÅ™esvÄ›dÄit ostatnÃ­ o svÃ© nevinÄ›. Pokud ${m("GhostBobo","Duch Bobo")} nÄ›kterÃ©mu z obvinÄ›nÃ½ch odebral hlas, tento hrÃ¡Ä urÄÃ­ osobu (advokÃ¡ta), jejÃ­mÅ¾ Ãºkolem je obhajovat obvinÄ›nÃ©ho pomocÃ­ tlumoÄenÃ­ jeho mimiky a gest.`,`ModerÃ¡tor vyjmenuje obvinÄ›nÃ©. Je-li kandidÃ¡t pouze jeden, hlasuje se dvakrÃ¡t: nejprve pro a potÃ© proti jeho popravÄ›. Je-li kandidÃ¡tÅ¯ vÃ­ce, hlasuje se postupnÄ› pouze pro smrt kaÅ¾dÃ©ho z nich. PÅ™i kaÅ¾dÃ©m hlasovÃ¡nÃ­ moderÃ¡tor odpoÄÃ­tÃ¡vÃ¡: â€Kdo hlasuje [volba], zvednÄ›te ruku za tÅ™i, dva, jedna.â€œ Hlasovat mohou vÅ¡ichni (vÄetnÄ› obvinÄ›nÃ½ch), ledaÅ¾e jim ${m("Judge","Soudce")} toto prÃ¡vo odebral.`," Jakmile skonÄÃ­ hlasovÃ¡nÃ­, mÄ›sto jde spÃ¡t."]},{kind:"paragraph",text:`NÄ›kterÃ© role upravujÃ­ sÃ­lu hlasu: hlas ${m("Meciar","MeÄiara")} se poÄÃ­tÃ¡ dvakrÃ¡t, zatÃ­mco poÄet hlasÅ¯ pro smrt ${m("Kovac","KovÃ¡Äe")} se sniÅ¾uje o jeden. ${m("Communist","Komunista")} mÅ¯Å¾e jednou za hru zruÅ¡it privilegia ${m("Meciar","MeÄiara")}, ${m("Kovac","KovÃ¡Äe")}, ${m("Judge","Soudce")} a cenzuru ${m("GhostBobo","Ducha Bobo")}, ÄÃ­mÅ¾ srovnÃ¡ prÃ¡va vÅ¡ech hrÃ¡ÄÅ¯.`},{kind:"paragraph",text:`ModerÃ¡tor poÄÃ­tÃ¡ hlasy ruÄnÄ› a sÃ¡m zohledÅˆuje bonus ${m("Meciar","MeÄiara")} a modifikÃ¡tor ${m("Kovac","KovÃ¡Äe")}. Aplikace pouze zobrazuje ikony u pÅ™Ã­sluÅ¡nÃ½ch rolÃ­, takÅ¾e moderÃ¡tor musÃ­ vÃ½sledek sÃ¡m upravit.`},{kind:"paragraph",text:"V pÅ™Ã­padÄ› remÃ­zy mohou dotÄenÃ­ kandidÃ¡ti pronÃ©st zÃ¡vÄ›reÄnou obhajobu, pokud si to pÅ™ejÃ­. NÃ¡sleduje mezi nimi rozhodujÃ­cÃ­ hlasovÃ¡nÃ­ stejnÃ½m zpÅ¯sobem jako pÅ™edtÃ­m. Pokud dojde k druhÃ© remÃ­ze, hlasovÃ¡nÃ­ okamÅ¾itÄ› konÄÃ­ a nikdo nenÃ­ popraven."},{kind:"paragraph",text:`PÅ™ed vyhlÃ¡Å¡enÃ­m koneÄnÃ©ho rozsudku mÅ¯Å¾e ${m("Astronomer","Astronom")} pouÅ¾Ã­t svou schopnost k okamÅ¾itÃ©mu ukonÄenÃ­ dne bez smrti odsouzenÃ©ho.`}]},{title:"ObrannÃ¡ pravidla",blocks:[{kind:"paragraph",text:`HrÃ¡Äi majÃ­ moÅ¾nosti obrany proti smrti, kterÃ© se aktivujÃ­ automaticky. PouÅ¾itÃ­ karty ${m("CloudWalker","MrÃ¡koÅ¡lap")}, ${m("Immunity","Imunita")}, ${m("KevlarVest","Kevlar")}, ${m("Mirror","Zrcadlo")} nebo ${m("RopeWalker","Provazochodec")} zpÅ¯sobÃ­ jejÃ­ nevratnou ztrÃ¡tu.`}],subsections:[{title:"Tunel",blocks:[{kind:"paragraph",text:"Pokud je zasaÅ¾en prvnÃ­ oznaÄenÃ½ hrÃ¡Ä, kulka se pÅ™esune tunelem k druhÃ©mu. Pokud od jednoho hrÃ¡Äe vede vÃ­ce tunelÅ¯, kulka se rozdÄ›lÃ­ na Ãºlomky, kterÃ© proletÃ­ vÅ¡emi tunely (se zachovÃ¡nÃ­m vlastnostÃ­ normÃ¡lnÃ­ kulky). Kulka ani Ãºlomky nemohou proletÄ›t stejnÃ½m tunelem dvakrÃ¡t. V pÅ™Ã­padÄ› existence dvou nebo tÅ™Ã­ tunelÅ¯ vedoucÃ­ch stejnÃ½m smÄ›rem mezi tÃ½miÅ¾ hrÃ¡Äi se kulka nedÄ›lÃ­, ale letÃ­ tunelem vytvoÅ™enÃ½m nejdÅ™Ã­ve."}]},{title:"PlynovÃ¡ maska",blocks:[{kind:"paragraph",text:`DrÅ¾itelÃ© karet ${m("Mage","MÃ¡g 2")}, ${m("MadGunman","Å Ã­lenÃ½ StÅ™elec 2")} a ${m("GhostBobo","Duch Bobo")} jsou vybaveni Plynovou maskou, kterÃ¡ chrÃ¡nÃ­ pÅ™ed ${m("Sand","PÃ­skem")} a zÃ¡pachem ${m("Sock","PonoÅ¾ky")}.`}]}]},{title:"ObrannÃ¡ pravidla â€“ noc",blocks:[{kind:"paragraph",text:`KaÅ¾dÃ½ noÄnÃ­ Ãºtok je ovÄ›Å™ovÃ¡n systÃ©mem ochran v urÄitÃ©m poÅ™adÃ­ â€“ aktivace jednÃ© z bariÃ©r pÅ™eruÅ¡Ã­ kontrolu ostatnÃ­ch. PÅ™ed seznamem priorit se vÅ¾dy kontroluje, zda ${m("Matrix")} nezachytil kulku.`},{kind:"paragraph",text:"Aplikace zpracovÃ¡vÃ¡ Ãºtoky podle nÃ­Å¾e uvedenÃ© hierarchie, ale poÅ™adÃ­ udÃ¡lostÃ­ v zÃ¡vÄ›reÄnÃ© zprÃ¡vÄ› je nÃ¡hodnÄ› promÃ­chÃ¡no, aby byla ztÃ­Å¾ena identifikace stÅ™elcÅ¯."}],subsections:[{title:`a) Kulka od ${m("Mafia","Mafie")}`,blocks:[{kind:"list",title:`StÅ™Ã­lÃ­ ${m("Mafia","MafiÃ¡n")} s nejvyÅ¡Å¡Ã­m ÄÃ­slem:`,ordered:!0,items:[m("Magnet","Magnet"),"Tunel",m("Mirror","Zrcadlo"),m("Slime","Slina"),m("AlCapone","Al Capone"),m("Doctor","Doktor"),m("KevlarVest","Kevlar"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]},{title:`b) Kulka od ${m("MadGunman","Å Ã­lenÃ©ho StÅ™elce")}`,blocks:[{kind:"list",ordered:!0,items:[m("Magnet","Magnet"),"Tunel",m("Mirror","Zrcadlo"),m("Slime","Slina"),m("Doctor","Doktor"),m("KevlarVest","Kevlar"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]},{title:`c) Kulka od ${m("Sniper","Snipera")}`,blocks:[{kind:"list",ordered:!0,items:[m("Magnet","Magnet"),"Tunel",m("Mirror","Zrcadlo"),m("Slime","Slina"),m("Doctor","Doktor"),m("KevlarVest","Kevlar"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]},{title:`d) ZÃ¡pach ${m("Sock","PonoÅ¾ky")}`,blocks:[{kind:"list",ordered:!0,items:["PlynovÃ¡ maska",m("Doctor","Doktor"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]},{title:`e) Kulka od ${m("Matrix","Matrixe")}`,blocks:[{kind:"list",ordered:!0,items:[m("KevlarVest","Kevlar"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]}]},{title:"ObrannÃ¡ pravidla â€“ den",blocks:[{kind:"paragraph",text:`Ve dne obrana takÃ© funguje automaticky a Å™eÅ¡Ã­ se pÅ™ed samotnou smrtÃ­ hrÃ¡Äe. Pokud ${m("BlindExecutioner","SlepÃ½ Kat")} urÄil nÃ¡hradnÃ­ obÄ›Å¥, k vÃ½mÄ›nÄ› cÃ­lÅ¯ dochÃ¡zÃ­ pÅ™ed pouÅ¾itÃ­m Å¡tÃ­tÅ¯.`}],subsections:[{title:"a) OdsouzenÃ­ pÅ™i hlasovÃ¡nÃ­",blocks:[{kind:"list",ordered:!0,items:[m("RopeWalker","Provazochodec"),m("Immunity","Imunita"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]},{title:`b) StÅ™elba ve dne (${m("Anarchist","Anarchista")}, ${m("MassMurderer","MasovÃ½ Vrah")}, ${m("Terrorist","Bomba")})`,blocks:[{kind:"list",ordered:!0,items:[m("Immunity","Imunita"),m("KevlarVest","Kevlar"),m("CloudWalker","MrÃ¡koÅ¡lap")]}]}]},{title:"PoÅ™adÃ­ buzenÃ­",blocks:[],subsections:[{title:"a) SudÃ© noci",blocks:[{kind:"paragraph",text:"V sudÃ© noci se postupnÄ› budÃ­:"},{kind:"list",items:[m("Jailer","Jailer"),m("Gravedigger","HrobaÅ™"),m("Matrix","Matrix"),m("Mage","MÃ¡govÃ©"),m("Slime","Slina"),m("Leech","Pijavice"),m("Sand","PÃ­sek"),m("Cobra","Kobra"),m("Magnet","Magnet"),m("GhostBobo","Duch Bobo"),m("Doctor","Doktor"),m("SwampMonster","JoÅ¾in z BaÅ¾in"),m("Mafia","Mafie"),m("MadGunman","Å Ã­lenÃ­ StÅ™elci"),m("Sniper","Sniper"),m("Sock","PonoÅ¾ka"),m("Judge","Soudce"),m("BlindExecutioner","SlepÃ½ Kat"),m("Matrix","StÅ™ela Matrixe")]}]},{title:"b) LichÃ© noci",blocks:[{kind:"paragraph",text:"V lichÃ© noci se postupnÄ› budÃ­:"},{kind:"list",items:[m("Gravedigger","HrobaÅ™"),m("Matrix","Matrix"),m("Mage","MÃ¡govÃ©"),m("Slime","Slina"),m("Leech","Pijavice"),m("Sand","PÃ­sek"),m("Doctor","Doktor"),m("SwampMonster","JoÅ¾in z BaÅ¾in"),m("Mafia","Mafie"),m("Sniper","Sniper"),m("Sock","PonoÅ¾ka"),m("BlindExecutioner","SlepÃ½ Kat"),m("Matrix","StÅ™ela Matrixe")]}]},{title:"c) DalÅ¡Ã­ noÄnÃ­ pravidla",blocks:[{kind:"paragraph",text:`Na konci kaÅ¾dÃ© tÅ™etÃ­ noci (poÄÃ­naje druhou) se budÃ­ ${m("Spyglass","Luneta")}, aby zjistila, kteÅ™Ã­ hrÃ¡Äi byli aktivnÃ­.`},{kind:"paragraph",text:`NÄ›kterÃ© role (napÅ™. ${m("Matrix")}) majÃ­ omezenÃ½ poÄet pouÅ¾itÃ­; po vyÄerpÃ¡nÃ­ nÃ¡bojÅ¯ je moderÃ¡tor pÅ™estane budit.`}]}]},{title:"Pravidla vyvÃ¡Å¾enÃ­ karet",blocks:[{kind:"paragraph",text:"Aby byla hra spravedlivÃ¡, aplikace uplatÅˆuje pÅ™i rozdÃ¡vÃ¡nÃ­ rolÃ­ nÃ¡sledujÃ­cÃ­ omezenÃ­:"},{kind:"list",items:[`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednu kartu ${m("Mafia","Mafie")}.`,`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednu kartu z dvojice ${m("Gandalf")} / ${m("HorsePiece","Kus KoÅˆa")}.`,`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednu kartu ze sady: ${m("Mage","MÃ¡g 2")} / ${m("MadGunman","Å Ã­lenÃ½ StÅ™elec 2")} / ${m("GhostBobo","Duch Bobo")}.`,`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednu kartu z dvojice ${m("Leech","Pijavice")} / ${m("Cobra")}.`,`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednoho ${m("MadGunman","Å Ã­lenÃ©ho StÅ™elce")}.`,`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednu kartu ${m("Slime","Sliny")}.`,`HrÃ¡Ä mÅ¯Å¾e mÃ­t pouze jednu kartu z dvojice ${m("Atheist","Ateista")} / ${m("Matrix")}.`,`HrÃ¡Ä s kartou ${m("Mafia","Mafie")} nemÅ¯Å¾e dostat ${m("Doctor","Doktora")} ani ${m("Spyglass","Lunetu")}.`,`HrÃ¡Ä mÅ¯Å¾e dostat maximÃ¡lnÄ› dva ${m("CloudWalker","MrÃ¡koÅ¡lapy")}.`,`HrÃ¡Ä mÅ¯Å¾e dostat maximÃ¡lnÄ› dva ${m("RopeWalker","Provazochodce")}.`,`HrÃ¡Ä s kartou ${m("Gravedigger","HrobaÅ™")}, ${m("Leech","Pijavice")}, ${m("AlCapone","Al Capone")}, ${m("Gandalf")} nebo ${m("HorsePiece","Kus KoÅˆa")} mÅ¯Å¾e dostat pouze jednoho ${m("CloudWalker","MrÃ¡koÅ¡lapa")}.`]}]}],gr={role_AlCapone:"Al Capone",role_Anarchist:"Anarchista",role_Astronomer:"Astronom",role_Atheist:"Ateista",role_BlindExecutioner:"SlepÃ½ Kat",role_CloudWalker:"MrÃ¡koÅ¡lap",role_Cobra:"Kobra",role_Communist:"Komunista",role_Doctor:"Doktor",role_Gandalf:"Gandalf",role_GhostBobo:"Duch Bobo",role_Glazier:"SklenÃ¡Å™",role_Gravedigger:"HrobaÅ™",role_HorsePiece:"Kus KoÅˆa",role_Immunity:"Imunita",role_Jailer:"Jailer",role_Judge:"Soudce",role_KevlarVest:"Kevlar",role_Kovac:"KovÃ¡Ä",role_Leech:"Pijavice",role_MadGunman:"Å Ã­lenÃ½ StÅ™elec",role_Mafia:"MafiÃ¡n",role_Magnet:"Magnet",role_MassMurderer:"MasovÃ½ Vrah",role_Matrix:"Matrix",role_Meciar:"MeÄiar",role_Mage:"MÃ¡g",role_Mirror:"Zrcadlo",role_RopeWalker:"Provazochodec",role_Sand:"PÃ­sek",role_Slime:"Slina",role_Sniper:"Sniper",role_Sock:"PonoÅ¾ka",role_Spyglass:"Luneta",role_SwampMonster:"JoÅ¾in z BaÅ¾in",role_Terrorist:"Terorista",role_TimeLord:"PÃ¡n ÄŒasu",card_description_AlCapone:"Al Capone jako kmotr Mafie je imunnÃ­ vÅ¯Äi jejÃ­m ÃºtokÅ¯m. Tato ochrana funguje pouze na pÅ™Ã­mÃ½ zÃ¡sah od Mafie, nechrÃ¡nÃ­ vÅ¡ak pÅ™ed kulkou pÅ™esmÄ›rovanou Tunelem, Magnetem nebo Zrcadlem.",card_description_Anarchist:'Anarchista mÅ¯Å¾e jednou za celou hru bÄ›hem dne pouÅ¾Ã­t svou schopnost zvolÃ¡nÃ­m "I shoot you baby!", naÄeÅ¾ vystÅ™elÃ­ na osobu, kterou si vybere.',card_description_Astronomer:'Astronom mÅ¯Å¾e jednou za celou hru bÄ›hem dne pouÅ¾Ã­t svou schopnost zvolÃ¡nÃ­m "Noc!", coÅ¾ okamÅ¾itÄ› ukonÄÃ­ den, i kdyÅ¾ prÃ¡vÄ› probÃ­hÃ¡ hlasovÃ¡nÃ­.',card_description_Atheist:"Tunel vytvoÅ™enÃ½ MÃ¡gem, kterÃ½ vede k Ateistovi, nefunguje. ModerÃ¡tor MÃ¡ga neinformuje o tom, Å¾e vytvoÅ™il tunel na Ateistu.",card_description_BlindExecutioner:"SlepÃ½ Kat mÅ¯Å¾e dvakrÃ¡t za hru v noci oznaÄit dva hrÃ¡Äe. Pokud by mÄ›l bÃ½t nÃ¡sledujÃ­cÃ­ den prvnÃ­ z oznaÄenÃ½ch hrÃ¡ÄÅ¯ obÄ›Å¡en, mÃ­sto nÄ›j zemÅ™e hrÃ¡Ä oznaÄenÃ½ jako druhÃ½.",card_description_CloudWalker:"MrÃ¡koÅ¡lap je zÃ¡kladnÃ­ obrannÃ¡ karta fungujÃ­cÃ­ jako Å¾ivot navÃ­c. SpotÅ™ebuje se, pokud hrÃ¡Ä nemÃ¡ jinou ochranu.",card_description_Cobra:"Kobra kaÅ¾dou sudou noc oznaÄÃ­ hrÃ¡Äe, o kterÃ©m si myslÃ­, Å¾e mÃ¡ kartu Pijavice. Pokud se trefÃ­, na konci noci zÃ­skÃ¡ MrÃ¡koÅ¡lapa a snÃ­ Pijavici (hrÃ¡Ä s touto kartou ztratÃ­ svÃ© schopnosti).",card_description_Communist:'Komunista mÅ¯Å¾e jednou za celou hru bÄ›hem dne pouÅ¾Ã­t svou schopnost zvolÃ¡nÃ­m "ObÄanÃ©, v tomto kole jsme si vÅ¡ichni rovni", ÄÃ­mÅ¾ na jeden den zruÅ¡Ã­ schopnosti MeÄiara, KovÃ¡Äe, Ducha Bobo a Soudce.',card_description_Doctor:"Doktor kaÅ¾dou noc oznaÄÃ­ hrÃ¡Äe, kterÃ©ho lÃ©ÄÃ­, ÄÃ­mÅ¾ ho jednorÃ¡zovÄ› ochrÃ¡nÃ­ pÅ™ed kulkou nebo zÃ¡pachem PonoÅ¾ky. KaÅ¾dou tÅ™etÃ­ noc (poÄÃ­naje prvnÃ­ nebo druhou) mÅ¯Å¾e vylÃ©Äit sÃ¡m sebe. Pokud Doktor zÅ¯stane sÃ¡m proti jednomu nebo vÃ­ce MafiÃ¡nÅ¯m a nemÅ¯Å¾e se vylÃ©Äit, je deaktivovÃ¡n.",card_description_Gandalf:"Pokud Kus KoÅˆa ztratÃ­ MrÃ¡koÅ¡lapa, zÃ­skÃ¡ ho Gandalf. BÄ›hem noci mÅ¯Å¾e takto zÃ­skat pouze jednoho MrÃ¡koÅ¡lapa.",card_description_Glazier:"Pokud SklenÃ¡Å™ nemÃ¡ Å¾Ã¡dnÃ© Zrcadlo a jinÃ©mu hrÃ¡Äi je v noci zniÄeno, SklenÃ¡Å™ ho zÃ­skÃ¡ na konci noci. BÄ›hem noci mÅ¯Å¾e obdrÅ¾et pouze jedno Zrcadlo.",card_description_GhostBobo:"Duch Bobo kaÅ¾dou sudou noc oznaÄÃ­ hrÃ¡Äe, kterÃ½ bude mÃ­t nÃ¡sledujÃ­cÃ­ den zÃ¡kaz mluvit (tento zÃ¡kaz mÅ¯Å¾e zruÅ¡it pouze Komunista). Pokud mÃ¡ obvinÄ›nÃ½ hrÃ¡Ä zÃ¡kaz mluvenÃ­ od Ducha Bobo, vybere si osobu, kterÃ¡ ho mÃ¡ obhajovat pÅ™eklÃ¡dÃ¡nÃ­m jeho mimiky a gest.",card_description_Gravedigger:"HrobaÅ™ mÅ¯Å¾e jednou za celou hru v noci vykopat hroby pro MrÃ¡koÅ¡lapy, dÃ­ky ÄemuÅ¾ na konci noci zÃ­skÃ¡ tolik MrÃ¡koÅ¡lapÅ¯, kolik jich tÃ© noci ztratili ostatnÃ­ hrÃ¡Äi.",card_description_HorsePiece:"Pokud Gandalf ztratÃ­ MrÃ¡koÅ¡lapa, zÃ­skÃ¡ ho Kus KoÅˆa. BÄ›hem noci mÅ¯Å¾e takto zÃ­skat pouze jednoho MrÃ¡koÅ¡lapa.",card_description_Immunity:"ObrannÃ¡ karta pouÅ¾Ã­vanÃ¡ v pÅ™Ã­padÄ› zÃ¡sahu kulkou ve dne nebo odsouzenÃ­ k smrti obÄ›Å¡enÃ­m.",card_description_Jailer:"Jailer mÅ¯Å¾e jednou za celou hru oznaÄit hrÃ¡Äe, kterÃ©ho uvrhne do vÄ›zenÃ­, ÄÃ­mÅ¾ zablokuje pÅ¯sobenÃ­ jeho schopnostÃ­ pro tuto noc. ModerÃ¡tor vzbudÃ­ uvÄ›znÄ›nÃ©ho hrÃ¡Äe, ale jasnÄ› mu signalizuje, Å¾e je ve vÄ›zenÃ­.",card_description_Judge:"Soudce kaÅ¾dou sudou noc oznaÄÃ­ hrÃ¡Äe, kterÃ½ bude mÃ­t nÃ¡sledujÃ­cÃ­ den zÃ¡kaz hlasovat. Komunista mÅ¯Å¾e tento zÃ¡kaz zruÅ¡it.",card_description_KevlarVest:"ObrannÃ¡ karta pouÅ¾Ã­vanÃ¡ v pÅ™Ã­padÄ› zÃ¡sahu kulkou.",card_description_Kovac:"KovÃ¡Ä sniÅ¾uje poÄet hlasÅ¯ odevzdanÃ½ch pro jeho smrt o 1. Pokud Komunista pouÅ¾ije svou schopnost, KovÃ¡Ä tuto funkci ztrÃ¡cÃ­.",card_description_Leech:"Pijavice kaÅ¾dou noc oznaÄÃ­ hrÃ¡Äe, ke kterÃ©mu se pÅ™isaje. Pokud tento hrÃ¡Ä tÃ© noci ztratÃ­ MrÃ¡koÅ¡lapa nebo zemÅ™e, Pijavice zÃ­skÃ¡ MrÃ¡koÅ¡lapa. Pijavice mÅ¯Å¾e bÃ½t snÄ›dena Kobrou.",card_description_MadGunman:"Å Ã­lenÃ½ StÅ™elec kaÅ¾dou sudou noc jednou vystÅ™elÃ­.",card_description_Mafia:"MafiÃ¡n mÅ¯Å¾e vyhrÃ¡t hru eliminacÃ­ vÅ¡ech bÄ›Å¾nÃ½ch hrÃ¡ÄÅ¯ pouÅ¾Ã­vÃ¡nÃ­m kulky kaÅ¾dou noc. Aby Mafie vystÅ™elila, musÃ­ vÅ¡ichni MafiÃ¡ni v noci oznaÄit stejnÃ©ho hrÃ¡Äe. Pro urÄenÃ­ poÅ™adÃ­ oznaÄovÃ¡nÃ­ se budÃ­ na zaÄÃ¡tku prvnÃ­ noci.",card_description_Mage:"MÃ¡g kaÅ¾dou noc oznaÄÃ­ dva hrÃ¡Äe a vytvoÅ™Ã­ mezi nimi jednosmÄ›rnÃ½ tunel (z prvnÃ­ho na druhÃ©ho). Pokud je zasaÅ¾en prvnÃ­ oznaÄenÃ½ hrÃ¡Ä, kulka putuje tunelem k druhÃ©mu.",card_description_Magnet:"Magnet kaÅ¾dou sudou noc oznaÄÃ­ hrÃ¡Äe, kterÃ©ho zmagnetizuje. Pokud kolem zmagnetizovanÃ©ho hrÃ¡Äe proletÃ­ kulka, je k nÄ›mu pÅ™itÃ¡hnuta. Kulka mÅ¯Å¾e bÃ½t k zmagnetizovanÃ©mu hrÃ¡Äi pÅ™itÃ¡hnuta pouze jednou.",card_description_MassMurderer:"Pokud je MasovÃ½ Vrah odsouzen k obÄ›Å¡enÃ­, stÅ™Ã­lÃ­ na vÅ¡echny, kteÅ™Ã­ pro nÄ›j hlasovali.",card_description_Matrix:"Matrix mÅ¯Å¾e jednou za celou hru v noci zmÄ›nit fyzikÃ¡lnÃ­ zÃ¡kony â€“ zachytit vÅ¡echny kulky, kterÃ© ho zasÃ¡hnou, a vypustit je na konci noci.",card_description_Meciar:"PÅ™i hlasovÃ¡nÃ­ se jeho hlas poÄÃ­tÃ¡ dvakrÃ¡t. Pokud Komunista pouÅ¾ije svou schopnost, MeÄiar tuto funkci ztrÃ¡cÃ­.",card_description_Mirror:"ObrannÃ¡ karta pouÅ¾Ã­vanÃ¡ v pÅ™Ã­padÄ› zÃ¡sahu kulkou Mafie nebo Å Ã­lenÃ©ho StÅ™elce. Po rozbitÃ­ Zrcadla se kulka vracÃ­ k hrÃ¡Äi, od kterÃ©ho pÅ™iletÄ›la, ledaÅ¾e bylo Zrcadlo zaÅ¡pinÄ›no blÃ¡tem od JoÅ¾ina z BaÅ¼in.",card_description_RopeWalker:"ObrannÃ¡ karta chrÃ¡nÃ­cÃ­ pÅ™ed smrtÃ­ na Å¡ibenici.",card_description_Sand:"HrÃ¡Ä s kartou PÃ­sek kaÅ¾dou noc oznaÄÃ­ hrÃ¡Äe, kterÃ©ho posype pÃ­skem. PÃ­sek neutralizuje efekt Sliny, ÄÃ­mÅ¾ ÄinÃ­ hrÃ¡Äe opÄ›t zranitelnÃ½m. Ochranu pÅ™ed PÃ­skem majÃ­ hrÃ¡Äi s Plynovou maskou (Å Ã­lenÃ½ StÅ™elec 2, MÃ¡g 2 a Duch Bobo).",card_description_Slime:"HrÃ¡Ä s kartou Slina kaÅ¾dou noc oznaÄÃ­ hrÃ¡Äe, kterÃ©ho chce oslintat. OslintanÃ½ hrÃ¡Ä je jednou v noci chrÃ¡nÄ›n pÅ™ed kulkou Mafie, Å Ã­lenÃ©ho StÅ™elce a Snipera (kulka po cÃ­li sklouzne). Efekt Sliny lze neutralizovat PÃ­skem.",card_description_Sniper:"Sniper mÅ¯Å¾e jednou za celou hru oznaÄit hrÃ¡Äe, na kterÃ©ho vystÅ™elÃ­ silnou kulkou. Ta je tak silnÃ¡, Å¾e rozbije i Zrcadlo a letÃ­ dÃ¡l.",card_description_Sock:"HrÃ¡Ä s PonoÅ¾kou mÅ¯Å¾e jednou za celou hru v noci hodit PonoÅ¾ku mezi dva hrÃ¡Äe, kteÅ™Ã­ jsou zasaÅ¾eni jejÃ­m zÃ¡pachem. PÅ™ed zÃ¡pachem PonoÅ¾ky chrÃ¡nÃ­ pouze PlynovÃ¡ maska, Doktor a MrÃ¡koÅ¡lap. Å Ã­lenÃ½ StÅ™elec 2, MÃ¡g 2 a Duch Bobo vlastnÃ­ Plynovou masku.",card_description_Spyglass:"Luneta se budÃ­ na konci kaÅ¾dÃ© tÅ™etÃ­ noci (poÄÃ­naje druhou) a dozvÃ­dÃ¡ se od ModerÃ¡tora, kteÅ™Ã­ hrÃ¡Äi se tÃ© noci probudili.",card_description_SwampMonster:"JoÅ¾in z BaÅ¾in mÅ¯Å¾e tÅ™ikrÃ¡t za celou hru v noci oznaÄit hrÃ¡Äe, kterÃ©mu zaÅ¡pinÃ­ Zrcadlo. Kulka rozbije Zrcadlo zaÅ¡pinÄ›nÃ© blÃ¡tem, ale letÃ­ dÃ¡l. JoÅ¾in mÅ¯Å¾e pouÅ¾Ã­t svou schopnost opakovanÄ› tu samou noc. Pokud hrÃ¡Ä vlastnÃ­ takÃ© kartu MafiÃ¡na, Snipera nebo Å Ã­lenÃ©ho StÅ™elce, mÅ¯Å¾e zaÅ¡pinit Zrcadlo pouze dvakrÃ¡t.",card_description_Terrorist:'Terorista mÅ¯Å¾e jednou za celou hru bÄ›hem dne pouÅ¾Ã­t svou schopnost zvolÃ¡nÃ­m "Bomba!", naÄeÅ¾ vystÅ™elÃ­ na vÅ¡echny hrÃ¡Äe.',card_description_TimeLord:'PÃ¡n ÄŒasu mÅ¯Å¾e jednou za celou hru na zaÄÃ¡tku dne nebo noci Å™Ã­ct "Jsem PÃ¡n Äasu!" a pÅ™eskoÄit celÃ½ den nebo noc.',app_title:"MafiaÂ²",app_continue_game:"PokraÄovat ve hÅ™e",app_continue_round:"Kolo {round}",app_new_game:"NovÃ¡ hra",nav_game:"Hra",nav_players:"HrÃ¡Äi",nav_logs:"HlÃ¡Å¡enÃ­",nav_rules:"Pravidla",nav_cards:"Karty",nav_settings:"NastavenÃ­",nav_my_cards:"Moje karty",nav_all_cards:"VÅ¡echny karty",player_link_invalid:"NeplatnÃ½ odkaz hrÃ¡Äe. PoÅ¾Ã¡dejte moderÃ¡tora o novÃ½.",rules_header_title:"Pravidla",rules_missing_language:"Pro zvolenÃ½ jazyk chybÃ­ pÅ™eloÅ¾enÃ¡ pravidla.",logs_heading:"DenÃ­k noci a dne",logs_subheading:"Zobrazuje se hlÃ¡Å¡enÃ­ noci a dne #{round}",logs_round_label:"Kolo",logs_view_label:"ZobrazenÃ­",logs_public_report_title:"VeÅ™ejnÃ© hlÃ¡Å¡enÃ­",logs_public_report_placeholder:"VeÅ™ejnÃ© hlÃ¡Å¡enÃ­ se objevÃ­ na zaÄÃ¡tku dne.",logs_round_title:"DenÃ­k kola",logs_round_empty:"Pro toto kolo nejsou Å¾Ã¡dnÃ© zÃ¡znamy.",logs_panel_title:"Historie hry",logs_panel_empty:"Å½Ã¡dnÃ© zÃ¡znamy v denÃ­ku.",cards_collection_title:"SbÃ­rka karet",cards_placeholder_description:"Popis se pÅ™ipravuje.",cards_toggle_icons:"Ikony",cards_toggle_images:"Grafika",player_add_card_title:"PÅ™idat zÃ­skanou kartu",player_add_card_button:"PÅ™idat kartu",player_add_card_type_label:"Typ karty",player_add_card_instance_label:"ÄŒÃ­slo karty",player_add_card_submit:"PÅ™idat kartu",player_add_card_duplicate:"Tato karta uÅ¾ je v seznamu.",settings_language_title:"Jazyk aplikace",settings_language_active:"AktivnÃ­",settings_title:"NastavenÃ­",settings_player_node_size:"Velikost figurek hrÃ¡ÄÅ¯",settings_reset_player_size:"Obnovit vÃ½chozÃ­ velikost",settings_player_node_hint:"UsnadÅˆuje trefovÃ¡nÃ­ kulatÃ½ch Å¾etonÅ¯ na velkÃ½ch stolech.",settings_bullet_speed:"Rychlost kulek",settings_bullet_speed_fast:"Rychleji",settings_bullet_speed_slow:"Pomaleji",settings_bullet_speed_hint:"Å˜Ã­dÃ­ tempo animace noÄnÃ­ch vÃ½stÅ™elÅ¯.",settings_storage_title:"PamÄ›Å¥",settings_export_data_button:"Exportovat data hry",settings_import_data_button:"Importovat ze souboru",settings_import_warning:"Import nahradÃ­ aktuÃ¡lnÃ­ hru.",settings_import_error:"NepodaÅ™ilo se naÄÃ­st zÃ¡znam. Zkontrolujte soubor a zkuste to znovu.",gm_players_title:"HrÃ¡Äi ({count})",gm_players_badge_mafia:"Mafie",gm_players_no_cards:"Å½Ã¡dnÃ© karty",gm_players_share_button:"SdÃ­let",gm_players_qr_button:"QR kÃ³d",gm_players_qr_instruction:"Naskenujte kÃ³d pro otevÅ™enÃ­ pohledu hrÃ¡Äe.",gm_players_qr_generating:"GenerovÃ¡nÃ­ QR kÃ³duâ€¦",gm_players_copy_link_instead:"ZkopÃ­rovat odkaz mÃ­sto toho",gm_players_manual_copy_title:"ZkopÃ­rovat odkaz ruÄnÄ›",gm_players_manual_copy_fallback:"SdÃ­lenÃ­ nenÃ­ na tomto zaÅ™Ã­zenÃ­ dostupnÃ©. ZkopÃ­rujte odkaz a poÅ¡lete ho {name}.",gm_players_manual_copy_label:"Odkaz",gm_players_manual_copy_copy:"ZkopÃ­rovat odkaz",gm_players_manual_copy_close:"ZavÅ™Ã­t",gm_players_share_insecure:"SdÃ­lenÃ­ funguje pouze pÅ™es HTTPS (nebo localhost). ZkopÃ­rujte odkaz nebo otevÅ™ete aplikaci pÅ™es https://.",gm_players_share_unsupported:"Tento prohlÃ­Å¾eÄ nepodporuje tlaÄÃ­tko SdÃ­let. ZkopÃ­rujte odkaz nÃ­Å¾e.",gm_players_share_failure_reason:"SdÃ­lenÃ­ na tomto zaÅ™Ã­zenÃ­ selhalo. ZkopÃ­rujte odkaz ruÄnÄ›.",gm_players_share_title:"{player} â€” odkaz hrÃ¡Äe",gm_players_copy_success:"Odkaz na hrÃ¡Äe {player} zkopÃ­rovÃ¡n! PoÅ¡lete mu ho.",gm_players_qr_error:"Nelze vygenerovat QR kÃ³d. Odkaz byl zkopÃ­rovÃ¡n do schrÃ¡nky.",gm_players_modal_close_qr_aria:"ZavÅ™Ã­t okno QR kÃ³du",gm_players_modal_close_manual_aria:"ZavÅ™Ã­t okno kopÃ­rovÃ¡nÃ­",gm_players_share_mode_title:"ReÅ¾im sdÃ­lenÃ­",gm_players_share_mode_hint:"Skryje karty a barvy Mafie pÅ™i zobrazovÃ¡nÃ­ QR kÃ³dÅ¯.",gm_players_share_mode_on:"ZapnutÃ½",gm_players_share_mode_off:"VypnutÃ½",gm_players_share_mode_cards_hidden:"Karty skrytÃ© v reÅ¾imu sdÃ­lenÃ­.",victory_mafia:"VyhrÃ¡vÃ¡ Mafie.",victory_innocent:"VyhrÃ¡vÃ¡ MÄ›sto.",log_start_game:"NovÃ¡ hra zahÃ¡jena.",log_player_activate:"{cardLabel} {player} pouÅ¾il schopnost.",start_day:"ZaÄÃ­t den",start_night_intro:"PadÃ¡ noc, mÄ›steÄko usÃ­nÃ¡...",first_night_message:"Mafie se budÃ­, aby urÄila strategii.",wake_up:"ProbouzÃ­ se {role}. PouÅ¾ije svou funkci?",wake_up_use_again:"Chce {role} pouÅ¾Ã­t funkci znovu?",wake_up_shooter:"ProbouzÃ­ se {role}. Na koho chce vystÅ™elit?",wake_up_mage_from:"ProbouzÃ­ se {role}. Ze kterÃ©ho hrÃ¡Äe chce vytvoÅ™it tunel?",wake_up_mage_to:"Kam {role} povede vÃ½chod z tunelu?",log_tunnel_duplicate:"{cardLabel} {player} chtÄ›l vytvoÅ™it tunel {source}->{target}, ale tento tunel uÅ¾ existuje.",log_tunnel_atheist:`{cardLabel} {player} chtÄ›l pouÅ¾Ã­t tunel na hrÃ¡Äe {target}, ale je to ${m("Atheist","Ateista")}.`,log_tunnel_same_player:"{cardLabel} {player} nemÅ¯Å¾e vytvoÅ™it tunel na tÃ©hoÅ¾ hrÃ¡Äe.",log_tunnel_created:"{cardLabel} {player} vytvoÅ™il tunel {tunnelNumber} ({source} -> {target}).",wake_up_slime:"ProbouzÃ­ se {role}. Koho chce pokrÃ½t slinou?",log_action_slime:"{cardLabel} {player} pokryl slinou hrÃ¡Äe {target}.",public_report_slime:"{name} je oslintanÃ½.",public_report_slime_multi:"{name} je oslintanÃ½ (x{count}).",wake_up_leech:"ProbouzÃ­ se {role}. Ke komu se chce pÅ™isÃ¡t?",log_action_leech:"{cardLabel} {player} se pÅ™isÃ¡l k hrÃ¡Äi {target}.",public_report_leech_cloudwalker:`${m("Leech","Pijavice")} zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,log_night_leech_cloudwalker:`{cardLabel} {player} zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,wake_up_sand:"ProbouzÃ­ se {role}. Koho chce posypat pÃ­skem?",log_action_sand:"{cardLabel} {player} posypal pÃ­skem hrÃ¡Äe {target}.",log_action_sand_fail:`{cardLabel} {player} chtÄ›l pouÅ¾Ã­t ${m("Sand","PÃ­sek")} na hrÃ¡Äe {target}, ale ten mÃ¡ Plynovou masku.`,public_report_sand:"{name} mÃ¡ pÃ­sek v oÄÃ­ch.",public_report_sand_saved:`PlynovÃ¡ maska uchrÃ¡nila hrÃ¡Äe pÅ™ed ${m("Sand","PÃ­skem")}.`,wake_up_cobra:"ProbouzÃ­ se {role}. Koho chce uÅ¡tknout?",log_action_cobra:"{name} byl uÅ¡tknut.",public_report_cobra_cloudwalker:`${m("Cobra","Kobra")} poÅ¾Ã­rÃ¡ ${m("Leech","Pijavici")} a zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,log_night_cobra_cloudwalker:`{cardLabel} {player} poÅ¾Ã­rÃ¡ ${m("Leech","Pijavici")} a zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,wake_up_magnet:"ProbouzÃ­ se {role}. Koho chce zmagnetizovat?",log_action_magnet:"{name} byl zmagnetizovÃ¡n.",wake_up_ghost:"ProbouzÃ­ se {role}. Koho chce umlÄet?",log_action_ghost:"{cardLabel} {player} odebral hlas hrÃ¡Äi {target}.",public_report_ghost_bobo:"{name} dnes nemÅ¯Å¾e mluvit.",wake_up_judge:"ProbouzÃ­ se {role}. Komu chce vzÃ­t prÃ¡vo hlasovat?",log_action_judge:"{cardLabel} {player} odebral prÃ¡vo hlasovat hrÃ¡Äi {target}.",public_report_judge:"{name} dnes nemÅ¯Å¾e hlasovat.",wake_up_swamp_monster:"Koho chce zaÅ¡pinit blÃ¡tem?",log_night_swamp_attack:"{cardLabel} {player} zaÅ¡pinil blÃ¡tem hrÃ¡Äe {target}.",wake_up_executioner_save:"ProbouzÃ­ se {role}. Koho chce zachrÃ¡nit pÅ™ed Å¡ibenicÃ­?",wake_up_executioner_victim:"Kdo mÃ¡ skonÄit na Å¡ibenici mÃ­sto nÄ›j?",log_night_executioner_save:"{saved} je chrÃ¡nÄ›n pÅ™ed rozsudkem, mÃ­sto nÄ›j zemÅ™e {victim}.",wake_up_sock_first:"Mezi koho hodit PonoÅ¾ku? OznaÄ prvnÃ­ho hrÃ¡Äe.",wake_up_sock_second:"NynÃ­ oznaÄ souseda tohoto hrÃ¡Äe.",log_action_sock_throw:`{cardLabel} {player} hodil ${m("Sock","PonoÅ¾ku")} mezi hrÃ¡Äe {first} a {second}.`,log_sock_throw_intro:`{cardLabel} {player} hodil ${m("Sock","PonoÅ¾ku")} mezi hrÃ¡Äe {first} a {second}. `,log_sock_result_gasmask:"PlynovÃ¡ maska zachrÃ¡nila hrÃ¡Äe {name}. ",log_sock_result_dead:"HrÃ¡Ä {name} byl jiÅ¾ mrtvÃ½. ",log_sock_result_doctor:`${m("Doctor","Doktor")} zachrÃ¡nil hrÃ¡Äe {name}. `,log_sock_result_cloudwalker:`HrÃ¡Ä {name} ztratil ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}. `,log_sock_result_death:"HrÃ¡Ä {name} opouÅ¡tÃ­ hru. ",public_report_sock_used:`${m("Sock","PonoÅ¾ka")} byla hozena mezi dva hrÃ¡Äe. `,public_report_sock_first_gasmask:"PrvnÃ­ho hrÃ¡Äe zachrÃ¡nila PlynovÃ¡ maska",public_report_sock_first_dead:"PrvnÃ­ hrÃ¡Ä byl jiÅ¾ mrtvÃ½",public_report_sock_first_doctor:`PrvnÃ­ho hrÃ¡Äe zachrÃ¡nil ${m("Doctor","Doktor")}`,public_report_sock_first_cloudwalker:`PrvnÃ­ hrÃ¡Ä ztratil ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}`,public_report_sock_first_death:"PrvnÃ­ hrÃ¡Ä, {name}, opouÅ¡tÃ­ naÅ¡i hru",public_report_sock_second_gasmask:" a druhÃ©ho zachrÃ¡nila PlynovÃ¡ maska.",public_report_sock_second_dead:" a druhÃ½ hrÃ¡Ä byl jiÅ¾ mrtvÃ½.",public_report_sock_second_doctor:` a druhÃ©ho zachrÃ¡nil ${m("Doctor","Doktor")}.`,public_report_sock_second_cloudwalker:` a druhÃ½ hrÃ¡Ä ztratil ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,public_report_sock_second_death:" a druhÃ½ hrÃ¡Ä, {name}, opouÅ¡tÃ­ naÅ¡i hru.",public_report_sock_first_only_suffix:".",wake_up_jailer:"ProbouzÃ­ se {role}. Koho uvrhne do vÄ›zenÃ­?",log_jailer_imprison:"{cardLabel} {player} uvrhl do vÄ›zenÃ­ hrÃ¡Äe {target}.",log_action_blocked_jailed:"{cardLabel} {player} sedÃ­ ve vÄ›zenÃ­, takÅ¾e se tÃ© noci nic nestane.",wake_up_doctor_heal_self:"ProbouzÃ­ se {role}. Koho chce vylÃ©Äit? (mÅ¯Å¾e sebe)",wake_up_doctor_heal_other:"ProbouzÃ­ se {role}. Koho chce vylÃ©Äit? (nemÅ¯Å¾e sebe)",log_doctor_fail:`{cardLabel} {player} chtÄ›l vylÃ©Äit {target}, ale cÃ­l nebude vylÃ©Äen, protoÅ¾e ${m("Doctor","Doktor")} pÅ¯sobÃ­ sÃ¡m proti ${m("Mafia","Mafii")}.`,log_doctor_success:"{cardLabel} {player} vylÃ©ÄÃ­ hrÃ¡Äe {target}.",log_doctor_self_locked:"{cardLabel} {player} nemÅ¯Å¾e tuto noc vylÃ©Äit sebe.",wake_matrix_shot:"ProbouzÃ­ se Matrix. Na koho chce vystÅ™elit? (kulka {current}/{total})",log_night_matrix_activate:"NÃ¡sleduj bÃ­lÃ©ho krÃ¡lÃ­ka... ({cardLabel} {player} pouÅ¾il schopnost.)",log_night_matrix_bullet_summary:`PoÄet kulek, kterÃ© ${m("Matrix","Matrix")} {player} zachytil tuto noc: {count}.`,wake_up_spyglass:"ProbouzÃ­ se Luneta. Zjistila, kdo byl v noci aktivnÃ­?",spyglass_reveal_intro:"TÃ©to noci se budili: {names}.",spyglass_reveal_none:"TÃ©to noci se nikdo nevzbudil.",log_mafia_jailed:`{cardLabel} {player} je ve vÄ›zenÃ­, takÅ¾e ${m("Mafia","Mafie")} nevystÅ™elÃ­.`,log_mafia_no_consensus:`${m("Mafia","MafiÃ¡ni")} se neshodli na cÃ­li, takÅ¾e tÃ© noci nikdo nestÅ™Ã­lel.`,log_shoot:"{cardLabel} {player} stÅ™Ã­lÃ­ na hrÃ¡Äe {target}.",log_shooter_aim:"{cardLabel} {player} mÃ­Å™Ã­ na hrÃ¡Äe {target}.",ui_timelord_skip_night:"{cardLabel}: PÅ™eskoÄit noc",ui_timelord_skip_day:"{cardLabel}: PÅ™eskoÄit den",log_timelord_skip_day:"{cardLabel} {player} pÅ™eskoÄil den.",log_timelord_skip_night:"{cardLabel} {player} pÅ™eskoÄil noc.",log_day_vest_hit:`{target} ztrÃ¡cÃ­ ${m("KevlarVest","Kevlar {num}")}.`,log_day_ropewalker_lost:`{target} ztrÃ¡cÃ­ ${m("RopeWalker","Provazochodce {num}")}.`,log_day_immunity_lost:`{target} ztrÃ¡cÃ­ ${m("Immunity","Imunitu {num}")}.`,log_day_cloudwalker_lost:`{target} ztrÃ¡cÃ­ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,log_day_death:"{target} umÃ­rÃ¡.",public_report_default:"MÄ›steÄko Palermo se probouzÃ­.",public_report_matrix:`Tuto noc ${m("Matrix","Matrix")} pouÅ¾il svou funkci. PoÄet kulek, kterÃ© zachytil: {count}.`,public_report_cloudwalker_gain:`{cardLabel} zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,public_report_glazier_mirror:`${m("Glazier","SklenÃ¡Å™")} vytvÃ¡Å™Ã­ ${m("Mirror","Zrcadlo {num}")}.`,log_night_cloudwalker_gain:`{cardLabel} {player} zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,log_night_glazier_mirror:`{cardLabel} {player} vytvÃ¡Å™Ã­ ${m("Mirror","Zrcadlo {num}")}.`,public_report_bullet_start:"Padl vÃ½stÅ™el",public_report_bullet_dead_target:", ale zasÃ¡hla mrtvÃ©ho hrÃ¡Äe.",public_report_bullet_matrix_catch:` a ${m("Matrix","Matrix")} ho zachytil.`,public_report_bullet_magnet:`, byl pÅ™itÃ¡hnut ${m("Magnet","Magnetem")}`,public_report_bullet_split:", rozÅ¡tÄ›pil se na {count} ÄÃ¡stÃ­.",public_report_bullet_tunnel_single:", proletÄ›l tunelem",public_report_bullet_tunnel_segment:" {index}. Ãºlomek proletÄ›l tunelem",public_report_bullet_slime:` a kulka sklouzla po ${m("Slime","slinÄ›")}.`,public_report_bullet_al_capone:`, ale ${m("AlCapone","Al Capone")} zneutralizoval hrozbu.`,public_report_bullet_doctor:`, ale ${m("Doctor","Doktor")} zneutralizoval kulku.`,public_report_bullet_mirror_break:`, prasklo ${m("Mirror","Zrcadlo {num}")}`,public_report_bullet_return:", kulka se vrÃ¡tila",public_report_bullet_continue:", kulka letÃ­ dÃ¡l",public_report_bullet_vest_loss:` a ${m("KevlarVest","Kevlar {num}")} byl zniÄen.`,public_report_bullet_cloudwalker_loss:` a zemÅ™el ${m("CloudWalker","MrÃ¡koÅ¡lap {num}")}.`,public_report_bullet_death:" a naÅ¡i hru opouÅ¡tÃ­ {name}.",log_night_bullet_start:"{cardLabel} {shooter} stÅ™Ã­lÃ­ na hrÃ¡Äe {target}. ",log_night_bullet_start_generic:"Padl vÃ½stÅ™el smÄ›rem na {target}. ",log_night_bullet_split:"Kulka se rozÅ¡tÄ›pila na {count} ÄÃ¡stÃ­.",log_night_bullet_dead_target:" a zasÃ¡hla mrtvÃ©ho hrÃ¡Äe {target}.",log_night_bullet_matrix_catch:` a ${m("Matrix","Matrix")} {target} ho zachytil.`,log_night_bullet_magnet_initial:`Kulka byla pÅ™itÃ¡hnuta ${m("Magnet","Magnetem")} k hrÃ¡Äi {target}`,log_night_bullet_magnet:`, byla pÅ™itÃ¡hnuta ${m("Magnet","Magnetem")} k hrÃ¡Äi {target}`,log_night_bullet_magnet_dead:` a zasÃ¡hla mrtvÃ©ho hrÃ¡Äe {target} (${m("Magnet","Magnetu")} efekt).`,log_night_bullet_tunnel_initial:"Kulka proletÄ›la tunelem {num} ({src} -> {target})",log_night_bullet_tunnel_single:", proletÄ›la tunelem {num} ({src} -> {target})",log_night_bullet_tunnel_segment:" {index}. Ãºlomek proletÄ›l tunelem {num} ({src} -> {target})",log_night_bullet_slime_initial:`Kulka sklouzla po ${m("Slime","slinÄ›")} z hrÃ¡Äe {target}.`,log_night_bullet_slime:` a sklouzla po ${m("Slime","slinÄ›")} z hrÃ¡Äe {target}.`,log_night_bullet_al_capone_initial:`${m("AlCapone","Al Capone")} {target} neutralizuje kulku.`,log_night_bullet_al_capone:` a ${m("AlCapone","Al Capone")} {target} ji neutralizuje.`,log_night_bullet_doctor_initial:`${m("Doctor","Doktor")} zachrÃ¡nil hrÃ¡Äe {target}.`,log_night_bullet_doctor:` a hrÃ¡Ä {target} byl vylÃ©Äen ${m("Doctor","Doktorem")}.`,log_night_bullet_mirror_break_initial:`Kulka rozbÃ­jÃ­ ${m("Mirror","Zrcadlo {num}")} u hrÃ¡Äe {target}`,log_night_bullet_mirror_break:`, u hrÃ¡Äe {target} prasklo ${m("Mirror","Zrcadlo {num}")}`,log_night_bullet_return:", kulka se vrÃ¡tila k {target}",log_night_bullet_continue_sniper:`, ale kulka letÃ­ dÃ¡l, protoÅ¾e ${m("Mirror","Zrcadlo")} hrÃ¡Äe {target} neodrÃ¡Å¾Ã­ stÅ™ely ${m("Sniper","Snipera")},`,log_night_bullet_continue_matrix:`, ale kulka letÃ­ dÃ¡l, protoÅ¾e ${m("Mirror","Zrcadlo")} hrÃ¡Äe {target} nezastavuje stÅ™ely ${m("Matrix","Matrixe")},`,log_night_bullet_continue_mud:`, ale kulka letÃ­ dÃ¡l, protoÅ¾e ${m("Mirror","Zrcadlo")} hrÃ¡Äe {target} bylo zablÃ¡cenÃ©,`,log_night_bullet_vest_loss_initial:`Kulka niÄÃ­ ${m("KevlarVest","Kevlar {num}")} hrÃ¡Äe {target}.`,log_night_bullet_vest_loss:` a {target} ztrÃ¡cÃ­ ${m("KevlarVest","Kevlar {num}")}.`,log_night_bullet_cloudwalker_loss_initial:`Kulka bere ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")} hrÃ¡Äi {target}.`,log_night_bullet_cloudwalker_loss:` a {target} ztrÃ¡cÃ­ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")}.`,log_night_bullet_death_initial:"Kulka zabÃ­jÃ­ hrÃ¡Äe {name}.",log_night_bullet_death:" a {name} umÃ­rÃ¡.",log_night_bullet_gandalf_from_horse:` ${m("Gandalf","Gandalf")} {gandalf} zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")} (ztrÃ¡ta ${m("HorsePiece","Kusu KoÅˆa")} {horse}: {lost}).`,log_night_bullet_horsepiece_from_gandalf:` ${m("HorsePiece","Kus KoÅˆa")} {horse} zÃ­skÃ¡vÃ¡ ${m("CloudWalker","MrÃ¡koÅ¡lapa {num}")} (ztrÃ¡ta ${m("Gandalf","Gandalfa")} {gandalf}: {lost}).`,ui_confirm:"Ano",ui_deny:"Ne",ui_undo:"ZpÄ›t",ui_bomb:"Bomba!",ui_next_phase:"DÃ¡le",ui_replay_bullets:"Opakovat animaci",ui_bullet_replay:"PÅ™ehrÃ¡vÃ¡nÃ­ prÅ¯bÄ›hu stÅ™elby...",ui_first_night_done:"Konec porady Mafie",ui_start_night:"ZaÄÃ­t noc",ui_player_label:"HrÃ¡Ä: {name}",ui_player_jailed_notice:"HrÃ¡Ä {name} je ve vÄ›zenÃ­ â€” ukaÅ¾te mu zkÅ™Ã­Å¾enÃ© ruce ğŸ™….",ui_anarchist_baby:"I shoot you baby!",ui_astronomer_night:"Noc!",ui_communist_equal:"VÅ¡ichni rovni!",ui_special_no_owner:"Bez majitele",day_action_vote:"PÅ™ehlasovÃ¡n",day_prompt_vote:"OznaÄ hrÃ¡Äe, kterÃ½ byl pÅ™ehlasovÃ¡n.",day_prompt_shot:"Anarchista stÅ™Ã­lÃ­. Vyber cÃ­l.",day_prompt_mass_murderer_select:"MasovÃ½ Vrah stÅ™Ã­lÃ­ na svÃ© Å¾alobce. OznaÄ hrÃ¡Äe a potvrÄ.",day_idle_message:"ProbÃ­hÃ¡ den. PouÅ¾ij dostupnÃ© akce.",day_report_confirm:"Potvrdit hlÃ¡Å¡enÃ­",public_report_day_player_left:"NaÅ¡i hru opouÅ¡tÃ­ {name}.",public_report_day_ropewalker_lost:`ZemÅ™el ${m("RopeWalker","Provazochodec {num}")}.`,public_report_day_cloudwalker_lost:`ZemÅ™el ${m("CloudWalker","MrÃ¡koÅ¡lap {num}")}.`,public_report_day_kevlar_lost:`ZemÅ™el ${m("KevlarVest","Kevlar {num}")}.`,public_report_day_immunity_lost:`ZemÅ™ela ${m("Immunity","Imunita {num}")}.`,ui_mass_murderer_target:"OdsouzenÃ½: {name}",ui_mass_murderer_selected:"VybrÃ¡no: {count}",ui_mass_murderer_confirm:"VystÅ™elit",warn_anarchist_unavailable:"Anarchista uÅ¾ nemÅ¯Å¾e stÅ™Ã­let.",warn_terrorist_unavailable:"Terorista uÅ¾ nemÅ¯Å¾e odpÃ¡lit bombu.",warn_bomb_day_only:"Bombu lze pouÅ¾Ã­t pouze ve dne.",warn_astronomer_unavailable:"Astronom uÅ¾ nemÅ¯Å¾e ukonÄit den.",warn_astronomer_day_only:"Astronom funguje pouze bÄ›hem dne.",warn_communist_unavailable:"Komunista uÅ¾ nemÅ¯Å¾e pouÅ¾Ã­t svou schopnost.",warn_communist_day_only:"Komunista funguje pouze ve dne.",log_day_vote:"HrÃ¡Ä {target} byl pÅ™ehlasovÃ¡n.",log_day_shot:`${m("Anarchist","Anarchista")} {actor} postÅ™elil {target}.`,log_day_bomb:`${m("Terrorist","Terorista")} {player} odpaluje bombu!`,log_day_astronomer:`${m("Astronomer","Astronom")} {player} ukonÄuje den.`,log_day_communist:`${m("Communist","Komunista")} {player} zavÃ¡dÃ­ rovnost.`,log_day_mass_murderer_trigger:`${m("MassMurderer","MasovÃ½ Vrah")} {target} sahÃ¡ po zbrani pÅ™ed rozsudkem.`,log_day_mass_murderer_shot:`${m("MassMurderer","MasovÃ½ Vrah")} {player} zabÃ­jÃ­ {target}.`,log_divider_night_start:"Noc {round} zaÄÃ­nÃ¡.",log_divider_night_end:"Noc {round} konÄÃ­.",log_divider_day_start:"Den {round} zaÄÃ­nÃ¡.",log_divider_day_end:"Den {round} konÄÃ­.",setup_next:"DÃ¡le",setup_remove:"Pro sprÃ¡vnÃ© rozdÃ¡nÃ­ rolÃ­ musÃ­Å¡ odstranit nÄ›kolik karet...",setup_step_count:"PoÄet hrÃ¡ÄÅ¯",setup_step_mafia:"PoÄet karet Mafie",setup_mafia_description:"Vyber, kolik karet Mafie bude v balÃ­Äku ({min} - {max}).",setup_mafia_label:"Karty Mafie v balÃ­Äku",setup_mafia_recommended:"DoporuÄenÃ¡ hodnota pro {players} hrÃ¡ÄÅ¯: {count}",setup_step_names:"JmÃ©na",setup_step_balance:"VyvÃ¡Å¾enÃ­ hry",setup_balance_instruction:"Pro vyrovnÃ¡nÃ­ balÃ­Äku odstraÅˆ {remove} karet nebo pÅ™idej {add}.",setup_remove_instruction:"MusÃ­Å¡ odstranit {count} karet, abys vyrovnal balÃ­Äek.",setup_cards_remaining:"K odstranÄ›nÃ­",setup_cards_missing:"ChybÃ­ karet",setup_cards_total:"Celkem karet v balÃ­Äku: {count}",setup_cards_minimum:"PÅ™idej jeÅ¡tÄ› {missing}, aby kaÅ¾dÃ½ hrÃ¡Ä dostal alespoÅˆ jednu kartu.",setup_start_game:"ZahÃ¡jit hru"},_=(e,a)=>a?`{{card:${e}|${a}}}`:`{{card:${e}}}`,hr=[{title:"About the Game",blocks:[{kind:"paragraph",text:"Mafia is a role-playing party game for 2â€“20 people."},{kind:"paragraph",text:`Players are divided into two factions: the ${_("Mafia","Mafia")} and the Town (ordinary citizens). The ${_("Mafia","Mafia")} wins by eliminating all citizens, while the Town triumphs by eliminating the ${_("Mafia","Mafia")}.`},{kind:"paragraph",text:"Gameplay relies on deduction, bluffing, and the strategic use of card abilities."}]},{title:"Game Start",blocks:[{kind:"paragraph",text:"At the beginning of the game, each player receives the same number of cards."},{kind:"paragraph",text:"Before the first night, players should familiarize themselves with the mechanics of their night cards."},{kind:"paragraph",text:`The dealing system includes safeguards against severely unbalanced distributions (e.g., all ${_("CloudWalker","CloudWalkers")} going to a single player). Details can be found in the "Card Balance Rules" section.`}]},{title:"Night",blocks:[{kind:"paragraph",text:"When the Announcer declares night, all players close their eyes. The host then calls upon active roles in turn, requesting ability usage and target selection. Awakened players respond silently using head gestures or hand signals."},{kind:"paragraph",text:"Nights are classified as even or odd â€“ the night number determines which cards wake up and in what order."},{kind:"paragraph",text:'A detailed schedule of night and day role wake-ups can be found in the "Wake-up Order" section.'}],subsections:[{title:`First Night - ${_("Mafia","Mafia")} Meeting`,blocks:[{kind:"paragraph",text:`At the start of the first night, the host wakes the entire ${_("Mafia","Mafia")}. This is the only moment the ${_("Mafia","Mafiosi")} can silently agree on a strategy and elimination order. After the meeting, the ${_("Mafia","Mafia")} closes their eyes again, and the standard night sequence begins.`}]}]},{title:"Day",blocks:[{kind:"paragraph",text:"In the morning, the town wakes up, players open their eyes, and the Announcer presents the night report."},{kind:"paragraph",text:"Eliminated players are removed from the game â€“ from this moment on, they cannot speak or participate in voting."},{kind:"list",ordered:!0,title:"Day Sequence:",items:["The Announcer reads the report of night events.",`Players make accusations against those suspected of belonging to the ${_("Mafia","Mafia")}, aiming to sentence them to hang.`,`Accused players give defense speeches, trying to convince others of their innocence. If ${_("GhostBobo","Ghost Bobo")} has silenced an accused player, they designate an advocate to defend them by interpreting the accused's facial expressions and movements.`,`The Announcer lists the accused. If there is only one candidate, players vote twice: first for, and then against their execution. If there are multiple candidates, players vote only for the death of each candidate sequentially. For every vote, the host counts down: "Those voting [option], please raise your hands in three, two, one." Everyone may vote (including the accused), unless the ${_("Judge","Judge")} has revoked their right.`,"Once the voting phase is resolved, the town goes to sleep."]},{kind:"paragraph",text:`Some roles modify voting power: ${_("Meciar","Meciar's")} vote counts double, while the number of votes cast against ${_("Kovac","Kovac")} is reduced by one. The ${_("Communist","Communist")} can, once per game, nullify the privileges of ${_("Meciar","Meciar")}, ${_("Kovac","Kovac")}, the ${_("Judge","Judge")}, and the censorship of ${_("GhostBobo","Ghost Bobo")}, equalizing everyone's rights.`},{kind:"paragraph",text:`The Announcer counts votes manually, adjusting for ${_("Meciar","Meciar's")} bonus and ${_("Kovac","Kovac's")} modifier. The app only displays icons next to the relevant roles, so the host must remember to correct the tally.`},{kind:"paragraph",text:"In the event of a tie, the tied candidates may offer a final defense if they wish. A runoff vote is then conducted between them in the same manner as before. If a second tie occurs, the voting ends immediately with no execution."},{kind:"paragraph",text:`Before the final verdict is announced, the ${_("Astronomer","Astronomer")} may use their ability to immediately end the day, preventing the convict's death.`}]},{title:"Defensive Rules",blocks:[{kind:"paragraph",text:`Players possess defensive abilities which activate automatically. Using a ${_("CloudWalker","CloudWalker")}, ${_("Immunity","Immunity")}, ${_("KevlarVest","Kevlar Vest")}, ${_("Mirror","Mirror")}, or ${_("RopeWalker","RopeWalker")} card results in its permanent consumption.`}],subsections:[{title:"Tunnel",blocks:[{kind:"paragraph",text:"If the tunnel entrance (first player) is hit, the bullet travels through the tunnel to the exit (second player). If multiple tunnels originate from one player, the bullet splits into fragments that travel through all tunnels (retaining standard bullet properties). Neither the bullet nor fragments can pass through the same tunnel twice. In the case of two or three tunnels in the same direction between the same players, the bullet does not split but travels through the earliest created tunnel."}]},{title:"Gas Mask",blocks:[{kind:"paragraph",text:`Holders of ${_("Mage","Mage 2")}, ${_("MadGunman","Mad Gunman 2")}, and ${_("GhostBobo","Ghost Bobo")} cards possess a Gas Mask, protecting them against ${_("Sand","Sand")} and the smell of the ${_("Sock","Sock")}.`}]}]},{title:"Defensive Rules â€“ Night",blocks:[{kind:"paragraph",text:`Every night attack is verified by the defense system in a specific order â€“ the activation of one defense prevents the checking of others. Before the priority list is checked, the system always determines if ${_("Matrix")} intercepted the bullet.`},{kind:"paragraph",text:"The application processes attacks according to the hierarchy below, but the final report is randomly shuffled to obscure the shooter's identity."}],subsections:[{title:`a) Bullet from ${_("Mafia","Mafia")}`,blocks:[{kind:"list",title:`The ${_("Mafia","Mafioso")} with the highest priority shoots:`,ordered:!0,items:[_("Magnet","Magnet"),"Tunnel",_("Mirror","Mirror"),_("Slime","Slime"),_("AlCapone","Al Capone"),_("Doctor","Doctor"),_("KevlarVest","Kevlar Vest"),_("CloudWalker","CloudWalker")]}]},{title:`b) Bullet from ${_("MadGunman","Mad Gunman")}`,blocks:[{kind:"list",ordered:!0,items:[_("Magnet","Magnet"),"Tunnel",_("Mirror","Mirror"),_("Slime","Slime"),_("Doctor","Doctor"),_("KevlarVest","Kevlar Vest"),_("CloudWalker","CloudWalker")]}]},{title:`c) Bullet from ${_("Sniper","Sniper")}`,blocks:[{kind:"list",ordered:!0,items:[_("Magnet","Magnet"),"Tunnel",_("Mirror","Mirror"),_("Slime","Slime"),_("Doctor","Doctor"),_("KevlarVest","Kevlar Vest"),_("CloudWalker","CloudWalker")]}]},{title:`d) Smell of the ${_("Sock","Sock")}`,blocks:[{kind:"list",ordered:!0,items:["Gas Mask",_("Doctor","Doctor"),_("CloudWalker","CloudWalker")]}]},{title:`e) Bullet from ${_("Matrix","Matrix")}`,blocks:[{kind:"list",ordered:!0,items:[_("KevlarVest","Kevlar Vest"),_("CloudWalker","CloudWalker")]}]}]},{title:"Defensive Rules â€“ Day",blocks:[{kind:"paragraph",text:`During the day, defense also works automatically and is resolved before the actual death of a player. If the ${_("BlindExecutioner","Blind Executioner")} indicated a substitute victim, the target swap occurs before shields are consumed.`}],subsections:[{title:"a) Sentencing by vote",blocks:[{kind:"list",ordered:!0,items:[_("RopeWalker","RopeWalker"),_("Immunity","Immunity"),_("CloudWalker","CloudWalker")]}]},{title:`b) Shot during the day (${_("Anarchist","Anarchist")}, ${_("MassMurderer","Mass Murderer")}, ${_("Terrorist","Bomb")})`,blocks:[{kind:"list",ordered:!0,items:[_("Immunity","Immunity"),_("KevlarVest","Kevlar Vest"),_("CloudWalker","CloudWalker")]}]}]},{title:"Wake-up Order",blocks:[],subsections:[{title:"a) Even Nights",blocks:[{kind:"paragraph",text:"On even nights, the following roles wake up in order:"},{kind:"list",items:[_("Jailer","Jailer"),_("Gravedigger","Gravedigger"),_("Matrix","Matrix"),_("Mage","Mages"),_("Slime","Slime"),_("Leech","Leech"),_("Sand","Sand"),_("Cobra","Cobra"),_("Magnet","Magnet"),_("GhostBobo","Ghost Bobo"),_("Doctor","Doctor"),_("SwampMonster","Swamp Monster"),_("Mafia","Mafia"),_("MadGunman","Mad Gunmen"),_("Sniper","Sniper"),_("Sock","Sock"),_("Judge","Judge"),_("BlindExecutioner","Blind Executioner"),_("Matrix","Matrix Shot")]}]},{title:"b) Odd Nights",blocks:[{kind:"paragraph",text:"On odd nights, the following roles wake up in order:"},{kind:"list",items:[_("Gravedigger","Gravedigger"),_("Matrix","Matrix"),_("Mage","Mages"),_("Slime","Slime"),_("Leech","Leech"),_("Sand","Sand"),_("Doctor","Doctor"),_("SwampMonster","Swamp Monster"),_("Mafia","Mafia"),_("Sniper","Sniper"),_("Sock","Sock"),_("BlindExecutioner","Blind Executioner"),_("Matrix","Matrix Shot")]}]},{title:"c) Additional Night Rules",blocks:[{kind:"paragraph",text:`At the end of every third night (starting from the second), the ${_("Spyglass","Spyglass")} wakes up to learn which roles were active.`},{kind:"paragraph",text:`Some roles (e.g., ${_("Matrix")}) have a limited number of uses; once charges are exhausted, the host stops waking them.`}]}]},{title:"Card Balance Rules",blocks:[{kind:"paragraph",text:"To ensure balanced gameplay, the application applies the following restrictions during role distribution:"},{kind:"list",items:[`A player may hold only one ${_("Mafia","Mafia")} card.`,`A player may hold only one card from the pair ${_("Gandalf")} / ${_("HorsePiece","Horse Piece")}.`,`A player may hold only one card from the set: ${_("Mage","Mage 2")} / ${_("MadGunman","Mad Gunman 2")} / ${_("GhostBobo","Ghost Bobo")}.`,`A player may hold only one card from the pair ${_("Leech","Leech")} / ${_("Cobra")}.`,`A player may hold only one ${_("MadGunman","Mad Gunman")}.`,`A player may hold only one ${_("Slime","Slime")} card.`,`A player may hold only one card from the pair ${_("Atheist","Atheist")} / ${_("Matrix")}.`,`A player holding a ${_("Mafia","Mafia")} card cannot receive ${_("Doctor","Doctor")} or ${_("Spyglass","Spyglass")}.`,`A player may receive a maximum of two ${_("CloudWalker","CloudWalkers")}.`,`A player may receive a maximum of two ${_("RopeWalker","RopeWalkers")}.`,`A player holding a ${_("Gravedigger","Gravedigger")}, ${_("Leech","Leech")}, ${_("AlCapone","Al Capone")}, ${_("Gandalf")}, or ${_("HorsePiece","Horse Piece")} card may receive only one ${_("CloudWalker","CloudWalker")}.`]}]}],yr={role_AlCapone:"Al Capone",role_Anarchist:"Anarchist",role_Astronomer:"Astronomer",role_Atheist:"Atheist",role_BlindExecutioner:"Blind Executioner",role_CloudWalker:"CloudWalker",role_Cobra:"Cobra",role_Communist:"Communist",role_Doctor:"Doctor",role_Gandalf:"Gandalf",role_GhostBobo:"Ghost Bobo",role_Glazier:"Glazier",role_Gravedigger:"Gravedigger",role_HorsePiece:"Horse Piece",role_Immunity:"Immunity",role_Jailer:"Jailer",role_Judge:"Judge",role_KevlarVest:"Kevlar Vest",role_Kovac:"Kovac",role_Leech:"Leech",role_MadGunman:"Mad Gunman",role_Mafia:"Mafioso",role_Magnet:"Magnet",role_MassMurderer:"Mass Murderer",role_Matrix:"Matrix",role_Meciar:"Meciar",role_Mage:"Mage",role_Mirror:"Mirror",role_RopeWalker:"RopeWalker",role_Sand:"Sand",role_Slime:"Slime",role_Sniper:"Sniper",role_Sock:"Sock",role_Spyglass:"Spyglass",role_SwampMonster:"Swamp Monster",role_Terrorist:"Terrorist",role_TimeLord:"Time Lord",card_description_AlCapone:"Al Capone, as the godfather of the Mafia, is immune to its attacks. This protection applies only to direct hits from the Mafia; it does not protect against a bullet redirected via a Tunnel, Magnet, or Mirror.",card_description_Anarchist:'The Anarchist can use their ability once per game during the day by saying "I shoot you baby!", then shooting a chosen player.',card_description_Astronomer:'The Astronomer can use their ability once per game during the day by saying "Night!", immediately ending the day even if a vote is in progress.',card_description_Atheist:"A tunnel created by a Mage leading to the Atheist fails to work. The Announcer does not inform the Mage that they created a tunnel to an Atheist.",card_description_BlindExecutioner:"The Blind Executioner can indicate two players at night, twice per game. If the first indicated player is sentenced to hang the next day, the second indicated player dies instead.",card_description_CloudWalker:"CloudWalker is a basic defense card acting as an extra life. It is consumed if the player has no other protection available.",card_description_Cobra:"Every even night, the Cobra points to a player they believe holds the Leech card. If they guess correctly, they gain a CloudWalker at the end of the night and devour the Leech (the player with that card loses their abilities).",card_description_Communist:'The Communist can use their ability once per game during the day by saying "Citizens, in this round we are all equal," canceling the abilities of Meciar, Kovac, Ghost Bobo, and the Judge for one day.',card_description_Doctor:"Every night, the Doctor points to a player to heal, protecting them once from a bullet or the smell of the Sock. Every third night (starting from the first or second), they may heal themselves. If the Doctor is left alone against one or more Mafiosi and cannot heal themselves, they are deactivated.",card_description_Gandalf:"If Horse Piece loses a CloudWalker, Gandalf gains it. They can only gain one CloudWalker per night this way.",card_description_Glazier:"If the Glazier has no Mirror, and another player has theirs destroyed during the night, the Glazier gains it at the end of the night. They can receive only one Mirror per night.",card_description_GhostBobo:"Every even night, Ghost Bobo points to a player who will be forbidden from speaking the next day (only the Communist can lift this ban). If the accused player is silenced by Ghost Bobo, they designate a person to defend them by interpreting their facial expressions and gestures.",card_description_Gravedigger:"Once per game at night, the Gravedigger can dig graves to recover CloudWalkers, gaining as many CloudWalkers at the end of the night as were lost by other players that night.",card_description_HorsePiece:"If Gandalf loses a CloudWalker, Horse Piece gains it. They can only gain one CloudWalker per night this way.",card_description_Immunity:"Defense card used if hit by a bullet during the day or sentenced to hang.",card_description_Jailer:"Once per game, the Jailer can indicate a player to imprison, blocking their ability for that night. The Announcer wakes the imprisoned player but clearly signals that they are in prison.",card_description_Judge:"Every even night, the Judge points to a player who will be forbidden from voting the next day. The Communist can lift this ban.",card_description_KevlarVest:"Defense card used if hit by a bullet.",card_description_Kovac:"Kovac reduces the number of votes cast for his death by 1. If the Communist uses their ability, Kovac loses this function.",card_description_Leech:"Every night, the Leech points to a player to latch onto. If that player loses a CloudWalker or dies that night, the Leech gains a CloudWalker. The Leech can be devoured by the Cobra.",card_description_MadGunman:"The Mad Gunman fires one shot every even night.",card_description_Mafia:"A Mafioso can win the game by eliminating all ordinary players, using a bullet every night. To fire, all Mafiosi must point to the same player at night. To coordinate their targets, they wake up at the start of the first night.",card_description_Mage:"Every night, the Mage selects two players to create a one-way tunnel. If the first player (entrance) is hit, the bullet travels through the tunnel to the second player (exit).",card_description_Magnet:"Every even night, the Magnet targets a player to magnetize. If a bullet flies past the magnetized player, it is attracted to them. A bullet can be attracted by a magnetized player only once.",card_description_MassMurderer:"If the Mass Murderer is sentenced to hang, they shoot everyone who voted for them.",card_description_Matrix:"Once per game at night, Matrix can bend the laws of physics â€“ intercepting all bullets that hit them, and releasing them at the end of the night.",card_description_Meciar:"In voting, his vote counts double. If the Communist uses their ability, Meciar loses this function.",card_description_Mirror:"Defense card used if hit by a Mafia or Mad Gunman bullet. After the Mirror shatters, the bullet returns to the shooter, unless the Mirror was muddied by the Swamp Monster.",card_description_RopeWalker:"Defense card protecting against death on the gallows.",card_description_Sand:"The player with the Sand card targets a player every night to throw sand at. Sand neutralizes the effect of Slime, making the player vulnerable to being hit. Players with a Gas Mask (Mad Gunman 2, Mage 2, and Ghost Bobo) are protected against Sand.",card_description_Slime:"The player with the Slime card indicates a player every night to cover with slime. The slimed player is protected once during the night against a bullet from the Mafia, Mad Gunman, and Sniper (the bullet slides off). The Slime effect can be neutralized by Sand.",card_description_Sniper:"Once per game, the Sniper can indicate a player to shoot with a high-caliber bullet. It is so powerful that it shatters Mirrors and continues its trajectory.",card_description_Sock:"Once per game at night, the player with the Sock can throw it between two players, who are then overcome by its smell. Only a Gas Mask, Doctor, and CloudWalker protect against the Sock's smell. Mad Gunman 2, Mage 2, and Ghost Bobo possess a Gas Mask.",card_description_Spyglass:"The Spyglass wakes up at the end of every third night (starting from the second) and is informed by the Announcer which roles were active that night.",card_description_SwampMonster:"The Swamp Monster can indicate a player three times per game at night to muddy their Mirror. A bullet shatters a muddy Mirror but keeps flying. The Swamp Monster can use their ability multiple times in the same night. If the player also holds a Mafioso, Sniper, or Mad Gunman card, they can muddy a Mirror only twice.",card_description_Terrorist:'The Terrorist can use their ability once per game during the day by saying "Bomb!", then shooting all players.',card_description_TimeLord:'The Time Lord can say "I am the Time Lord!" once per game at the beginning of the day or night to skip the current phase.',app_title:"MafiaÂ²",app_continue_game:"Continue Game",app_continue_round:"Round {round}",app_new_game:"New Game",nav_game:"Game",nav_players:"Players",nav_logs:"Logs",nav_rules:"Rules",nav_cards:"Cards",nav_settings:"Settings",nav_my_cards:"My Cards",nav_all_cards:"All Cards",player_link_invalid:"Invalid player link. Request a new one from the host.",rules_header_title:"Rules",rules_missing_language:"No translated rules available for the selected language.",logs_heading:"Day and Night Log",logs_subheading:"Showing report for night and day #{round}",logs_round_label:"Round",logs_view_label:"View",logs_public_report_title:"Public Report",logs_public_report_placeholder:"The public report will appear at the start of the day.",logs_round_title:"Round Log",logs_round_empty:"No entries for this round.",logs_panel_title:"Game History",logs_panel_empty:"Log is empty.",cards_collection_title:"Card Collection",cards_placeholder_description:"Description coming soon.",cards_toggle_icons:"Icons",cards_toggle_images:"Images",player_add_card_title:"Add a gained card",player_add_card_button:"Add card",player_add_card_type_label:"Card type",player_add_card_instance_label:"Instance number",player_add_card_submit:"Add card",player_add_card_duplicate:"That card is already on your list.",settings_language_title:"App Language",settings_language_active:"Active",settings_title:"Settings",settings_player_node_size:"Player Node Size",settings_reset_player_size:"Reset to Default",settings_player_node_hint:"Facilitates tapping round tokens on large tables.",settings_bullet_speed:"Bullet Speed",settings_bullet_speed_fast:"Faster",settings_bullet_speed_slow:"Slower",settings_bullet_speed_hint:"Controls the pace of night shot animations.",settings_storage_title:"Storage",settings_export_data_button:"Export Game Data",settings_import_data_button:"Import from File",settings_import_warning:"Importing replaces the current game.",settings_import_error:"Failed to load save. Check the file and try again.",gm_players_title:"Players ({count})",gm_players_badge_mafia:"Mafia",gm_players_no_cards:"No cards",gm_players_share_button:"Share",gm_players_qr_button:"QR Code",gm_players_qr_instruction:"Scan the code to open the player view.",gm_players_qr_generating:"Generating QR code...",gm_players_copy_link_instead:"Copy link instead",gm_players_manual_copy_title:"Copy Link Manually",gm_players_manual_copy_fallback:"Sharing is unavailable on this device. Copy the link and send it to {name}.",gm_players_manual_copy_label:"Link",gm_players_manual_copy_copy:"Copy Link",gm_players_manual_copy_close:"Close",gm_players_share_insecure:"Sharing requires HTTPS (or localhost). Copy the link or open the app via https://.",gm_players_share_unsupported:"This browser does not support the Share button. Copy the link below.",gm_players_share_failure_reason:"Sharing failed on this device. Copy the link manually.",gm_players_share_title:"{player} â€” Player Link",gm_players_copy_success:"Link for player {player} copied! Send it to them.",gm_players_qr_error:"Could not generate QR code. Link copied to clipboard.",gm_players_modal_close_qr_aria:"Close QR code window",gm_players_modal_close_manual_aria:"Close copy window",gm_players_share_mode_title:"Sharing Mode",gm_players_share_mode_hint:"Hides Mafia cards and colors while showing QR codes.",gm_players_share_mode_on:"On",gm_players_share_mode_off:"Off",gm_players_share_mode_cards_hidden:"Cards hidden in sharing mode.",victory_mafia:"Mafia wins.",victory_innocent:"Town wins.",log_start_game:"New game started.",log_player_activate:"{cardLabel} {player} used their ability.",start_day:"Start Day",start_night_intro:"Night falls. The town goes to sleep...",first_night_message:"Mafia wakes up to establish strategy.",wake_up:"{role} wakes up. Do they want to use their function?",wake_up_use_again:"Does {role} want to use their function again?",wake_up_shooter:"{role} wakes up. Who do they want to shoot?",wake_up_mage_from:"{role} wakes up. Where does the tunnel start?",wake_up_mage_to:"Where does the tunnel end?",log_tunnel_duplicate:"{cardLabel} {player} attempted to create tunnel {source}->{target}, but it already exists.",log_tunnel_atheist:`{cardLabel} {player} attempted to use a tunnel on player {target}, but they are ${_("Atheist","an Atheist")}.`,log_tunnel_same_player:"{cardLabel} {player} cannot create a tunnel on the same player.",log_tunnel_created:"{cardLabel} {player} created tunnel {tunnelNumber} ({source} -> {target}).",wake_up_slime:"{role} wakes up. Who do they want to slimed?",log_action_slime:"{cardLabel} {player} slimed player {target}.",public_report_slime:"{name} is dripping with slime.",public_report_slime_multi:"{name} is dripping with slime (x{count}).",wake_up_leech:"{role} wakes up. Who do they want to latch onto?",log_action_leech:"{cardLabel} {player} latched onto player {target}.",public_report_leech_cloudwalker:`${_("Leech")} gains ${_("CloudWalker","CloudWalker {num}")}.`,log_night_leech_cloudwalker:`{cardLabel} {player} gains ${_("CloudWalker","CloudWalker {num}")}.`,wake_up_sand:"{role} wakes up. Who do they want to throw sand at?",log_action_sand:"{cardLabel} {player} threw sand at player {target}.",log_action_sand_fail:`{cardLabel} {player} attempted to use ${_("Sand")} on player {target}, but they possess a Gas Mask.`,public_report_sand:"{name} has sand in their eyes.",public_report_sand_saved:`Gas Mask saved the player from ${_("Sand")}.`,wake_up_cobra:"{role} wakes up. Who do they want to bite?",log_action_cobra:"{name} was bitten.",public_report_cobra_cloudwalker:`${_("Cobra")} devours ${_("Leech")} and gains ${_("CloudWalker","CloudWalker {num}")}.`,log_night_cobra_cloudwalker:`{cardLabel} {player} devours ${_("Leech")} and gains ${_("CloudWalker","CloudWalker {num}")}.`,wake_up_magnet:"{role} wakes up. Who do they want to magnetize?",log_action_magnet:"{name} was magnetized.",wake_up_ghost:"{role} wakes up. Who do they want to silence?",log_action_ghost:"{cardLabel} {player} silenced player {target}.",public_report_ghost_bobo:"{name} cannot speak today.",wake_up_judge:"{role} wakes up. Whose voting right do they want to revoke?",log_action_judge:"{cardLabel} {player} revoked the voting right of player {target}.",public_report_judge:"{name} cannot vote today.",wake_up_swamp_monster:"Who do they want to splash with mud?",log_night_swamp_attack:"{cardLabel} {player} splashed mud on player {target}.",wake_up_executioner_save:"{role} wakes up. Who do they want to save from the gallows?",wake_up_executioner_victim:"Who should go to the gallows instead?",log_night_executioner_save:"{saved} is protected from the sentence; {victim} will die instead.",wake_up_sock_first:"Between whom to throw the Sock? Indicate the first player.",wake_up_sock_second:"Now indicate that player's neighbor.",log_action_sock_throw:`{cardLabel} {player} aimed ${_("Sock","the Sock")} between players {first} and {second}.`,log_sock_throw_intro:`{cardLabel} {player} threw ${_("Sock","the Sock")} between players {first} and {second}. `,log_sock_result_gasmask:"Gas Mask saved player {name}. ",log_sock_result_dead:"Player {name} was already dead. ",log_sock_result_doctor:`${_("Doctor")} saved player {name}. `,log_sock_result_cloudwalker:`Player {name} lost ${_("CloudWalker","CloudWalker {num}")}. `,log_sock_result_death:"Player {name} leaves the game. ",public_report_sock_used:`${_("Sock","A Sock")} was thrown between two players. `,public_report_sock_first_gasmask:"The first player was saved by a Gas Mask",public_report_sock_first_dead:"The first player was already dead",public_report_sock_first_doctor:`The first player was saved by ${_("Doctor","a Doctor")}`,public_report_sock_first_cloudwalker:`The first player lost ${_("CloudWalker","CloudWalker {num}")}`,public_report_sock_first_death:"The first player, {name}, leaves our game",public_report_sock_second_gasmask:", and the second was saved by a Gas Mask.",public_report_sock_second_dead:", and the second player was already dead.",public_report_sock_second_doctor:`, and the second was saved by ${_("Doctor","a Doctor")}.`,public_report_sock_second_cloudwalker:`, and the second player lost ${_("CloudWalker","CloudWalker {num}")}.`,public_report_sock_second_death:", and the second player, {name}, leaves our game.",public_report_sock_first_only_suffix:".",wake_up_jailer:"{role} wakes up. Who do they put in prison?",log_jailer_imprison:"{cardLabel} {player} imprisoned player {target}.",log_action_blocked_jailed:"{cardLabel} {player} is in prison, so nothing will happen tonight.",wake_up_doctor_heal_self:"{role} wakes up. Who do they want to heal? (can be self)",wake_up_doctor_heal_other:"{role} wakes up. Who do they want to heal? (cannot be self)",log_doctor_fail:`{cardLabel} {player} attempted to heal {target}, but failed because ${_("Doctor","the Doctor")} works alone against ${_("Mafia","the Mafia")}.`,log_doctor_success:"{cardLabel} {player} heals player {target}.",log_doctor_self_locked:"{cardLabel} {player} cannot heal themselves tonight.",wake_matrix_shot:"Matrix wakes up. Who do they want to shoot at? (bullet {current}/{total})",log_night_matrix_activate:"Follow the white rabbit... ({cardLabel} {player} used ability.)",log_night_matrix_bullet_summary:`Number of bullets ${_("Matrix")} {player} intercepted tonight: {count}.`,wake_up_spyglass:"Spyglass wakes up. Did they learn who was active tonight?",spyglass_reveal_intro:"Tonight, the following woke up: {names}.",spyglass_reveal_none:"Nobody woke up tonight.",log_mafia_jailed:`{cardLabel} {player} is in prison, so ${_("Mafia","the Mafia")} will not take a shot.`,log_mafia_no_consensus:`${_("Mafia","Mafiosi")} did not agree on a target, so no one shot tonight.`,log_shoot:"{cardLabel} {player} shoots at player {target}.",log_shooter_aim:"{cardLabel} {player} aims at player {target}.",ui_timelord_skip_night:"{cardLabel}: Skip Night",ui_timelord_skip_day:"{cardLabel}: Skip Day",log_timelord_skip_day:"{cardLabel} {player} skipped the day.",log_timelord_skip_night:"{cardLabel} {player} skipped the night.",log_day_vest_hit:`{target} loses ${_("KevlarVest","Kevlar Vest {num}")}.`,log_day_ropewalker_lost:`{target} loses ${_("RopeWalker","RopeWalker {num}")}.`,log_day_immunity_lost:`{target} loses ${_("Immunity","Immunity {num}")}.`,log_day_cloudwalker_lost:`{target} loses ${_("CloudWalker","CloudWalker {num}")}.`,log_day_death:"{target} dies.",public_report_default:"The Palermo Town wakes up.",public_report_matrix:`${_("Matrix")} used his function tonight. Number of bullets intercepted: {count}.`,public_report_cloudwalker_gain:`{cardLabel} gains ${_("CloudWalker","CloudWalker {num}")}.`,public_report_glazier_mirror:`${_("Glazier")} creates ${_("Mirror","Mirror {num}")}.`,log_night_cloudwalker_gain:`{cardLabel} {player} gains ${_("CloudWalker","CloudWalker {num}")}.`,log_night_glazier_mirror:`{cardLabel} {player} creates ${_("Mirror","Mirror {num}")}.`,public_report_bullet_start:"A shot was fired",public_report_bullet_dead_target:", but hit a dead player.",public_report_bullet_matrix_catch:` and ${_("Matrix")} caught it.`,public_report_bullet_magnet:`, was attracted by ${_("Magnet","the Magnet")}`,public_report_bullet_split:", splitting into {count} parts.",public_report_bullet_tunnel_single:", flew through a tunnel",public_report_bullet_tunnel_segment:" {index}. fragment flew through a tunnel",public_report_bullet_slime:` and the bullet slid off ${_("Slime","the slime")}.`,public_report_bullet_al_capone:`, but ${_("AlCapone")} neutralized the threat.`,public_report_bullet_doctor:`, but ${_("Doctor","the Doctor")} neutralized the bullet.`,public_report_bullet_mirror_break:`, ${_("Mirror","Mirror {num}")} shattered`,public_report_bullet_return:", the bullet returned",public_report_bullet_continue:", the bullet flies on",public_report_bullet_vest_loss:` and ${_("KevlarVest","Kevlar Vest {num}")} was destroyed.`,public_report_bullet_cloudwalker_loss:` and ${_("CloudWalker","CloudWalker {num}")} died.`,public_report_bullet_death:" and {name} leaves our game.",log_night_bullet_start:"{cardLabel} {shooter} fires at player {target}. ",log_night_bullet_start_generic:"A shot was fired towards {target}. ",log_night_bullet_split:"The bullet split into {count} parts.",log_night_bullet_dead_target:" and it hit dead player {target}.",log_night_bullet_matrix_catch:` and ${_("Matrix")} {target} caught it.`,log_night_bullet_magnet_initial:`The bullet was attracted by ${_("Magnet","the Magnet")} to player {target}`,log_night_bullet_magnet:`, was attracted by ${_("Magnet","the Magnet")} to player {target}`,log_night_bullet_magnet_dead:` and hits dead player {target} (${_("Magnet")} effect).`,log_night_bullet_tunnel_initial:"The bullet flew through tunnel {num} ({src} -> {target})",log_night_bullet_tunnel_single:", flew through tunnel {num} ({src} -> {target})",log_night_bullet_tunnel_segment:" {index}. fragment flew through tunnel {num} ({src} -> {target})",log_night_bullet_slime_initial:`The bullet slides off ${_("Slime","the slime")} on {target}.`,log_night_bullet_slime:` and slides off ${_("Slime","the slime")} on {target}.`,log_night_bullet_al_capone_initial:`${_("AlCapone")} {target} neutralizes the bullet.`,log_night_bullet_al_capone:` and ${_("AlCapone")} {target} neutralizes it.`,log_night_bullet_doctor_initial:`${_("Doctor","The Doctor")} healed player {target}.`,log_night_bullet_doctor:` and player {target} was healed by ${_("Doctor","the Doctor")}.`,log_night_bullet_mirror_break_initial:`The bullet shatters ${_("Mirror","Mirror {num}")} on player {target}`,log_night_bullet_mirror_break:`, ${_("Mirror","Mirror {num}")} on player {target} shattered`,log_night_bullet_return:", the bullet returned to {target}",log_night_bullet_continue_sniper:`, but the bullet flies on because {target}'s ${_("Mirror","the Mirror")} does not reflect ${_("Sniper")} shots,`,log_night_bullet_continue_matrix:`, but the bullet flies on because {target}'s ${_("Mirror","the Mirror")} does not stop ${_("Matrix")} shots,`,log_night_bullet_continue_mud:`, but the bullet flies on because {target}'s ${_("Mirror","the Mirror")} was muddy,`,log_night_bullet_vest_loss_initial:`The bullet destroys ${_("KevlarVest","Kevlar Vest {num}")} of player {target}.`,log_night_bullet_vest_loss:` and {target} loses ${_("KevlarVest","Kevlar Vest {num}")}.`,log_night_bullet_cloudwalker_loss_initial:`The bullet takes ${_("CloudWalker","CloudWalker {num}")} from player {target}.`,log_night_bullet_cloudwalker_loss:` and {target} loses ${_("CloudWalker","CloudWalker {num}")}.`,log_night_bullet_death_initial:"The bullet kills player {name}.",log_night_bullet_death:" and {name} dies.",log_night_bullet_gandalf_from_horse:` ${_("Gandalf")} {gandalf} gains ${_("CloudWalker","CloudWalker {num}")} (loss of ${_("HorsePiece")} {horse}: {lost}).`,log_night_bullet_horsepiece_from_gandalf:` ${_("HorsePiece")} {horse} gains ${_("CloudWalker","CloudWalker {num}")} (loss of ${_("Gandalf")} {gandalf}: {lost}).`,ui_confirm:"Yes",ui_deny:"No",ui_undo:"Undo",ui_bomb:"Bomb!",ui_next_phase:"Next",ui_replay_bullets:"Replay Animation",ui_bullet_replay:"Playing back shots...",ui_first_night_done:"Mafia meeting ended",ui_start_night:"Start Night",ui_player_label:"Player: {name}",ui_player_jailed_notice:"Player {name} is in prison â€” show them crossed arms ğŸ™….",ui_anarchist_baby:"I shoot you baby!",ui_astronomer_night:"Night!",ui_communist_equal:"Everyone equal!",ui_special_no_owner:"No owner",day_action_vote:"Voted Out",day_prompt_vote:"Select the player who was voted out.",day_prompt_shot:"The Anarchist takes a shot. Choose target.",day_prompt_mass_murderer_select:"Mass Murderer shoots at their accusers. Select players and confirm.",day_idle_message:"It is day. Use available actions.",day_report_confirm:"Confirm Report",public_report_day_player_left:"{name} leaves our game.",public_report_day_ropewalker_lost:`${_("RopeWalker","RopeWalker {num}")} was lost.`,public_report_day_cloudwalker_lost:`${_("CloudWalker","CloudWalker {num}")} was lost.`,public_report_day_kevlar_lost:`${_("KevlarVest","Kevlar Vest {num}")} was destroyed.`,public_report_day_immunity_lost:`${_("Immunity","Immunity {num}")} was used.`,ui_mass_murderer_target:"Sentenced: {name}",ui_mass_murderer_selected:"Selected: {count}",ui_mass_murderer_confirm:"Fire Shots",warn_anarchist_unavailable:"The Anarchist can no longer shoot.",warn_terrorist_unavailable:"The Terrorist can no longer detonate the bomb.",warn_bomb_day_only:"The bomb can only be used during the day.",warn_astronomer_unavailable:"The Astronomer can no longer end the day.",warn_astronomer_day_only:"The Astronomer works only during the day.",warn_communist_unavailable:"The Communist can no longer use their ability.",warn_communist_day_only:"The Communist works only during the day.",log_day_vote:"Player {target} was voted out.",log_day_shot:`${_("Anarchist")} {actor} shot {target}.`,log_day_bomb:`${_("Terrorist")} {player} detonates the bomb!`,log_day_astronomer:`${_("Astronomer")} {player} ends the day.`,log_day_communist:`${_("Communist")} {player} enforces equality.`,log_day_mass_murderer_trigger:`${_("MassMurderer")} {target} reaches for a weapon before the sentence.`,log_day_mass_murderer_shot:`${_("MassMurderer")} {player} kills {target}.`,log_divider_night_start:"Night {round} begins.",log_divider_night_end:"Night {round} ends.",log_divider_day_start:"Day {round} begins.",log_divider_day_end:"Day {round} ends.",setup_next:"Next",setup_remove:"To distribute roles correctly, you must remove some cards...",setup_step_count:"Number of Players",setup_step_mafia:"Number of Mafia Cards",setup_mafia_description:"Choose how many Mafia cards will be in the deck ({min} - {max}).",setup_mafia_label:"Mafia Cards in Deck",setup_mafia_recommended:"Recommended count for {players} players: {count}",setup_step_names:"Names",setup_step_balance:"Game Balance",setup_balance_instruction:"To balance the deck, remove {remove} cards or add {add}.",setup_remove_instruction:"You must remove {count} cards to balance the deck.",setup_cards_remaining:"To Remove",setup_cards_missing:"Cards Missing",setup_cards_total:"Total cards in deck: {count}",setup_cards_minimum:"Add {missing} more so each player gets at least one card.",setup_start_game:"Start Game"},g=(e,a)=>a?`{{card:${e}|${a}}}`:`{{card:${e}}}`,br=[{title:"O grze",blocks:[{kind:"paragraph",text:"Mafia je spoleczensko gra do 2â€“20 osÃ³b."},{kind:"paragraph",text:`Gracze se dzielÃ³m na dwie frakcje: ${g("Mafia","Mafie")} a Miasto (normalnych obywateli). ${g("Mafia","Mafia")} wygrywo jak zabije wszystkich obywateli, zatymco Miasto wygrywo jak se zbawi caÅ‚ej ${g("Mafia","Mafii")}.`},{kind:"paragraph",text:"Gra je zaÅ‚oÅ¼Ã³no na dedukcji, blafowaniu a szykownym wyuÅ¼ywaniu karet."}]},{title:"PoczÃ³ntek gry",blocks:[{kind:"paragraph",text:"Na poczÃ³ntku partii kaÅ¼dy gracz dostanie takÃ³m samÃ³m iloÅ›Ä‡ karet."},{kind:"paragraph",text:"Przed piyrwszÃ³m nocÃ³m by se gracze mieli zapoznaÄ‡ z dziaÅ‚aniym swoich nocnych karet."},{kind:"paragraph",text:`System rozdowanio karet polego na zabezpieczyniu przed niesprawiedliwymi kombinacjami (np. Å¼e jedyn gracz dostanie wszystki ${g("CloudWalker","Mrakoszlapy")}). Dalsze info je w sekcji â€Zasady balansu karetâ€.`}]},{title:"Noc",blocks:[{kind:"paragraph",text:"Jak ProwadzÃ³ncy ogÅ‚oszo noc, wszyscy gracze zamykajÃ³m oczy. Potym ProwadzÃ³ncy wywoÅ‚uje aktywne postawy, a pyto se ich na uÅ¼yci swoich zdolnoÅ›ci a wybier celu. ObudzÃ³ni gracze odpowiadajÃ³m pocichu, za pomocÃ³m gestÃ³w gÅ‚owy albo rÃ³nk."},{kind:"paragraph",text:"Noce se dzielÃ³m na parzyste a nieparzyste â€“ na tym zaleÅ¼y, kiere karty sÃ³m budzone a w jakim porzadi."},{kind:"paragraph",text:"Podrobny schemat budzyÅ„ nocnych a dziynnych roli je w sekcji â€KolejnoÅ›Ä‡ budzyÅ„â€."}],subsections:[{title:`Piyrwszo noc - narada ${g("Mafia","Mafii")}`,blocks:[{kind:"paragraph",text:`Na poczÃ³ntku piyrwszej nocy ProwadzÃ³ncy budzi caÅ‚Ã³m ${g("Mafia","Mafie")}. To je jedyny moment, w kierym se ${g("Mafia","Mafianie")} mogÃ³m pocichu domÃ³wiÄ‡ strategie a porzadi zabijania. Na kÃ³Å„cu narady ${g("Mafia","Mafia")} zaÅ› idzie spaÄ‡ a zaczyno se normalno noc.`}]}]},{title:"DziyÅ„",blocks:[{kind:"paragraph",text:"Rano se miasto budzi do Å¼ycia, gracze otwiyrajÃ³m oczy, a ProwadzÃ³ncy przedstawio raport z nocy."},{kind:"paragraph",text:"Zabici gracze kÃ³Å„czÃ³m udziaÅ‚ we grze â€“ od tej chwili nimogÃ³m gÅ‚osowaÄ‡ ani mÃ³wiÄ‡."},{kind:"list",ordered:!0,title:"Przebieg dnia:",items:["ProwadzÃ³ncy czyto sprawozdani z tego, co se staÅ‚o w nocy.",`Gracze wnoszÃ³m oskarÅ¼ynia na osoby, kiere podejrzewajÃ³m, Å¼e sÃ³m w ${g("Mafia","Mafii")}, aby ich posÅ‚aÄ‡ na szubienice.`,`OskarÅ¼Ã³ni gracze majÃ³m mowy obrÃ³nne, aby przekonaÄ‡ inkszych, Å¼e sÃ³m niewinni. JeÅ›li ${g("GhostBobo","Duch Bobo")} odebroÅ‚ kierymu oskarÅ¼onymu gÅ‚os, tyn pokazuje na osobe (adwokata), kiero go musi brÃ³niÄ‡ poprzez tÅ‚umaczyni min a ruchÃ³w oskarÅ¼Ã³nego.`,`ProwadzÃ³ncy mianuje oskarÅ¼Ã³nych w porzadi, w jakim se bydzie gÅ‚osowaÄ‡. JeÅ›li je yny jedyn kandydat, gracze gÅ‚osujÃ³m dwa razy: piyrwsze za, a potym przeciwko egzekucji. JeÅ›li je wiyncej kandydatÃ³w, gracze gÅ‚osujÃ³m postupnie za Å›mierciÃ³m kaÅ¼dego z nich. Przi kaÅ¼dym gÅ‚osowaniu ProwadzÃ³ncy robi odliczani: â€Kto chce gÅ‚osowaÄ‡ za [opcja], rynce do gÃ³ry za trzi, dwa, jedynâ€. GÅ‚osowaÄ‡ mogÃ³m wszyscy (aj sami oskarÅ¼yni), chyba Å¼e ${g("Judge","Soudce")} kÃ³musi zakozoÅ‚.`,"Po gÅ‚osowaniu miasto idzie spaÄ‡."]},{kind:"paragraph",text:`Nikiere role zmiyniajÃ³m siÅ‚e gÅ‚osu: gÅ‚os ${g("Meciar","Mecziara")} se rachuje jak dwa, a iloÅ›Ä‡ gÅ‚osÃ³w na ${g("Kovac","Kovacza")} je o jedyn mniyjszo. ${g("Communist","Komunista")} moÅ¼e roz za gre zruszyÄ‡ bonusy ${g("Meciar","Mecziara")}, ${g("Kovac","Kovacza")}, ${g("Judge","Soudce")} a cenzure ${g("GhostBobo","Ducha Bobo")}, aby wszyscy mieli rÃ³wne prawa.`},{kind:"paragraph",text:`ProwadzÃ³ncy liczy gÅ‚osy ryncznie a musi pamiyntaÄ‡ o bonusie ${g("Meciar","Mecziara")} a minusie ${g("Kovac","Kovacza")}. Aplikacja jyny pokazuje ikony przy rolach, ale wynik musi poprawiÄ‡ ProwadzÃ³ncy.`},{kind:"paragraph",text:"Jak je remis, oskarÅ¼Ã³ni z rÃ³wnÃ³m liczbÃ³m gÅ‚osÃ³w mogÃ³m - jeÅ›li chcÃ³m - wygÅ‚osiÄ‡ ostatecznÃ³m mowe obrÃ³nnÃ³m. Potym je miyndzy nimi dogrywka na stejnakich zasadach. Jak by byÅ‚ zaÅ› remis, gÅ‚osowani se hned kÃ³Å„czy bez egzekucji."},{kind:"paragraph",text:`Przed wyrokym moÅ¼e ${g("Astronomer","Astronom")} uÅ¼yÄ‡ swoi zdolnoÅ›ci, aby hned zakÃ³Å„czyÄ‡ dziyÅ„ bez Å›mierci skazanego.`}]},{title:"ReguÅ‚y obronne",blocks:[{kind:"paragraph",text:`Gracze majÃ³m obronne prostrzedki, kiere se aktywujÃ³m automatycznie. PouÅ¼yci karty ${g("CloudWalker","Mrakoszlap")}, ${g("Immunity","Imunita")}, ${g("KevlarVest","Kewlar")}, ${g("Mirror","ZwierciadÅ‚o")} albo ${g("RopeWalker","Prowazochodec")} powoduje, Å¼e ta karta przepado.`}],subsections:[{title:"Tunel",blocks:[{kind:"paragraph",text:"Jak zostanie trefiÃ³ny piyrwszy pokozany gracz, kula leci tunelym do drugiego. Jak od jednego gracza idzie wiyncej tuneli, kula se dzieli na odÅ‚amki, kiere lecÃ³m wszystkimi tunelami (majÃ³m ty same wÅ‚aÅ›ciwoÅ›ci co normalno kula). Kula ani odÅ‚amki nimogÃ³m lecieÄ‡ tym samym tunelym dwa razy. Jak sÃ³m dwa albo trzi tunele w tym samym kierunku miyndzy tymi samymi graczami, kula se nie dzieli, jyny leci tunelym zrobiÃ³nym nejwczeÅ›nieji."}]},{title:"Gazmaska",blocks:[{kind:"paragraph",text:`Ci co majÃ³m karty ${g("Mage","Mag 2")}, ${g("MadGunman","Szileny Strzelec 2")} a ${g("GhostBobo","Duch Bobo")} majÃ³m Gazmaske, kiero chrÃ³ni przed ${g("Sand","Pioskym")} a smrodym z ${g("Sock","Fusekli")}.`}]}]},{title:"ReguÅ‚y obronne â€“ noc",blocks:[{kind:"paragraph",text:`KaÅ¼dy nocny atak se weryfikuje przez system obron w danym porzadi â€“ jak zadziaÅ‚o jedna bariera, reszta se uÅ¼ niesprawdzo. Przed listÃ³m priorytetÃ³w se dycki sprawdzo, jeÅ›li ${g("Matrix")} nie chyciÅ‚ kule.`},{kind:"paragraph",text:"Aplikacja przeliczo ataki podle tejtu hierarchii, ale kÃ³Å„cowy raport je naschwol pomiyszany, aby nie szÅ‚o poznaÄ‡ strzelcÃ³w."}],subsections:[{title:`a) Kula od ${g("Mafia","Mafii")}`,blocks:[{kind:"list",title:`Strzilo ${g("Mafia","Mafian")} z najwyÅ¼szym numerem:`,ordered:!0,items:[g("Magnet","Magnet"),"Tunel",g("Mirror","ZwierciadÅ‚o"),g("Slime","Åšlina"),g("AlCapone","Al Capone"),g("Doctor","Doktor"),g("KevlarVest","Kewlar"),g("CloudWalker","Mrakoszlap")]}]},{title:`b) Kula od ${g("MadGunman","Szilonego Strzelca")}`,blocks:[{kind:"list",ordered:!0,items:[g("Magnet","Magnet"),"Tunel",g("Mirror","ZwierciadÅ‚o"),g("Slime","Åšlina"),g("Doctor","Doktor"),g("KevlarVest","Kewlar"),g("CloudWalker","Mrakoszlap")]}]},{title:`c) Kula od ${g("Sniper","Snipera")}`,blocks:[{kind:"list",ordered:!0,items:[g("Magnet","Magnet"),"Tunel",g("Mirror","ZwierciadÅ‚o"),g("Slime","Åšlina"),g("Doctor","Doktor"),g("KevlarVest","Kewlar"),g("CloudWalker","Mrakoszlap")]}]},{title:`d) SmrÃ³d z ${g("Sock","Fusekli")}`,blocks:[{kind:"list",ordered:!0,items:["Gazmaska",g("Doctor","Doktor"),g("CloudWalker","Mrakoszlap")]}]},{title:`e) Kula od ${g("Matrix","Matrixa")}`,blocks:[{kind:"list",ordered:!0,items:[g("KevlarVest","Kewlar"),g("CloudWalker","Mrakoszlap")]}]}]},{title:"ReguÅ‚y obrÃ³nne â€“ dziyÅ„",blocks:[{kind:"paragraph",text:`We dnie obrÃ³na teÅ¼ dziaÅ‚o automatycznie a je stosowano przed Å›mierciÃ³m gracza. JeÅ›li ${g("BlindExecutioner","Slepy Kat")} pokozoÅ‚ ofiare zastympczÃ³m, zamiana celÃ³w nastympuje automatycznie przed zuÅ¼yciym tarcz.`}],subsections:[{title:"a) Skazani w gÅ‚osowaniu",blocks:[{kind:"list",ordered:!0,items:[g("RopeWalker","Prowazochodec"),g("Immunity","Imunita"),g("CloudWalker","Mrakoszlap")]}]},{title:`b) StrzaÅ‚ w dziyÅ„ (${g("Anarchist","Anarchista")}, ${g("MassMurderer","Masowy Zabijak")}, ${g("Terrorist","Bomba")})`,blocks:[{kind:"list",ordered:!0,items:[g("Immunity","Imunita"),g("KevlarVest","Kewlar"),g("CloudWalker","Mrakoszlap")]}]}]},{title:"KolejnoÅ›Ä‡ budzyÅ„",blocks:[],subsections:[{title:"a) Parzyste noce",blocks:[{kind:"paragraph",text:"W parzyste noce se budzÃ³m:"},{kind:"list",items:[g("Jailer","Jailer"),g("Gravedigger","Grabarz"),g("Matrix","Matrix"),g("Mage","Magowie"),g("Slime","Åšlina"),g("Leech","Pijawica"),g("Sand","Piosek"),g("Cobra","Kobra"),g("Magnet","Magnet"),g("GhostBobo","Duch Bobo"),g("Doctor","Doktor"),g("SwampMonster","JoÅ¼in z BaÅ¼in"),g("Mafia","Mafia"),g("MadGunman","Szileny Strzelcy"),g("Sniper","Sniper"),g("Sock","Fusekla"),g("Judge","Soudce"),g("BlindExecutioner","Slepy Kat"),g("Matrix","StrzaÅ‚ Matrixa")]}]},{title:"b) Nieparzyste noce",blocks:[{kind:"paragraph",text:"W nieparzyste noce se budzÃ³m:"},{kind:"list",items:[g("Gravedigger","Grabarz"),g("Matrix","Matrix"),g("Mage","Magowie"),g("Slime","Åšlina"),g("Leech","Pijawica"),g("Sand","Piosek"),g("Doctor","Doktor"),g("SwampMonster","JoÅ¼in z BaÅ¼in"),g("Mafia","Mafia"),g("Sniper","Sniper"),g("Sock","Fusekla"),g("BlindExecutioner","Slepy Kat"),g("Matrix","StrzaÅ‚ Matrixa")]}]},{title:"c) Dodatkowe zasady nocne",blocks:[{kind:"paragraph",text:`Pod kÃ³niec kaÅ¼dej trzeci nocy (zaczynajÃ³nc od drugi) se budzi ${g("Spyglass","Luneta")}, aby wiedziaÅ‚a, kierzi gracze byli aktywni.`},{kind:"paragraph",text:`Nikiere role (np. ${g("Matrix")}) majÃ³m ograniczÃ³nÃ³m liczbe uÅ¼yÄ‡; jak se wyczerpiÃ³m, ProwadzÃ³ncy ich przestowo budziÄ‡.`}]}]},{title:"Zasady balansu karet",blocks:[{kind:"paragraph",text:"Aby gra byÅ‚a sprawiedliwo, aplikacja stosuje taki oto ograniczynia przy rozdowaniu roli:"},{kind:"list",items:[`Gracz moÅ¼e mieÄ‡ jyny jednÃ³m karte ${g("Mafia","Mafii")}.`,`Gracz moÅ¼e mieÄ‡ jyny jednÃ³m karte z pary ${g("Gandalf")} / ${g("HorsePiece","Kus Konia")}.`,`Gracz moÅ¼e mieÄ‡ jyny jednÃ³m karte z zestawu: ${g("Mage","Mag 2")} / ${g("MadGunman","Szileny Strzelec 2")} / ${g("GhostBobo","Duch Bobo")}.`,`Gracz moÅ¼e mieÄ‡ jyny jednÃ³m karte z pary ${g("Leech","Pijawica")} / ${g("Cobra")}.`,`Gracz moÅ¼e mieÄ‡ jyny jednego ${g("MadGunman","Szilonego Strzelca")}.`,`Gracz moÅ¼e mieÄ‡ jyny jednÃ³m karte ${g("Slime","Åšliny")}.`,`Gracz moÅ¼e mieÄ‡ jyny jednÃ³m karte z pary ${g("Atheist","Ateista")} / ${g("Matrix")}.`,`Gracz co mo karte ${g("Mafia","Mafii")} niemoÅ¼e dostaÄ‡ ${g("Doctor","Doktora")} ani ${g("Spyglass","Lunety")}.`,`Gracz moÅ¼e dostaÄ‡ maksymalnie dwa ${g("CloudWalker","Mrakoszlapy")}.`,`Gracz moÅ¼e dostaÄ‡ maksymalnie dwÃ³ch ${g("RopeWalker","ProwazochodcÃ³w")}.`,`Gracz co mo karte ${g("Gravedigger","Grabarz")}, ${g("Leech","Pijawica")}, ${g("AlCapone","Al Capone")}, ${g("Gandalf")} albo ${g("HorsePiece","Kus Konia")} moÅ¼e dostaÄ‡ jyny jednego ${g("CloudWalker","Mrakoszlapa")}.`]}]}],fr={role_AlCapone:"Al Capone",role_Anarchist:"Anarchista",role_Astronomer:"Astronom",role_Atheist:"Ateista",role_BlindExecutioner:"Slepy Kat",role_CloudWalker:"Mrakoszlap",role_Cobra:"Kobra",role_Communist:"Komunista",role_Doctor:"Doktor",role_Gandalf:"Gandalf",role_GhostBobo:"Duch Bobo",role_Glazier:"Szklorz",role_Gravedigger:"Grabarz",role_HorsePiece:"Kus Konia",role_Immunity:"Imunita",role_Jailer:"Jailer",role_Judge:"Soudce",role_KevlarVest:"Kewlar",role_Kovac:"Kovacz",role_Leech:"Pijawica",role_MadGunman:"Szileny Strzelec",role_Mafia:"Mafia",role_Magnet:"Magnet",role_MassMurderer:"Masowy Zabijak",role_Matrix:"Matrix",role_Meciar:"Mecziar",role_Mage:"Mag",role_Mirror:"ZwierciadÅ‚o",role_RopeWalker:"Prowazochodec",role_Sand:"Piosek",role_Slime:"Åšlina",role_Sniper:"Sniper",role_Sock:"Fusekla",role_Spyglass:"Luneta",role_SwampMonster:"JoÅ¼in z BaÅ¼in",role_Terrorist:"Terrorysta",role_TimeLord:"Pan Czasu",card_description_AlCapone:"Al Capone jako ojciec chrzestny Mafii je imunni na jeji ataki. OchrÃ³na ta dziaÅ‚o jyny na bezpostrzedni strzaÅ‚ Mafii, ale nie chrÃ³ni przed kulÃ³m przekierowanÃ³m przez Tunel, Magnet albo ZwierciadÅ‚o.",card_description_Anarchist:'Anarchista moÅ¼e roz za gre w dziyÅ„ uÅ¼yÄ‡ swoji zdolnoÅ›ci, a powiedzieÄ‡ "I shoot you baby!", po czym strzylo do osoby, kierÃ³m se wybiere.',card_description_Astronomer:'Astronom moÅ¼e roz za gre w dziyÅ„ uÅ¼yÄ‡ swoji zdolnoÅ›ci, godajÃ³nc "Noc!", co hned kÃ³Å„czy dziyÅ„, aj jak prawie trwo gÅ‚osowani.',card_description_Atheist:"Tunel zrobiony od Maga do Ateisty nie dziaÅ‚o. ProwadzÃ³ncy nie godo Magowi, Å¼e zrobiÅ‚ tunel na Ateiste.",card_description_BlindExecutioner:"Slepy Kat moÅ¼e dwa razy za gre pokozaÄ‡ w nocy dwÃ³ch graczy. Jak w nastympny dziyÅ„ piyrwszy ze wskozanych graczy mo byÄ‡ powieszÃ³ny, zamiast niego ginie tyn drugi.",card_description_CloudWalker:"Mrakoszlap to je podstawowo karta obrÃ³nno, dziaÅ‚o jako dodatkowe Å¼yci. ZuÅ¼ywo se, jak gracz nimo innej ochrÃ³ny.",card_description_Cobra:"Kobra kaÅ¼dÃ³m parzystÃ³m noc pokazuje grocza, kiery podle ni mo Pijawice. Jak trefi, pod kÃ³niec nocy dostanie Mrakoszlapa a zjy Pijawice (gracz z tÃ³m kartÃ³m straci swoje zdolnoÅ›ci).",card_description_Communist:'Komunista moÅ¼e roz za gre w dziyÅ„ uÅ¼yÄ‡ swoji zdolnoÅ›ci, godajÃ³nc "Obywatele, w tej rundzie my sÃ³m wszyscy rÃ³wni", a tym anuluje na jedyn dziyÅ„ zdolnoÅ›ci Mecziara, Kovacza, Ducha Bobo a Soudce.',card_description_Doctor:"Doktor kaÅ¼dej nocy pokazuje gracza, kierego lyczy, a tym go chrÃ³ni roz przed kulÃ³m albo smrodym z Fusekli. Co trzeciÃ³m noc (zaczynajÃ³nc od piyrwszej albo drugi) moÅ¼e ulyczyÄ‡ samego siebie. Jak Doktor zustanie sÃ³m przeciwko jednymu albo kielasi MafianÃ³m a nimÃ³g by se ulyczyÄ‡ sÃ³m, je deaktywowany.",card_description_Gandalf:"Jak Kus Konia straci Mrakoszlapa, dostanie go Gandalf. W nocy moÅ¼e tak dostaÄ‡ jyny jednego Mrakoszlapa.",card_description_Glazier:"Jak Szklorz nimo Å¼odnego ZwierciadÅ‚a, a inszemu graczowi w nocy zustanie zniszczÃ³ne, Szklorz go dostanie pod kÃ³niec nocy. MoÅ¼e dostaÄ‡ jyny jedno ZwierciadÅ‚o za noc.",card_description_GhostBobo:"Duch Bobo kaÅ¼dÃ³m parzystÃ³m noc pokazuje grocza, kiery w nastympny dziyÅ„ bydzie mioÅ‚ zakaz mÃ³wiynio (zakaz moÅ¼e zruszyÄ‡ jyny Komunista). Jak oskarÅ¼Ã³ny gracz mo zakaz dany od Ducha Bobo, wybiyro se osobe, kiero go bydzie brÃ³niÄ‡ tÅ‚umaczÃ³nc jego miny a gesty.",card_description_Gravedigger:"Grabarz moÅ¼e roz za gre w nocy wykopaÄ‡ groby do MrakoszlapÃ³w, a pod kÃ³niec nocy dostanie tela MrakoszlapÃ³w, wiela ich tej nocy stracili inni grocze.",card_description_HorsePiece:"Jak Gandalf straci Mrakoszlapa, dostanie go Kus Konia. W nocy moÅ¼e tak dostaÄ‡ jyny jednego Mrakoszlapa.",card_description_Immunity:"Karta obrÃ³nno na przipadek trefiynio kulÃ³m w dziyÅ„ albo skazania na Å›mierÄ‡ na szubienicy.",card_description_Jailer:"Jailer moÅ¼e roz za gre pokozaÄ‡ gracza, kierego wsadzi do wiynziynia, blokujÃ³nc jego zdolnoÅ›ci w tej nocy. ProwadzÃ³ncy budzi zawrzitego gracza, ale wyraÅºnie mu pokazuje, Å¼e je zawrzity.",card_description_Judge:"Soudce kaÅ¼dej parzystej nocy pokazuje gracza, kiery w nastympny dziyÅ„ bydzie mioÅ‚ zakaz gÅ‚osowanio. Komunista moÅ¼e tyn zakaz zruszyÄ‡.",card_description_KevlarVest:"Karta obrÃ³nno na przipadek trefiynio kulÃ³m.",card_description_Kovac:"Kovacz zmniyjszo liczbe gÅ‚osÃ³w za jego Å›mierciÃ³m o 1. Jak Komunista uÅ¼yje swojÃ³m zdolnoÅ›Ä‡, Kovacz traci tyn bonus.",card_description_Leech:"Pijawica kaÅ¼dej nocy pokazuje gracza, do kierego se przysyso. Jak tyn gracz straci w nocy Mrakoszlapa albo zginie, Pijawica dostanie Mrakoszlapa. Pijawica moÅ¼e byÄ‡ zjedzÃ³no KobrÃ³m.",card_description_MadGunman:"Szileny Strzelec kaÅ¼dej parzystej nocy strzilo na jednego grocza.",card_description_Mafia:"Mafian moÅ¼e wygraÄ‡ gre przez zabici wszystkich normalnych graczy, uÅ¼ywajÃ³nc kuli kaÅ¼dej nocy. Aby Mafia wystrzeliÅ‚a, wszyscy Mafianie muszÃ³m w nocy pokozaÄ‡ tego samego grocza. Aby mÃ³gli ustaliÄ‡ porzadi strzilanio, budzÃ³m se na poczÃ³ntku piyrwszej nocy.",card_description_Mage:"Mag kaÅ¼dej nocy pokazuje dwÃ³ch groczy, miyndzy kierymi robi jednokierunkowy tunel. Jak piyrwszy gracz dostanie kulÃ³m, ta wyndruje tunelym do drugigo.",card_description_Magnet:"Magnet kaÅ¼dej parzystej nocy pokazuje grocza, kierego magnetyzuje. Jak kole namagnetyzowanego gracza leci kula, zostanie do niego przyciÃ³ngnyto. Kula moÅ¼e byÄ‡ przyciÃ³ngnyto jyny roz.",card_description_MassMurderer:"Jak Masowy Zabijak zostanie skazany na szubienice, strzylo do wszystkich, kierzi na niego gÅ‚osowali.",card_description_Matrix:"Matrix moÅ¼e roz za gre w nocy zmiyniÄ‡ prawa fizyki â€“ chyciÄ‡ wszystki kule, co na niego lecÃ³m, a wypuÅ›ciÄ‡ ich pod kÃ³niec nocy.",card_description_Meciar:"W gÅ‚osowaniu se jego gÅ‚os liczy podwÃ³jnie. Jak Komunista uÅ¼yje swojÃ³m zdolnoÅ›Ä‡, Mecziar traci tyn bonus.",card_description_Mirror:"Karta obrÃ³nno na przipadek trefiynio kulÃ³m Mafii albo Szilenego Strzelca. Po rozbiciu ZwierciadÅ‚a kula wraco do gracza, od kierego przileciaÅ‚a, chyba Å¼e ZwierciadÅ‚o byÅ‚o poplamiÃ³ne bÅ‚otym od JoÅ¼ina z BaÅ¼in.",card_description_RopeWalker:"Karta obrÃ³nno przed Å›mierciom na szubienicy.",card_description_Sand:"Gracz z kartÃ³m Piosek kaÅ¼dej nocy pokazuje grocza, kierego posypuje pioskym. Piosek ruszy efekt Åšliny, a gracz je zaÅ› podatny na strzaÅ‚. Ochrone przed Pioskym majÃ³m gracze z GazmaskÃ³m (Szileny Strzelec 2, Mag 2 a Duch Bobo).",card_description_Slime:"Gracz z kartÃ³m Åšlina kaÅ¼dej nocy pokazuje grocza, kierego chce oÅ›liniÄ‡. OÅ›liniÃ³ny gracz je roz w nocy chrÃ³niony przed kulÃ³m Mafii, Szilenego Strzelca a Snipera (kula se z niego zeÅ›lizgnie). Efekt Åšliny idzie zruszyÄ‡ Pioskym.",card_description_Sniper:"Sniper moÅ¼e roz za gre pokozaÄ‡ grocza, w kierego strzilo silnym pociskym. Tyn je tak silny, Å¼e rozbije aj ZwierciadÅ‚o a leci dali.",card_description_Sock:"Gracz z FuseklÃ³m moÅ¼e roz za gre w nocy ciepnÃ³Ä‡ Fusekle miyndzy dwÃ³ch graczy, kierzi padajÃ³m od jejigo smrodu. Przed smrodym Fusekli chrÃ³ni jyny Gazmaska, Doktor a Mrakoszlap. Szileny Strzelec 2, Mag 2 a Duch Bobo majÃ³m Gazmaske.",card_description_Spyglass:"Luneta se budzi pod kÃ³niec kaÅ¼dej trzeci nocy (zaczynajÃ³nc od drugi) a dowiaduje se od ProwadzÃ³ncego, kierzi gracze byli tej nocy obudzÃ³ni.",card_description_SwampMonster:"JoÅ¼in z BaÅ¼in moÅ¼e trzi razy za gre pokozaÄ‡ w nocy gracza, kierymu poplami ZwierciadÅ‚o. Kula rozbijo brudne ZwierciadÅ‚o, a leci dali. JoÅ¼in moÅ¼e uÅ¼yÄ‡ swojÃ³m zdolnoÅ›Ä‡ wiyncej razy w jednÃ³m noc. Jak mo JoÅ¼in teÅ¼ karte Mafiana, Snipera albo Szilenego Strzelca, moÅ¼e poplamiÄ‡ ZwierciadÅ‚o jyny dwa razy.",card_description_Terrorist:'Terrorysta moÅ¼e roz za gre w dziyÅ„ uÅ¼yÄ‡ swojÃ³m zdolnoÅ›Ä‡, godajÃ³nc "Bomba!", po czym strzylo do wszystkich graczy.',card_description_TimeLord:'Pan Czasu moÅ¼e roz za gre na poczÃ³ntku dnia albo nocy powiedzieÄ‡ "JeÅ¼ech Panym czasu!" a przeskoczyÄ‡ caÅ‚y dziyÅ„ albo noc.',app_title:"MafiaÂ²",app_continue_game:"PokraczowaÄ‡ we grze",app_continue_round:"Runda {round}",app_new_game:"Nowo gra",nav_game:"Gra",nav_players:"Gracze",nav_logs:"Logi",nav_rules:"Zasady",nav_cards:"Karty",nav_settings:"Nastawiynia",nav_my_cards:"Moje karty",nav_all_cards:"Wszystki karty",player_link_invalid:"ZÅ‚y link gracza. Popytej ProwadzÃ³ncego o nowy.",rules_header_title:"ReguÅ‚y",rules_missing_language:"Ni ma przetÅ‚umaczÃ³nych reguÅ‚ do tego jynzyka.",logs_heading:"Dziynnik nocy a dnia",logs_subheading:"Pokazujym raport nocy a dnia #{round}",logs_round_label:"Runda",logs_view_label:"Widok",logs_public_report_title:"Publiczny raport",logs_public_report_placeholder:"Publiczny raport bydzie na poczÃ³ntku dnia.",logs_round_title:"Dziynnik rundy",logs_round_empty:"Å»adnych wpisÃ³w dlo tej rundy.",logs_panel_title:"Historia gry",logs_panel_empty:"Dziynnik je pusty.",cards_collection_title:"Kolekcja karet",cards_placeholder_description:"Opis se robi.",cards_toggle_icons:"Ikony",cards_toggle_images:"Grafiki",player_add_card_title:"Przidej zdobytÃ³m karte",player_add_card_button:"Przidej karte",player_add_card_type_label:"Typ karty",player_add_card_instance_label:"Numer karty",player_add_card_submit:"Przidej karte",player_add_card_duplicate:"Ta karta uÅ¼ je na liÅ›cie.",settings_language_title:"Jynzyk aplikacji",settings_language_active:"Aktywny",settings_title:"Nastawiynia",settings_player_node_size:"WielkoÅ›Ä‡ pionkÃ³w graczy",settings_reset_player_size:"Resetuj wielkoÅ›Ä‡ pionkÃ³w",settings_player_node_hint:"Pomogo trefiÄ‡ w kulki na wielkich stoÅ‚ach.",settings_bullet_speed:"PryndkoÅ›Ä‡ kuli",settings_bullet_speed_fast:"Szybcij",settings_bullet_speed_slow:"Pomaleji",settings_bullet_speed_hint:"Steruje tempym animacji nocnych strzaÅ‚Ã³w.",settings_storage_title:"PamiynÄ‡",settings_export_data_button:"Eksportuj dane gry",settings_import_data_button:"Importuj z pliku",settings_import_warning:"Import zmazuje aktualnÃ³m rozgrywke.",settings_import_error:"Nie szÅ‚o wczytaÄ‡ zapisu. SprowdÅº plik a sprÃ³buj zaÅ›.",gm_players_title:"Gracze ({count})",gm_players_badge_mafia:"Mafia",gm_players_no_cards:"Bez karet",gm_players_share_button:"Udostympnij",gm_players_qr_button:"Kod QR",gm_players_qr_instruction:"Zeskanuj kod, aby otworzyÄ‡ widok gracza.",gm_players_qr_generating:"Generowani kodu QRâ€¦",gm_players_copy_link_instead:"Skopiuj link zamiast tego",gm_players_manual_copy_title:"Skopiuj link ryncznie",gm_players_manual_copy_fallback:"Udostympniani tu nie dziaÅ‚o. Skopiuj link a poÅ›lij go graczowi {name}.",gm_players_manual_copy_label:"Link",gm_players_manual_copy_copy:"Skopiuj link",gm_players_manual_copy_close:"Zawrzyj",gm_players_share_insecure:"Udostympniani dziaÅ‚o jyny bez HTTPS (albo localhost). Skopiuj link albo otwÃ³rz aplikacje bez https://.",gm_players_share_unsupported:"Ta przeglÄ…darka nimo przycisku Udostympnij. Skopiuj link na dole.",gm_players_share_failure_reason:"Udostympniani sie nie udaÅ‚o. Skopiuj link ryncznie.",gm_players_share_title:"{player} â€” link gracza",gm_players_copy_success:"Link do gracza {player} skopiowany! PoÅ›lij mu go.",gm_players_qr_error:"Nie idzie zrobiÄ‡ kodu QR. Link je w schowku.",gm_players_modal_close_qr_aria:"Zawrzyj okno kodu QR",gm_players_modal_close_manual_aria:"Zawrzyj okno kopiowanio",gm_players_share_mode_title:"Tryb udostympnianio",gm_players_share_mode_hint:"Ukrywo karty a farby Mafii jak pokazujesz kody QR.",gm_players_share_mode_on:"ZaÅ‚Ã³nczÃ³ny",gm_players_share_mode_off:"WyÅ‚Ã³nczÃ³ny",gm_players_share_mode_cards_hidden:"Karty ukryte w trybie udostympnianio.",victory_mafia:"Wygrywo Mafia.",victory_innocent:"Wygrywo Miasto.",log_start_game:"Nowo gra se zaczÅ‚a.",log_player_activate:"{cardLabel} {player} uÅ¼yÅ‚ zdolnoÅ›ci.",start_day:"Zacznij dziyÅ„",start_night_intro:"Zaczyno noc, miasteczko idzie spaÄ‡...",first_night_message:"Mafia se budzi, aby ustaliÅ‚a strategie.",wake_up:"Budzi se {role}. Chce uÅ¼yÄ‡ swojÃ³m zdolnoÅ›Ä‡?",wake_up_use_again:"Chce {role} zaÅ› uÅ¼yÄ‡ swojÃ³m zdolnoÅ›Ä‡?",wake_up_shooter:"Budzi se {role}. Na kogo chce strzeliÄ‡?",wake_up_mage_from:"Budzi se {role}. Z kierego gracza chce zrobiÄ‡ tunel?",wake_up_mage_to:"Na kierego gracza chce {role} zrobiÄ‡ tunel?",log_tunnel_duplicate:"{cardLabel} {player} chcioÅ‚ zrobiÄ‡ tunel {source}->{target}, ale taki uÅ¼ je.",log_tunnel_atheist:`{cardLabel} {player} chcioÅ‚ zrobiÄ‡ tunel na gracza {target}, ale to ${g("Atheist","Ateista")}.`,log_tunnel_same_player:"{cardLabel} {player} nimoÅ¼e zrobiÄ‡ tunel na tego samego gracza.",log_tunnel_created:"{cardLabel} {player} zrobiÅ‚ tunel {tunnelNumber} ({source} -> {target}).",wake_up_slime:"Budzi se {role}. Kogo chce poÅ›liniÄ‡?",log_action_slime:"{cardLabel} {player} poÅ›liniÅ‚ gracza {target}.",public_report_slime:"{name} byÅ‚ poÅ›liniÃ³ny.",public_report_slime_multi:"{name} byÅ‚ poÅ›liniÃ³ny (x{count}).",wake_up_leech:"Budzi se {role}. Do kogo se chce przissaÄ‡?",log_action_leech:"{cardLabel} {player} se przissoÅ‚ do gracza {target}.",public_report_leech_cloudwalker:`${g("Leech","Pijawica")} dostaÅ‚a ${g("CloudWalker","Mrakoszlapa {num}")}.`,log_night_leech_cloudwalker:`{cardLabel} {player} dostaÅ‚a ${g("CloudWalker","Mrakoszlapa {num}")}.`,wake_up_sand:"Budzi se {role}. Kogo chce posypaÄ‡ pioskym?",log_action_sand:"{cardLabel} {player} posypoÅ‚ pioskym gracza {target}.",log_action_sand_fail:`{cardLabel} {player} chcioÅ‚ uÅ¼yÄ‡ ${g("Sand","Piosku")} na graczu {target}, ale tyn mo Gazmaske.`,public_report_sand:"{name} mo piosek w oczach.",public_report_sand_saved:`Gazmaska uchrÃ³niÅ‚a gracza przed ${g("Sand","Pioskym")}.`,wake_up_cobra:"Budzi se {role}. Kogo chce ugryÅºÄ‡?",log_action_cobra:"{name} byÅ‚ ugryziÃ³ny.",public_report_cobra_cloudwalker:`${g("Cobra","Kobra")} zjadÅ‚a ${g("Leech","Pijawice")} a dostaÅ‚a ${g("CloudWalker","Mrakoszlapa {num}")}.`,log_night_cobra_cloudwalker:`{cardLabel} {player} zjadÅ‚a ${g("Leech","Pijawice")} a dostaÅ‚a ${g("CloudWalker","Mrakoszlapa {num}")}.`,wake_up_magnet:"Budzi se {role}. Kogo chce namagnetyzowaÄ‡?",log_action_magnet:"{name} byÅ‚ namagnetyzowany.",wake_up_ghost:"Budzi se {role}. KÃ³mu chce zakozaÄ‡ mÃ³wiÄ‡?",log_action_ghost:"{cardLabel} {player} zakozoÅ‚ mÃ³wiÄ‡ graczowi {target}.",public_report_ghost_bobo:"{name} dzisio nimoÅ¼e mÃ³wiÄ‡.",wake_up_judge:"Budzi se {role}. Komu chce zakozaÄ‡ gÅ‚osowaÄ‡?",log_action_judge:"{cardLabel} {player} zakozoÅ‚ gÅ‚osowaÄ‡ graczowi {target}.",public_report_judge:"{name} dzisio nimoÅ¼e gÅ‚osowaÄ‡.",wake_up_swamp_monster:"Kogo chce ochlapaÄ‡ bÅ‚otym?",log_night_swamp_attack:"{cardLabel} {player} ochlapoÅ‚ bÅ‚otem gracza {target}.",wake_up_executioner_save:"Budzi se {role}. Kogo chce uÅ‚askawiÄ‡ ze szubienicy?",wake_up_executioner_victim:"Kto mo iÅ›Ä‡ na szubienice zamiast niego?",log_night_executioner_save:"{saved} je chrÃ³niony przed wyrokym, zamiast niego zginie {victim}.",wake_up_sock_first:"Miyndzy kogo ciepnÃ³Ä‡ Fusekle? PokoÅ¼ piyrwszego gracza.",wake_up_sock_second:"Teraz pokoÅ¼ sÃ³msiada tego gracza.",log_action_sock_throw:`{cardLabel} {player} wycelowaÅ‚ ${g("Sock","FuseklÃ³m")} miyndzy graczy {first} a {second}.`,log_sock_throw_intro:`{cardLabel} {player} ciepnÃ³Å‚ ${g("Sock","Fusekle")} miyndzy graczy {first} a {second}. `,log_sock_result_gasmask:"Gazmaska ochrÃ³niÅ‚a gracza {name}. ",log_sock_result_dead:"Gracz {name} byÅ‚ uÅ¼ mortwy. ",log_sock_result_doctor:`${g("Doctor","Doktor")} zachrÃ³niÅ‚ gracza {name}. `,log_sock_result_cloudwalker:`Gracz {name} straciÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")}. `,log_sock_result_death:"Gracz {name} umrziÅ‚. ",public_report_sock_used:`${g("Sock","Fusekla")} poleciaÅ‚a miyndzy dwÃ³ch graczy. `,public_report_sock_first_gasmask:"Piyrwszego gracza ochrÃ³niÅ‚a Gazmaska",public_report_sock_first_dead:"Piyrwszy gracz byÅ‚ uÅ¼ mortwy",public_report_sock_first_doctor:`Piyrwszego gracza zachrÃ³niÅ‚ ${g("Doctor","Doktor")}`,public_report_sock_first_cloudwalker:`Piyrwszy gracz straciÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")}`,public_report_sock_first_death:"Piyrwszy gracz, {name}, opuszczo naszÃ³m gre",public_report_sock_second_gasmask:", a drugigo ochrÃ³niÅ‚a Gazmaska.",public_report_sock_second_dead:", a drugi gracz byÅ‚ uÅ¼ mortwy.",public_report_sock_second_doctor:`, a drugigo zachrÃ³niÅ‚ ${g("Doctor","Doktor")}.`,public_report_sock_second_cloudwalker:`, a drugi gracz straciÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")}.`,public_report_sock_second_death:", a drugi gracz, {name}, opuszczo naszÃ³m gre.",public_report_sock_first_only_suffix:".",wake_up_jailer:"Budzi se {role}. Kogo wsadzi do wiynziynia?",log_jailer_imprison:"{cardLabel} {player} wsadziÅ‚ do wiynziynia gracza {target}.",log_action_blocked_jailed:"{cardLabel} {player} siedzi w wiynziyniu, tak tej nocy se nic nie stanie.",wake_up_doctor_heal_self:"Budzi se {role}. Kogo chce ulyczyÄ‡? (moÅ¼e siebie)",wake_up_doctor_heal_other:"Budzi se {role}. Kogo chce ulyczyÄ‡? (nimoÅ¼e siebie)",log_doctor_fail:`{cardLabel} {player} chcioÅ‚ ulyczyÄ‡ {target}, ale cel nie bydzie ulyczÃ³ny, bo ${g("Doctor","Doktor")} dziaÅ‚o som przeciw ${g("Mafia","Mafii")}.`,log_doctor_success:"{cardLabel} {player} ulyczy gracza {target}.",log_doctor_self_locked:"{cardLabel} {player} nimoÅ¼e ulyczyÄ‡ siebie tej nocy.",wake_matrix_shot:"Budzi se Matrix. Na kogo chce strzeliÄ‡? (kula {current}/{total})",log_night_matrix_activate:"Dowej pozÃ³r na bioÅ‚ego krÃ³lika... ({cardLabel} {player} pouÅ¼yÅ‚ zdolnoÅ›Ä‡.)",log_night_matrix_bullet_summary:`IloÅ›Ä‡ kul, kiere ${g("Matrix")} {player} chyciÅ‚ tej nocy: {count}.`,wake_up_spyglass:"Budzi se Luneta. DowiedziaÅ‚a se, kto byÅ‚ aktywny tej nocy?",spyglass_reveal_intro:"Tej nocy se obudzili: {names}.",spyglass_reveal_none:"Tej nocy se nigdo nie obudziÅ‚.",log_mafia_jailed:`{cardLabel} {player} je w wiynziyniu, tak ${g("Mafia","Mafia")} nie wystrzeli.`,log_mafia_no_consensus:`${g("Mafia","Mafianie")} nie byli zgodni, tak tej nocy nie wystrzelili.`,log_shoot:"{cardLabel} {player} strzilo do gracza {target}.",log_shooter_aim:"{cardLabel} {player} celuje w gracza {target}.",ui_timelord_skip_night:"{cardLabel}: Przeskocz noc",ui_timelord_skip_day:"{cardLabel}: Przeskocz dziyÅ„",log_timelord_skip_day:"{cardLabel} {player} przeskoczyÅ‚ dziyÅ„.",log_timelord_skip_night:"{cardLabel} {player} przeskoczyÅ‚ noc.",log_day_vest_hit:`{target} traci ${g("KevlarVest","Kewlar {num}")}.`,log_day_ropewalker_lost:`{target} traci ${g("RopeWalker","Prowazochodca {num}")}.`,log_day_immunity_lost:`{target} traci ${g("Immunity","Imunite {num}")}.`,log_day_cloudwalker_lost:`{target} traci ${g("CloudWalker","Mrakoszlapa {num}")}.`,log_day_death:"{target} ginie.",public_report_default:"Miasteczko Palermo wstowo.",public_report_matrix:`Tej nocy ${g("Matrix")} uÅ¼yÅ‚ swojÃ³m funkcje. IloÅ›Ä‡ kul kiere chyciÅ‚: {count}.`,public_report_cloudwalker_gain:`{cardLabel} dostoÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")}.`,public_report_glazier_mirror:`${g("Glazier","Szklorz")} zrobiÅ‚ ${g("Mirror","ZwierciadÅ‚o {num}")}.`,log_night_cloudwalker_gain:`{cardLabel} {player} dostoÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")}.`,log_night_glazier_mirror:`{cardLabel} {player} zrobiÅ‚ ${g("Mirror","ZwierciadÅ‚o {num}")}.`,public_report_bullet_start:"PadnÃ³Å‚ strzaÅ‚",public_report_bullet_dead_target:", ale trefiÅ‚ mortwego gracza.",public_report_bullet_matrix_catch:` a ${g("Matrix")} go chyciÅ‚.`,public_report_bullet_magnet:`, byÅ‚ przyciÃ³ngnyty ${g("Magnet","Magnetym")}`,public_report_bullet_split:", rozszczepiajÃ³nc se na {count} czynÅ›ci.",public_report_bullet_tunnel_single:", przelecioÅ‚ tunelym",public_report_bullet_tunnel_segment:" {index}. odÅ‚amek przelecioÅ‚ tunelym",public_report_bullet_slime:` a pocisk se zeÅ›lizgnÃ³Å‚ po ${g("Slime","Åšlinie")}.`,public_report_bullet_al_capone:`, ale ${g("AlCapone","Al Capone")} zneutralizowaÅ‚ kule.`,public_report_bullet_doctor:`, a gracz byÅ‚ ulyczÃ³ny przez ${g("Doctor","Doktora")}.`,public_report_bullet_mirror_break:`, pynkÅ‚o ${g("Mirror","ZwierciadÅ‚o {num}")}`,public_report_bullet_return:", pocisk se wrÃ³ciÅ‚",public_report_bullet_continue:", ale pocisk leci dali",public_report_bullet_vest_loss:` a ${g("KevlarVest","Kewlar {num}")} zostoÅ‚ zniszczÃ³ny.`,public_report_bullet_cloudwalker_loss:` a umrziÅ‚ ${g("CloudWalker","Mrakoszlap {num}")}.`,public_report_bullet_death:" a naszÃ³m gre opuszczo {name}.",log_night_bullet_start:"{cardLabel} {shooter} strzilo do gracza {target}. ",log_night_bullet_start_generic:"PadnÃ³Å‚ strzaÅ‚ na gracza {target}. ",log_night_bullet_split:"Pocisk se rozszczepiÅ‚ na {count} czynÅ›ci.",log_night_bullet_dead_target:" a trefiÅ‚ mortwego gracza {target}.",log_night_bullet_matrix_catch:` a ${g("Matrix")} {target} go chyciÅ‚.`,log_night_bullet_magnet_initial:`Pocisk byÅ‚a przyciÃ³ngnyty ${g("Magnet","Magnetym")} do gracza {target}`,log_night_bullet_magnet:`, byÅ‚ przyciÃ³ngnyty ${g("Magnet","Magnetym")} do gracza {target}`,log_night_bullet_magnet_dead:` a trefio w mortwego gracza {target} (efekt ${g("Magnet","Magnetu")}).`,log_night_bullet_tunnel_initial:"Pocisk przelecioÅ‚ tunelym {num} ({src} -> {target})",log_night_bullet_tunnel_single:", przelecioÅ‚ tunelym {num} ({src} -> {target})",log_night_bullet_tunnel_segment:" {index}. odÅ‚amek przelecioÅ‚ tunelym {num} ({src} -> {target})",log_night_bullet_slime_initial:`Pocisk se zeÅ›lizguje po ${g("Slime","Åšlinie")} z gracza {target}.`,log_night_bullet_slime:` a zeÅ›lizguje se po ${g("Slime","Åšlinie")} z gracza {target}.`,log_night_bullet_al_capone_initial:`${g("AlCapone","Al Capone")} {target} neutralizuje pocisk.`,log_night_bullet_al_capone:` a ${g("AlCapone","Al Capone")} {target} jÃ³m neutralizuje.`,log_night_bullet_doctor_initial:`${g("Doctor","Doktor")} zachrÃ³niÅ‚ gracza {target}.`,log_night_bullet_doctor:` a gracz {target} byÅ‚ wylyczÃ³ny przez ${g("Doctor","Doktora")}.`,log_night_bullet_mirror_break_initial:`Pocisk rozbijo ${g("Mirror","ZwierciadÅ‚o {num}")} u gracza {target}`,log_night_bullet_mirror_break:`, u gracza {target} pynkÅ‚o ${g("Mirror","ZwierciadÅ‚o {num}")}`,log_night_bullet_return:", pocisk se wrÃ³ciÅ‚ do {target}",log_night_bullet_continue_sniper:`, ale pocisk leci dali, bo ${g("Mirror","ZwierciadÅ‚o")} gracza {target} nie odbijo strzaÅ‚Ã³w ${g("Sniper","Snipera")},`,log_night_bullet_continue_matrix:`, ale pocisk leci dali, bo ${g("Mirror","ZwierciadÅ‚o")} gracza {target} nie zatrzymuje strzaÅ‚Ã³w ${g("Matrix","Matrixa")},`,log_night_bullet_continue_mud:`, ale pocisk leci dali, bo ${g("Mirror","ZwierciadÅ‚o")} gracza {target} byÅ‚o brudne,`,log_night_bullet_vest_loss_initial:`Pocisk niszczy ${g("KevlarVest","Kewlar {num}")} gracza {target}.`,log_night_bullet_vest_loss:` a {target} traci ${g("KevlarVest","Kewlar {num}")}.`,log_night_bullet_cloudwalker_loss_initial:`Pocisk biere ${g("CloudWalker","Mrakoszlapa {num}")} graczowi {target}.`,log_night_bullet_cloudwalker_loss:` a {target} traci ${g("CloudWalker","Mrakoszlapa {num}")}.`,log_night_bullet_death_initial:"Pocisk zabijo gracza {name}.",log_night_bullet_death:" a {name} ginie.",log_night_bullet_gandalf_from_horse:` ${g("Gandalf")} {gandalf} dostoÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")} (strata ${g("HorsePiece","Kusa Konia")} {horse}: {lost}).`,log_night_bullet_horsepiece_from_gandalf:` ${g("HorsePiece","Kus Konia")} {horse} dostoÅ‚ ${g("CloudWalker","Mrakoszlapa {num}")} (strata ${g("Gandalf")} {gandalf}: {lost}).`,ui_confirm:"Ja",ui_deny:"Ni",ui_undo:"Zpatki",ui_bomb:"BÃ³mba!",ui_next_phase:"Dali",ui_replay_bullets:"PowtÃ³rz animacje",ui_bullet_replay:"Odtwarzani przebiegu strzaÅ‚Ã³w...",ui_first_night_done:"KÃ³niec narady Mafii",ui_start_night:"Zacznij noc",ui_player_label:"Gracz: {name}",ui_player_jailed_notice:"Gracz {name} je we wiynziyniu â€” pokoÅ¼ mu skrziÅ¼owane rynce ğŸ™….",ui_anarchist_baby:"I shoot you baby!",ui_astronomer_night:"Noc!",ui_communist_equal:"Wszyscy rÃ³wni!",ui_special_no_owner:"Brak wÅ‚aÅ›ciciela",day_action_vote:"PrzegÅ‚osowany",day_prompt_vote:"PokoÅ¼ gracza, kiery byÅ‚ przegÅ‚osowany.",day_prompt_shot:"Anarchista strzilo. Wybier cel.",day_prompt_mass_murderer_select:"Masowy Zabijak strzilo do swoich oskarÅ¼ycieli. Zaznacz graczy a potwierdÅº.",day_idle_message:"Trwo dziyÅ„. UÅ¼yj dostympnych akcji.",day_report_confirm:"PotwierdÅº raport",public_report_day_player_left:"NaszÃ³m gre opuszczo {name}.",public_report_day_ropewalker_lost:`UmrziÅ‚ ${g("RopeWalker","Prowazochodec {num}")}.`,public_report_day_cloudwalker_lost:`UmrziÅ‚ ${g("CloudWalker","Mrakoszlap {num}")}.`,public_report_day_kevlar_lost:`UmrziÅ‚ ${g("KevlarVest","Kewlar {num}")}.`,public_report_day_immunity_lost:`UmrziÅ‚a ${g("Immunity","Imunita {num}")}.`,ui_mass_murderer_target:"Skazany: {name}",ui_mass_murderer_selected:"Wybrano: {count}",ui_mass_murderer_confirm:"Wystrzel",warn_anarchist_unavailable:"Anarchista uÅ¼ nimoÅ¼e strzelaÄ‡.",warn_terrorist_unavailable:"Terrorysta uÅ¼ nimoÅ¼e odpaliÄ‡ bÃ³mbe.",warn_bomb_day_only:"Bombe idzie uÅ¼yÄ‡ yny w dziyÅ„.",warn_astronomer_unavailable:"Astronom uÅ¼ nimoÅ¼e zakÃ³Å„czyÄ‡ dziyÅ„.",warn_astronomer_day_only:"Astronom dziaÅ‚o jny w dziyÅ„.",warn_communist_unavailable:"Komunista uÅ¼ nimoÅ¼e uÅ¼yÄ‡ swojÃ³m zdolnoÅ›Ä‡.",warn_communist_day_only:"Komunista dziaÅ‚o jny w dziyÅ„.",log_day_vote:"Gracz {target} byÅ‚ przegÅ‚osowany.",log_day_shot:`${g("Anarchist","Anarchista")} {actor} strzeliÅ‚ na gracza {target}.`,log_day_bomb:`${g("Terrorist","Terrorysta")} {player} detonuje bÃ³mbe!`,log_day_astronomer:`${g("Astronomer","Astronom")} {player} kÃ³Å„czy dziyÅ„.`,log_day_communist:`${g("Communist","Komunista")} {player} wprowadzo rÃ³wnoÅ›Ä‡.`,log_day_mass_murderer_trigger:`${g("MassMurderer","Masowy Zabijak")} {target} biere broÅ„ przed wyrokym.`,log_day_mass_murderer_shot:`${g("MassMurderer","Masowy Zabijak")} {player} zabijo {target}.`,log_divider_night_start:"Noc {round} se zaczyno.",log_divider_night_end:"Noc {round} se kÃ³Å„czy.",log_divider_day_start:"DziyÅ„ {round} se zaczyno.",log_divider_day_end:"DziyÅ„ {round} se kÃ³Å„czye.",setup_next:"Dali",setup_remove:"Aby poprawnie rozdaÄ‡ role, musisz wyciepaÄ‡ pore karet...",setup_step_count:"Liczba graczy",setup_step_mafia:"Liczba karet Mafii",setup_mafia_description:"Wybier, wiela karet Mafii bydzie w talii ({min} - {max}).",setup_mafia_label:"Karty Mafii w talii",setup_mafia_recommended:"Sugerowano wartoÅ›Ä‡ dlo {players} graczy: {count}",setup_step_names:"Miana",setup_step_balance:"Balans gry",setup_balance_instruction:"Aby wyrÃ³wnaÄ‡ talie, wyciep {remove} karet albo przidej {add}.",setup_remove_instruction:"Musisz wyciepaÄ‡ {count} karet, aby wyrÃ³wnaÄ‡ talie.",setup_cards_remaining:"Do wyciepania",setup_cards_missing:"Brakuje karet",setup_cards_total:"ÅÃ³ncznie karet w talii: {count}",setup_cards_minimum:"Przidej eszcze {missing}, aby kaÅ¼dy gracz dostoÅ‚ aspÃ³Å„ jednÃ³m karte.",setup_start_game:"Rozpocznij gre"},Me={en:{label:"English",locale:"en",rules:hr,dictionary:yr},pl:{label:"Polski",locale:"pl",rules:pr,dictionary:mr},cz:{label:"ÄŒeÅ¡tina",locale:"cs",rules:_r,dictionary:gr},pl_pn:{label:"Po naszymu",locale:"pl",rules:br,dictionary:fr,fallback:"pl"}},ya=Object.keys(Me),ot=ya.map(e=>({code:e,label:Me[e].label})),kr=ya.reduce((e,a)=>(e[a]=Me[a].rules,e),{});ya.reduce((e,a)=>(e[a]=Me[a].dictionary,e),{});function nt(e,a){const t=new Set;let r=a;for(;r&&!t.has(r);){t.add(r);const o=Me[r]?.dictionary;if(o&&o[e]!==void 0)return o[e];r=Me[r]?.fallback}}function it(e,a){return nt(e,a)??e}function h(e,a,t){let r=it(e,a);return t&&Object.entries(t).forEach(([o,i])=>{r=r.replace(`{${o}}`,String(i))}),r}function ce(e,a){return h(`role_${e}`,a)}function la(e,a){return nt(`card_description_${e}`,a)}function ba(e){return Me[e]?.locale??"en"}function qe(e,a){a&&(Array.isArray(e.inactiveCards)||(e.inactiveCards=[]),e.inactiveCards.push(a))}function zr(e,a){return e.cards.filter(t=>t.cardId===a).length}function st(e,a){for(let t=e.cards.length-1;t>=0;t--)if(e.cards[t].cardId===a){const[r]=e.cards.splice(t,1);return qe(e,r),!0}return!1}function lt(e,a,t){const r=e.cards.findIndex(i=>i.cardId===a&&i.instance===t);if(r===-1)return!1;const[o]=e.cards.splice(r,1);return qe(e,o),!0}function ve(e,a){for(let t=e.cards.length-1;t>=0;t--)if(e.cards[t].cardId===a){const r=e.cards[t].instance,[o]=e.cards.splice(t,1);return qe(e,o),typeof r=="number"?r:null}return null}function wr(e,a){let t=0;for(let r=e.cards.length-1;r>=0;r--)if(e.cards[r].cardId===a){const[o]=e.cards.splice(r,1);qe(e,o),t++}return t}function xr(e,a){let t=0;return e.forEach(r=>{[...r.cards,...r.inactiveCards||[]].forEach(i=>{i.cardId===a&&i.instance>t&&(t=i.instance)})}),t+1}function Ne(e,a,t){const r=xr(e,t);return a.cards.push({cardId:t,instance:r}),r}function ca(e){return[...e.cards,...e.inactiveCards||[]]}function ct(e,a){const t={},r={};return e.forEach(o=>ca(o).forEach(i=>{r[i.cardId]=(r[i.cardId]||0)+1})),e.forEach(o=>{t[o.id]=o.cards.map(i=>{const s=ce(i.cardId,a);return r[i.cardId]>1?`${s} ${i.instance}`:s})}),t}function Je(e,a,t,r){const o=ce(t,a);if(e.reduce((l,u)=>l+ca(u).filter(d=>d.cardId===t).length,0)<=1)return o;let s=r;return s===void 0&&(s=e.flatMap(u=>ca(u)).find(u=>u.cardId===t)?.instance),s?`${o} ${s}`:o}const vr=/{([^}]+)}/g;function me(e,a){return{kind:"cardLabel",cardId:e,instance:a}}function dt(e,a,t){if(typeof e=="string"||typeof e=="number")return e;if(!e)return"";switch(e.kind){case"cardLabel":return Je(a,t,e.cardId,e.instance);default:return""}}function Oe(e,a,t){if(!e)return;const r={};return Object.entries(e).forEach(([o,i])=>{r[o]=dt(i,a,t)}),r}function jr(e,a,t){return typeof e=="string"||typeof e=="number"?e:e&&e.kind==="cardLabel"?{kind:"cardLabel",cardId:e.cardId,instance:e.instance,label:Je(a,t,e.cardId,e.instance)}:""}function Mr(e,a,t,r,o){const i=ce(e,o);if(!a)return i;const s=a.trim();return s?s.replace(vr,(l,u)=>{if(!t||!(u in t))return`{${u}}`;const d=dt(t[u],r,o);return d!==void 0?String(d):""}):i}function Sr(e,a){const t="{{card:";if(!e.startsWith(t,a))return null;const r=e.length;let o=a+t.length;for(;o<r;){const d=e[o];if(d==="|"||d==="}"&&e[o+1]==="}")break;o+=1}if(o>=r)return null;const i=e.slice(a+t.length,o).trim();if(!i)return null;if(e[o]==="}"&&e[o+1]==="}")return{endIndex:o+2,cardId:i};if(e[o]!=="|")return null;const s=o+1;let l=s,u=0;for(;l<r;){const d=e[l];if(d==="{")u+=1;else if(d==="}"){if(u>0)u-=1;else if(e[l+1]==="}"){const c=e.slice(s,l);return{endIndex:l+2,cardId:i,rawLabel:c}}}l+=1}return null}function Cr(e,a,t,r){const o=[],i=e??"";let s="";const l=()=>{s&&(o.push({kind:"text",text:s}),s="")};let u=0;for(;u<i.length;){if(i.startsWith("{{card:",u)){const d=Sr(i,u);if(d){l(),o.push({kind:"cardLabel",cardId:d.cardId,label:Mr(d.cardId,d.rawLabel,a,t,r)}),u=d.endIndex;continue}}if(i[u]==="{"){const d=i.indexOf("}",u+1);if(d!==-1){const c=i.slice(u+1,d);if(!a||!(c in a))s+=i.slice(u,d+1);else{const y=jr(a[c],t,r);l(),typeof y=="object"&&y&&y.kind==="cardLabel"?o.push({kind:"cardLabel",cardId:y.cardId,instance:y.instance,label:y.label}):o.push({kind:"text",text:y!==void 0?String(y):""})}u=d+1;continue}}s+=i[u],u+=1}return l(),o.length===0&&o.push({kind:"text",text:i}),o}function Qe(e,a,t,r){const o=it(e,r);return Cr(o,a,t,r)}function Ar(e,a,t){return Qe(e.key,e.params,a,t)}function fa(e,a,t){return e.map(r=>h(r.key,t,Oe(r.params,a,t))).join("")}function Aa(e,a,t){return e.translationFragments?.length?fa(e.translationFragments,a,t):e.translationKey?h(e.translationKey,t,Oe(e.translationParams,a,t)):e.text??""}function Nr(e,a,t){return e.translationFragments?.length?e.translationFragments.flatMap(r=>Ar(r,a,t)):e.translationKey?Qe(e.translationKey,e.translationParams,a,t):e.text?[{kind:"text",text:e.text}]:[]}function fe(e,a,t={},r="ACTION"){const o=Oe(t,e.players,e.settings.language),i=h(a,e.settings.language,o);e.logs.push({id:Math.random().toString(),timestamp:Date.now(),phase:e.phase,round:e.currentRound,text:i,translationKey:a,translationParams:t,type:r})}function Ir(e,a){if(e.phase!=="NIGHT_ACTIVE"&&e.phase!=="NIGHT_ANNOUNCEMENT")return;const t=e.nightCache.leechLinks;t?.length&&t.forEach(r=>{r.targetId===a&&(r.triggered=!0)})}function ut(e,a=1){const t=e.nightCache.gravediggerActive;!t?.length||a<=0||t.forEach(({playerId:r})=>{e.nightCache.gravediggerBonus[r]||(e.nightCache.gravediggerBonus[r]=0),e.nightCache.gravediggerBonus[r]+=a})}function $r(e,a){e.nightCache.glazierPendingRewards||(e.nightCache.glazierPendingRewards=[]),e.players.forEach(t=>{t.status.isAlive&&t.id!==a&&t.cards.some(r=>r.cardId==="Glazier")&&(t.cards.some(r=>r.cardId==="Mirror")||e.nightCache.glazierPendingRewards.includes(t.id)||e.nightCache.glazierPendingRewards.push(t.id))})}function Pr(e,a){const t=e.filter(o=>o.status.isAlive),r=t.findIndex(o=>o.id===a);return r===-1?{left:null,right:null}:{left:t[(r-1+t.length)%t.length],right:t[(r+1)%t.length]}}function Tr(){return`shot-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function pt(e,a){e.nightCache.doctorProtections||(e.nightCache.doctorProtections=[]);const t=e.nightCache.doctorProtections.findIndex(r=>r.targetId===a);return t>=0?(e.nightCache.doctorProtections.splice(t,1),!0):!1}function Er(e,a){const t=e.nightCache.executionerPairs;if(!t?.length)return a;const r=t.findIndex(l=>l.savedId===a);if(r===-1)return a;const[o]=t.splice(r,1),i=e.players.find(l=>l.id===o.savedId);i&&(i.status.executionerStatus="NONE");const s=e.players.find(l=>l.id===o.victimId);return s&&(s.status.executionerStatus="NONE",s.status.isAlive)?s.id:a}function Ae(e,a,t){if(t==="HANG"){const s=Er(e,a);if(s!==a)return Ae(e,s,"HANG");a=s}const r=e.players.find(s=>s.id===a);if(!r||!r.status.isAlive)return null;if(t==="HANG"){const s=ve(r,"RopeWalker");if(s!==null)return fe(e,"log_day_ropewalker_lost",{target:r.name,num:s}),{type:"ROPEWALKER",playerId:r.id,playerName:r.name,instance:s}}const o=ve(r,"Immunity");if(o!==null)return fe(e,"log_day_immunity_lost",{target:r.name,num:o}),{type:"IMMUNITY",playerId:r.id,playerName:r.name,instance:o};if(t==="SHOOT"){const s=ve(r,"KevlarVest");if(s!==null)return fe(e,"log_day_vest_hit",{target:r.name,num:s}),{type:"KEVLAR",playerId:r.id,playerName:r.name,instance:s}}const i=ve(r,"CloudWalker");return i!==null?(fe(e,"log_day_cloudwalker_lost",{target:r.name,num:i}),Ie(e,r,{lossType:"CLOUDWALKER"}),{type:"CLOUDWALKER",playerId:r.id,playerName:r.name,instance:i}):(r.status.isAlive=!1,fe(e,"log_day_death",{target:r.name},"DEATH"),Ie(e,r,{lossType:"DEATH"}),za(e,"DAY"),{type:"DEATH",playerId:r.id,playerName:r.name})}const Na={public_report_bullet_dead_target:"log_night_bullet_dead_target",public_report_bullet_matrix_catch:"log_night_bullet_matrix_catch",public_report_bullet_magnet:"log_night_bullet_magnet",public_report_bullet_split:"log_night_bullet_split",public_report_bullet_tunnel_single:"log_night_bullet_tunnel_single",public_report_bullet_tunnel_segment:"log_night_bullet_tunnel_segment",public_report_bullet_slime:"log_night_bullet_slime",public_report_bullet_al_capone:"log_night_bullet_al_capone",public_report_bullet_doctor:"log_night_bullet_doctor",public_report_bullet_mirror_break:"log_night_bullet_mirror_break",public_report_bullet_return:"log_night_bullet_return",public_report_bullet_vest_loss:"log_night_bullet_vest_loss",public_report_bullet_cloudwalker_loss:"log_night_bullet_cloudwalker_loss",public_report_bullet_death:"log_night_bullet_death"},Ia={log_night_bullet_tunnel_single:"log_night_bullet_tunnel_initial",log_night_bullet_magnet:"log_night_bullet_magnet_initial",log_night_bullet_mirror_break:"log_night_bullet_mirror_break_initial",log_night_bullet_slime:"log_night_bullet_slime_initial",log_night_bullet_al_capone:"log_night_bullet_al_capone_initial",log_night_bullet_doctor:"log_night_bullet_doctor_initial",log_night_bullet_vest_loss:"log_night_bullet_vest_loss_initial",log_night_bullet_cloudwalker_loss:"log_night_bullet_cloudwalker_loss_initial",log_night_bullet_death:"log_night_bullet_death_initial"};function ka(e,a,t,r=null,o){const i=Tr(),s=e.players.find(j=>j.id===a)?.name||"?",l={key:"public_report_bullet_start"},u=o?{key:"log_night_bullet_start",params:{cardLabel:o.shooterLabel,shooter:o.shooterName,target:o.initialTargetName}}:{key:"log_night_bullet_start_generic",params:{target:s}},d=[{targetId:a,previousTargetId:r,visitedTunnels:new Set,magnetAttractors:new Set,isRedirected:!1,fragments:[l],logFragments:[u],segments:[],shotId:i,sourceId:r}];let c=0;const y=50;for(;d.length&&c<y;){const j=d.shift();c++,Lr(e,d,j.targetId,j.previousTargetId,t,j.visitedTunnels,j.magnetAttractors,j.isRedirected,j.fragments,j.logFragments,j.segments,j.shotId,j.sourceId)}Vr(e,i)}function Lr(e,a,t,r,o,i,s,l,u,d,c,y,j){let D=r,T=t,I=0,k=new Set(i);const b=new Set(s);let z=l,v=u,S=d,N=c;const $=o==="MAFIA",R=o==="SNIPER",L=o==="MATRIX",P=$||o==="MAD_GUNMAN"||R,f=C=>{v.push(C);const x=Na[C.key]??C.key,O=S.length===1?Ia[x]??x:x;S.push({key:O,params:C.params?{...C.params}:void 0})},w=C=>{S.push(C)};for(;I<25;){I++;const C=D;Wr(N,C,T);const x=e.players.find(X=>X.id===T),G=x?.name||"?";if(!x||!x.status.isAlive){f({key:"public_report_bullet_dead_target",params:{target:G}}),ke(e,v,S,N,y,j,L);return}const O=e.nightCache.matrixTrap;if(O&&O.playerId===x.id&&x.cards.some(X=>X.cardId==="Matrix")){e.nightCache.matrixStoredBullets++,e.nightCache.reportData.matrixBulletsCaught++,f({key:"public_report_bullet_matrix_catch",params:{target:G}}),ke(e,v,S,N,y,j,L);return}if(!L){const X=Pr(e.players,T),_e=W=>!W||!W.status.isAlive||!W.status.isMagnetized||b.has(W.id)?!1:(f({key:"public_report_bullet_magnet",params:{target:W.name}}),b.add(W.id),D=x.id,T=W.id,z=!0,!0);if(_e(X.left)||_e(X.right))continue;const K=e.globalTunnels.filter(W=>W.sourceId===x.id&&!k.has(W.id)).sort((W,Y)=>W.createdAt-Y.createdAt);if(K.length){K.length>1&&f({key:"public_report_bullet_split",params:{count:K.length}});const W=je(v),Y=je(S),ie=da(N),le=new Set(b),ee=new Set(k);K.forEach((J,Q)=>{const ue=e.players.find(ta=>ta.id===J.targetId),pe=Q===0?k:new Set(ee);pe.add(J.id);const E=Q===0?v:je(W),A=Q===0?S:je(Y),H=Q===0?N:da(ie),U=Q===0?b:new Set(le),Z=e.globalTunnels.indexOf(J),be=typeof J.tunnelNumber=="number"?J.tunnelNumber:Z>=0?Z+1:Q+1,se=K.length>1?"public_report_bullet_tunnel_segment":"public_report_bullet_tunnel_single",he={num:be,src:G,target:ue?.name||"?"};K.length>1&&(he.index=Q+1),E.push({key:se,params:he});const Se=Na[se]??se,ye=A.length===1?Ia[Se]??Se:Se;A.push({key:ye,params:he}),Q===0?(k=pe,T=J.targetId,D=x.id,z=!0,v=E,S=A,N=H):a.push({targetId:J.targetId,previousTargetId:x.id,visitedTunnels:pe,magnetAttractors:U,isRedirected:!0,fragments:E,logFragments:A,segments:H,shotId:y,sourceId:j})});continue}}const F=zr(x,"Mirror"),q=F>0;if(!L&&q){const X=x.status.mudCount>0;X&&(x.status.mudCount=Math.max(0,x.status.mudCount-1));const _e=ve(x,"Mirror");if($r(e,x.id),f({key:"public_report_bullet_mirror_break",params:{target:G,num:_e??F}}),!R&&!L&&!X){const Y=C,ie=Y?e.players.find(le=>le.id===Y)?.name||"?":G;if(f({key:"public_report_bullet_return",params:{target:ie}}),!Y||Y===x.id){ke(e,v,S,N,y,j,L);return}T=Y,D=x.id,z=!0;continue}f({key:"public_report_bullet_continue"}),S.length&&S.pop(),w({key:X?"log_night_bullet_continue_mud":R?"log_night_bullet_continue_sniper":"log_night_bullet_continue_matrix",params:{target:G}})}if(!L&&P&&x.status.isSlimed&&!x.status.isSanded&&!e.nightCache.slimeUsedOnPlayers.includes(x.id)){e.nightCache.slimeUsedOnPlayers.push(x.id),x.status.isSlimed=!1,f({key:"public_report_bullet_slime",params:{target:G}}),ke(e,v,S,N,y,j,L);return}if($&&!z&&x.cards.some(X=>X.cardId==="AlCapone")){f({key:"public_report_bullet_al_capone",params:{target:G}}),ke(e,v,S,N,y,j,L);return}if(!L&&pt(e,x.id)){f({key:"public_report_bullet_doctor",params:{target:G}}),ke(e,v,S,N,y,j,L);return}const oe=ve(x,"KevlarVest");if(oe!==null){f({key:"public_report_bullet_vest_loss",params:{target:G,num:oe}}),ke(e,v,S,N,y,j,L);return}const de=ve(x,"CloudWalker");if(de!==null){ut(e),f({key:"public_report_bullet_cloudwalker_loss",params:{target:G,num:de}}),Ie(e,x,{lossType:"CLOUDWALKER",lostInstance:de,logAppender:X=>w(X)}),ke(e,v,S,N,y,j,L);return}x.status.isAlive=!1,Ie(e,x,{lossType:"DEATH",logAppender:X=>w(X)}),f({key:"public_report_bullet_death",params:{name:G}}),za(e,"NIGHT"),ke(e,v,S,N,y,j,L);return}}function Dr(e){return e.cards.some(a=>a.cardId==="Mafia")}function Rr(e){const a=e.players.filter(r=>r.status.isAlive);if(!a.length)return null;const t=a.filter(Dr).length;return t===0?"INNOCENT":t===a.length?"MAFIA":null}function za(e,a){if(e.victory)return e.victory.side;const t=Rr(e);if(!t)return null;const r=t==="MAFIA"?"victory_mafia":"victory_innocent";return e.victory={side:t,cause:a,announced:!1},a==="NIGHT"?e.nightCache.reportData.victoryKey=r:e.uiState.pendingVictoryKey=r,t}function $a(e,a){let t=null;return e.forEach(r=>{r.status.isAlive&&r.cards.forEach(o=>{o.cardId===a&&(!t||o.instance>t.instance)&&(t={player:r,instance:o.instance})})}),t}function Pa(e,a,t){[...a].sort((o,i)=>o.instance-i.instance).forEach(o=>{const i=e.players.find(d=>d.id===o.shooterId);if(!i||i.status.isJailed)return;const s=e.players.find(d=>d.id===o.targetId)?.name||"?",u=me(t==="SNIPER"?"Sniper":"MadGunman",o.instance);ka(e,o.targetId,t,i.id,{shooterLabel:u,shooterName:i.name,initialTargetName:s})})}function Gr(e){const a=e.nightCache.pendingShots;if(a.mafiaVotes?.length){const t=e.players.filter(u=>u.status.isAlive&&u.cards.some(d=>d.cardId==="Mafia")),r=t.map(u=>u.id),o=a.mafiaVotes.filter(u=>r.includes(u.shooterId)),i=r.every(u=>o.some(d=>d.shooterId===u)),s=new Set(o.map(u=>u.targetId)),l=t.length>0&&i&&s.size===1?o[0]?.targetId??null:null;if(l){const u=$a(e.players,"Mafia");if(u){const{player:d,instance:c}=u;if(d.status.isJailed)fe(e,"log_mafia_jailed",{cardLabel:me("Mafia",c),player:d.name});else{const y=e.players.find(D=>D.id===l)?.name||"?",j=me("Mafia",c);ka(e,l,"MAFIA",d.id,{shooterLabel:j,shooterName:d.name,initialTargetName:y})}}}else if(t.length>0){const u=t.filter(d=>d.status.isJailed);if(u.length>0){const d=$a(u,"Mafia");if(d){const{player:c,instance:y}=d;fe(e,"log_mafia_jailed",{cardLabel:me("Mafia",y),player:c.name})}}else fe(e,"log_mafia_no_consensus")}a.mafiaVotes=[]}a.madGunman.length>0&&(Pa(e,a.madGunman,"MAD_GUNMAN"),a.madGunman=[]),a.sniper.length>0&&(Pa(e,a.sniper,"SNIPER"),a.sniper=[])}function Ta(e,a){if(!a||!a.status.isAlive)return{outcome:"ALREADY_DEAD"};if(a.hasGasMask)return{outcome:"GAS_MASK"};if(pt(e,a.id))return{outcome:"DOCTOR"};const t=ve(a,"CloudWalker");return t!==null?(ut(e),Ie(e,a,{lossType:"CLOUDWALKER"}),{outcome:"CLOUDWALKER",cloudwalkerInstance:t}):(wr(a,"CloudWalker"),a.status.isAlive=!1,Ie(e,a,{lossType:"DEATH"}),za(e,"NIGHT"),{outcome:"DEATH"})}function Kr(e){if(!e.nightCache.pendingToxicSocks.length)return;const a=e.nightCache.reportData;e.nightCache.pendingToxicSocks.forEach(t=>{const r=e.players.find(d=>d.id===t.sockId);if(!r||!r.status.isAlive)return;a.sock.usedBy=t.sockId;const o=e.players.find(d=>d.id===t.firstTargetId)||null,i=e.players.find(d=>d.id===t.secondTargetId)||null,s=Ta(e,o),l=Ta(e,i);a.sock.first={targetId:o?.id,result:s.outcome,cloudwalkerInstance:s.cloudwalkerInstance??void 0},a.sock.second={targetId:i?.id,result:l.outcome,cloudwalkerInstance:l.cloudwalkerInstance??void 0};const u=Or(r,o,i,s,l);if(u.length){const d=fa(u,e.players,e.settings.language),c=s.outcome==="DEATH"||l.outcome==="DEATH"?"DEATH":"ACTION";e.logs.push({id:Math.random().toString(),timestamp:Date.now(),phase:e.phase,round:e.currentRound,text:d,translationFragments:u,type:c})}}),e.nightCache.pendingToxicSocks=[]}const Br={GAS_MASK:"log_sock_result_gasmask",ALREADY_DEAD:"log_sock_result_dead",DOCTOR:"log_sock_result_doctor",CLOUDWALKER:"log_sock_result_cloudwalker",DEATH:"log_sock_result_death"};function Or(e,a,t,r,o){const i=[],s=e.cards.find(d=>d.cardId==="Sock")?.instance;i.push({key:"log_sock_throw_intro",params:{cardLabel:me("Sock",s),player:e.name,first:a?.name||"?",second:t?.name||"?"}});const l=Ea(r,a);l&&i.push(l);const u=Ea(o,t);return u&&i.push(u),i}function Ea(e,a){const t=Br[e.outcome];if(!t)return null;const r={name:a?.name||"?"};return e.outcome==="CLOUDWALKER"&&(r.num=e.cloudwalkerInstance??"?"),{key:t,params:r}}function Ie(e,a,t={}){const{lossType:r="DEATH",logAppender:o,lostInstance:i}=t;Ir(e,a.id);const s=r==="CLOUDWALKER";if(s&&a.cards.some(l=>l.cardId==="Gandalf")&&!e.nightCache.kuskonaTriggered){const l=e.players.find(u=>u.cards.some(d=>d.cardId==="HorsePiece"));if(l&&l.status.isAlive){const u=Ne(e.players,l,"CloudWalker"),d=l.cards.find(c=>c.cardId==="HorsePiece")?.instance;e.nightCache.reportData.cloudwalkers.horsepiece.push({num:u,cardInstance:d}),o||fe(e,"log_night_cloudwalker_gain",{cardLabel:me("HorsePiece",d),player:l.name,num:u}),o&&o({key:"log_night_bullet_horsepiece_from_gandalf",params:{horse:l.name,num:u,gandalf:a.name,lost:i??"?"}}),e.nightCache.kuskonaTriggered=!0}}if(s&&a.cards.some(l=>l.cardId==="HorsePiece")&&!e.nightCache.gandalfTriggered){const l=e.players.find(u=>u.cards.some(d=>d.cardId==="Gandalf"));if(l&&l.status.isAlive){const u=Ne(e.players,l,"CloudWalker"),d=l.cards.find(c=>c.cardId==="Gandalf")?.instance;e.nightCache.reportData.cloudwalkers.gandalf.push({num:u,cardInstance:d}),o||fe(e,"log_night_cloudwalker_gain",{cardLabel:me("Gandalf",d),player:l.name,num:u}),o&&o({key:"log_night_bullet_gandalf_from_horse",params:{gandalf:l.name,num:u,horse:a.name,lost:i??"?"}}),e.nightCache.gandalfTriggered=!0}}}function je(e){return e.map(a=>{if(!a.params)return{...a};const t={};return Object.entries(a.params).forEach(([r,o])=>{o&&typeof o=="object"&&!Array.isArray(o)?t[r]={...o}:Array.isArray(o)?t[r]=[...o]:t[r]=o}),{...a,params:t}})}function da(e){return e.map(a=>({fromId:a.fromId,toId:a.toId}))}function Wr(e,a,t){t&&(a&&a===t||e.push({fromId:a??null,toId:t}))}function ua(e,a){if(e===a)return!0;if(typeof e!=typeof a||e===null||a===null)return!1;if(Array.isArray(e)&&Array.isArray(a))return e.length!==a.length?!1:e.every((t,r)=>ua(t,a[r]));if(typeof e=="object"&&typeof a=="object"){const t=e,r=a,o=Object.keys(t),i=Object.keys(r);return o.length!==i.length?!1:o.every(s=>ua(t[s],r[s]))}return!1}function Hr(e,a){if(e.key!==a.key)return!1;const t=e.params??{},r=a.params??{},o=Object.keys(t),i=Object.keys(r);return o.length!==i.length?!1:o.every(s=>ua(t[s],r[s]))}function La(e,a){let t=0;for(;t<e.length&&t<a.length&&Hr(e[t],a[t]);)t++;return t>=a.length?e:[...e,...a.slice(t)]}function Ur(e,a){return fa(a,e.players,e.settings.language)}function ke(e,a,t,r,o,i,s){if(!a.length)return;const l=je(a),u=je(t),d=e.nightCache.bulletReportLookup??(e.nightCache.bulletReportLookup={}),c=d[o];if(c)c.publicEntry.fragments=La(c.publicEntry.fragments??[],l),c.publicEntry.isMatrixShot=c.publicEntry.isMatrixShot||s,c.logFragments=La(c.logFragments,u);else{const j={key:"public_report_bullet_compound",fragments:l,isMatrixShot:s};e.nightCache.reportData.bullets.push(j),d[o]={publicEntry:j,logFragments:u}}if(!r.length)return;const y=da(r);e.nightCache.bulletAnimations||(e.nightCache.bulletAnimations=[]),e.nightCache.bulletAnimations.push({id:`bullet-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,shotId:o,sourceId:i,segments:y})}function Vr(e,a){e.nightCache.bulletReportLookup||(e.nightCache.bulletReportLookup={});const t=e.nightCache.bulletReportLookup[a];if(!t||!t.logFragments.length){delete e.nightCache.bulletReportLookup[a];return}const r=je(t.logFragments),o=Ur(e,r),i=t.logFragments.some(s=>s.key==="public_report_bullet_death");e.logs.push({id:Math.random().toString(),timestamp:Date.now(),phase:e.phase,round:e.currentRound,text:o,translationFragments:r,type:i?"DEATH":"ACTION"}),delete e.nightCache.bulletReportLookup[a]}const Ge={CloudWalker:{id:"CloudWalker",defaultAmount:7,nightOrder:-1},Immunity:{id:"Immunity",defaultAmount:2,nightOrder:-1},RopeWalker:{id:"RopeWalker",defaultAmount:3,nightOrder:-1},KevlarVest:{id:"KevlarVest",defaultAmount:2,nightOrder:-1},Matrix:{id:"Matrix",defaultAmount:1,nightOrder:2},Jailer:{id:"Jailer",defaultAmount:1,nightOrder:0},Gravedigger:{id:"Gravedigger",defaultAmount:1,nightOrder:1},Mage:{id:"Mage",defaultAmount:3,nightOrder:3},Slime:{id:"Slime",defaultAmount:2,nightOrder:6},Leech:{id:"Leech",defaultAmount:1,nightOrder:8},Sand:{id:"Sand",defaultAmount:1,nightOrder:9},Cobra:{id:"Cobra",defaultAmount:1,nightOrder:10},Magnet:{id:"Magnet",defaultAmount:1,nightOrder:11},GhostBobo:{id:"GhostBobo",defaultAmount:1,nightOrder:12},Doctor:{id:"Doctor",defaultAmount:1,nightOrder:13},SwampMonster:{id:"SwampMonster",defaultAmount:1,nightOrder:14},Mafia:{id:"Mafia",defaultAmount:3,nightOrder:15},MadGunman:{id:"MadGunman",defaultAmount:2,nightOrder:18},Sniper:{id:"Sniper",defaultAmount:1,nightOrder:20},Sock:{id:"Sock",defaultAmount:1,nightOrder:21},Judge:{id:"Judge",defaultAmount:1,nightOrder:22},BlindExecutioner:{id:"BlindExecutioner",defaultAmount:1,nightOrder:23},Spyglass:{id:"Spyglass",defaultAmount:1,nightOrder:24},Mirror:{id:"Mirror",defaultAmount:5,nightOrder:-1},Terrorist:{id:"Terrorist",defaultAmount:1,nightOrder:-1},Astronomer:{id:"Astronomer",defaultAmount:1,nightOrder:-1},Meciar:{id:"Meciar",defaultAmount:1,nightOrder:-1},Kovac:{id:"Kovac",defaultAmount:1,nightOrder:-1},AlCapone:{id:"AlCapone",defaultAmount:1,nightOrder:-1},Gandalf:{id:"Gandalf",defaultAmount:1,nightOrder:-1},HorsePiece:{id:"HorsePiece",defaultAmount:1,nightOrder:-1},Atheist:{id:"Atheist",defaultAmount:1,nightOrder:-1},Anarchist:{id:"Anarchist",defaultAmount:1,nightOrder:-1},Glazier:{id:"Glazier",defaultAmount:1,nightOrder:-1},MassMurderer:{id:"MassMurderer",defaultAmount:1,nightOrder:-1},Communist:{id:"Communist",defaultAmount:1,nightOrder:-1},TimeLord:{id:"TimeLord",defaultAmount:1,nightOrder:-1}},Fr=new Set(["CloudWalker","KevlarVest","Mafia","Jailer","Sock","Mage","Matrix","Cobra","Gravedigger","Spyglass","TimeLord","Slime","Sniper","Mirror","MadGunman","SwampMonster","Atheist","Sand","GhostBobo","Leech","Glazier","Magnet","Judge","AlCapone","Doctor","HorsePiece","Gandalf"]),Jr=new Set(["CloudWalker","KevlarVest","BlindExecutioner","TimeLord","Astronomer","RopeWalker","Communist","Immunity","MassMurderer","HorsePiece","Gandalf","Anarchist","Meciar","Kovac","Terrorist"]);function pa(e){return Fr.has(e)}function ma(e){return Jr.has(e)}function $e(e,a){return e==="Mage"&&a===2||e==="MadGunman"&&a===2||e==="GhostBobo"}function Zr(e){let a=e.length,t;for(;a!==0;)t=Math.floor(Math.random()*a),a--,[e[a],e[t]]=[e[t],e[a]];return e}const Yr=new Set(["Gravedigger","Leech","AlCapone","Gandalf","HorsePiece"]),qr=1e4;function Qr(e,a,t){if(e!=="Mafia"||t<=0)return a;const r=Math.round(t/3);return Math.max(1,r)}function Xr(e,a){if(!e.length)return[];const t=e.length,r=[];if(a){const l={};a.forEach(u=>{const d=(l[u]||0)+1;l[u]=d,r.push({cardId:u,instance:d})})}else Object.values(Ge).forEach(l=>{const u=Qr(l.id,l.defaultAmount,t);for(let d=1;d<=u;d++)r.push({cardId:l.id,instance:d})});let o=Math.floor(r.length/e.length);const i=o;for(;o>=0;){const l=eo(r,e,o);if(l)return Da(l),o<i&&console.warn(`Reduced cards per player from ${i} to ${o} to satisfy manipulation rules.`),l;o--}const s=e.map(l=>wa(l));return Da(s),s}function eo(e,a,t){const r=t*a.length;if(r===0)return a.map(o=>wa(o));for(let o=0;o<qr;o++){const i=Zr([...e]).slice(0,r),s=ao(i,a,t);if(s)return s}return null}function ao(e,a,t){const r=a.map(o=>({player:wa(o),stats:to(),slotsRemaining:t}));for(const o of e){const i=[];let s=0;if(r.forEach((d,c)=>{d.slotsRemaining<=0||ro(d.stats,o)&&(d.slotsRemaining>s&&(s=d.slotsRemaining,i.length=0),d.slotsRemaining===s&&i.push(c))}),!i.length)return null;const l=i[Math.floor(Math.random()*i.length)],u=r[l];u.player.cards.push({cardId:o.cardId,instance:o.instance}),oo(u.stats,o),u.slotsRemaining--}return r.map(o=>o.player)}function wa(e){return{...e,cards:[],inactiveCards:[],hasGasMask:!1,status:{...e.status,mudCount:0,swampChargesLeft:0}}}function to(){return{mafia:0,madGunman:0,slime:0,rope:0,cloudwalker:0,limitLivesToOne:!1,gasMaskSources:0,hasDoctor:!1,hasSpyglass:!1,hasAtheist:!1,hasMatrix:!1,hasLeech:!1,hasCobra:!1,hasGandalf:!1,hasHorsePiece:!1,hasGravedigger:!1,hasAlCapone:!1}}function ro(e,a){if($e(a.cardId,a.instance)&&e.gasMaskSources>=1)return!1;switch(a.cardId){case"Mafia":return e.mafia===0&&!e.hasDoctor&&!e.hasSpyglass;case"Doctor":return!e.hasDoctor&&e.mafia===0;case"Spyglass":return!e.hasSpyglass&&e.mafia===0;case"MadGunman":return e.madGunman===0;case"Slime":return e.slime===0;case"RopeWalker":return e.rope<2;case"CloudWalker":return!(e.cloudwalker>=2||e.limitLivesToOne&&e.cloudwalker>=1);case"Atheist":return!e.hasAtheist&&!e.hasMatrix;case"Matrix":return!e.hasMatrix&&!e.hasAtheist;case"Leech":return e.hasLeech||e.hasCobra?!1:e.cloudwalker<=1;case"Cobra":return!e.hasCobra&&!e.hasLeech;case"Gandalf":return e.hasGandalf||e.hasHorsePiece?!1:e.cloudwalker<=1;case"HorsePiece":return e.hasHorsePiece||e.hasGandalf?!1:e.cloudwalker<=1;case"Gravedigger":return e.hasGravedigger?!1:e.cloudwalker<=1;case"AlCapone":return e.hasAlCapone?!1:e.cloudwalker<=1;default:return!0}}function oo(e,a){switch($e(a.cardId,a.instance)&&e.gasMaskSources++,a.cardId){case"CloudWalker":e.cloudwalker++;break;case"RopeWalker":e.rope++;break;case"Mafia":e.mafia++;break;case"MadGunman":e.madGunman++;break;case"Slime":e.slime++;break;case"Doctor":e.hasDoctor=!0;break;case"Spyglass":e.hasSpyglass=!0;break;case"Atheist":e.hasAtheist=!0;break;case"Matrix":e.hasMatrix=!0;break;case"Leech":e.hasLeech=!0;break;case"Cobra":e.hasCobra=!0;break;case"Gandalf":e.hasGandalf=!0;break;case"HorsePiece":e.hasHorsePiece=!0;break;case"Gravedigger":e.hasGravedigger=!0;break;case"AlCapone":e.hasAlCapone=!0;break}Yr.has(a.cardId)&&(e.limitLivesToOne=!0)}function Da(e){e.forEach(a=>{if(a.hasGasMask=a.cards.some(t=>$e(t.cardId,t.instance)),a.cards.some(t=>t.cardId==="SwampMonster")){const t=a.cards.some(r=>["Mafia","MadGunman","Sniper"].includes(r.cardId));a.status.swampChargesLeft=t?2:3}else a.status.swampChargesLeft=0})}const no=[{cardId:"Jailer"},{cardId:"Gravedigger"},{cardId:"Matrix"},{cardId:"Mage"},{cardId:"Slime"},{cardId:"Leech"},{cardId:"Sand"},{cardId:"Cobra"},{cardId:"Magnet"},{cardId:"GhostBobo"},{cardId:"Doctor"},{cardId:"SwampMonster"},{cardId:"Mafia"},{cardId:"MadGunman"},{cardId:"Sniper"},{cardId:"Sock"},{cardId:"Judge"},{cardId:"BlindExecutioner"},{cardId:"Matrix",mode:"MATRIX_SHOT"}],io=[{cardId:"Gravedigger"},{cardId:"Matrix"},{cardId:"Mage"},{cardId:"Slime"},{cardId:"Leech"},{cardId:"Sand"},{cardId:"Doctor"},{cardId:"SwampMonster"},{cardId:"Mafia"},{cardId:"Sniper"},{cardId:"Sock"},{cardId:"BlindExecutioner"},{cardId:"Matrix",mode:"MATRIX_SHOT"}];function so(e){return e<2?!1:(e-2)%3===0}function Ra(e,a,t){return e.players.filter(o=>o.status.isAlive).flatMap(o=>o.cards.filter(i=>i.cardId===a).map(i=>({cardId:a,instance:i.instance,mode:t}))).sort((o,i)=>o.instance-i.instance)}function lo(e){return e.players.filter(t=>t.status.isAlive&&!t.status.gravediggerUsed).flatMap(t=>t.cards.filter(r=>r.cardId==="Gravedigger").map(r=>({cardId:"Gravedigger",instance:r.instance}))).sort((t,r)=>t.instance-r.instance)}function co(e){return e.players.filter(t=>t.status.isAlive&&!t.status.matrixAbilityUsed).flatMap(t=>t.cards.filter(r=>r.cardId==="Matrix").map(r=>({cardId:"Matrix",instance:r.instance}))).sort((t,r)=>t.instance-r.instance)}function uo(e){if(e.nightCache.matrixStoredBullets<=0)return[];const a=e.nightCache.matrixTrap;if(!a)return[];const t=e.players.find(i=>i.id===a.playerId&&i.status.isAlive);return t?t.cards.some(i=>i.cardId==="Matrix"&&i.instance===a.instance)?[{cardId:"Matrix",instance:a.instance,mode:"MATRIX_SHOT"}]:[]:[]}function po(e){const a=e.currentRound%2===0?no:io,t=[];return a.forEach(r=>{if(r.cardId==="Matrix"&&r.mode!=="MATRIX_SHOT"){t.push(...co(e));return}if(r.mode==="MATRIX_SHOT"){t.push(...uo(e));return}if(r.cardId==="Gravedigger"){t.push(...lo(e));return}t.push(...Ra(e,r.cardId,r.mode))}),so(e.currentRound)&&t.push(...Ra(e,"Spyglass")),t}function mt(){return{ghostTargets:[],judgeTargets:[],slimedTargets:[],sandedTargets:[],sandProtectedTargets:[],matrixBulletsCaught:0,sock:{usedBy:null},cloudwalkers:{leech:[],cobra:[],gravedigger:[],glazier:[],gandalf:[],horsepiece:[]},bullets:[],victoryKey:null}}const mo={GAS_MASK:"public_report_sock_first_gasmask",ALREADY_DEAD:"public_report_sock_first_dead",DOCTOR:"public_report_sock_first_doctor",CLOUDWALKER:"public_report_sock_first_cloudwalker",DEATH:"public_report_sock_first_death"},_o={GAS_MASK:"public_report_sock_second_gasmask",ALREADY_DEAD:"public_report_sock_second_dead",DOCTOR:"public_report_sock_second_doctor",CLOUDWALKER:"public_report_sock_second_cloudwalker",DEATH:"public_report_sock_second_death"};function go(e){const a=[];e.nightCache.reportData||(e.nightCache.reportData=mt());const t=e.nightCache.reportData,r=d=>d?e.players.find(c=>c.id===d)?.name:void 0,o=d=>Array.from(new Set(d)),i=d=>Array.from(new Set(d)),s=d=>{const c=new Set;return d.filter(y=>c.has(y.num)?!1:(c.add(y.num),!0))},l=d=>d.reduce((c,y)=>(c[y]=(c[y]??0)+1,c),{});a.push({key:"public_report_default"}),o(t.ghostTargets).forEach(d=>{const c=r(d);c&&a.push({key:"public_report_ghost_bobo",params:{name:c}})}),o(t.judgeTargets).forEach(d=>{const c=r(d);c&&a.push({key:"public_report_judge",params:{name:c}})});const u=l(t.slimedTargets);if(Object.entries(u).forEach(([d,c])=>{const y=r(d);y&&(c===1?a.push({key:"public_report_slime",params:{name:y}}):a.push({key:"public_report_slime_multi",params:{name:y,count:c}}))}),o(t.sandedTargets).forEach(d=>{const c=r(d);c&&a.push({key:"public_report_sand",params:{name:c}})}),t.sandProtectedTargets.length&&t.sandProtectedTargets.forEach(()=>a.push({key:"public_report_sand_saved"})),t.matrixBulletsCaught>0&&a.push({key:"public_report_matrix",params:{count:t.matrixBulletsCaught}}),t.bullets.length){const d=t.bullets.filter(y=>y.isMatrixShot),c=t.bullets.filter(y=>!y.isMatrixShot);a.push(...ho(c),...d)}if(t.sock.usedBy){const d=[{key:"public_report_sock_used"}],c=Ga("first",t.sock.first,r),y=Ga("second",t.sock.second,r);c&&(d.push(c),y?d.push(y):d.push({key:"public_report_sock_first_only_suffix"})),a.push({key:"public_report_sock_used",fragments:d})}return i(t.cloudwalkers.leech).forEach(d=>{a.push({key:"public_report_leech_cloudwalker",params:{num:d}})}),i(t.cloudwalkers.cobra).forEach(d=>{a.push({key:"public_report_cobra_cloudwalker",params:{num:d}})}),s(t.cloudwalkers.gravedigger).forEach(({num:d,cardInstance:c})=>{a.push({key:"public_report_cloudwalker_gain",params:{num:d,cardLabel:me("Gravedigger",c)}})}),i(t.cloudwalkers.glazier).forEach(d=>{a.push({key:"public_report_glazier_mirror",params:{num:d}})}),s(t.cloudwalkers.gandalf).forEach(({num:d,cardInstance:c})=>{a.push({key:"public_report_cloudwalker_gain",params:{num:d,cardLabel:me("Gandalf",c)}})}),s(t.cloudwalkers.horsepiece).forEach(({num:d,cardInstance:c})=>{a.push({key:"public_report_cloudwalker_gain",params:{num:d,cardLabel:me("HorsePiece",c)}})}),t.victoryKey&&a.push({key:t.victoryKey}),a}function Ga(e,a,t){if(!a)return null;const o=(e==="first"?mo:_o)[a.result];if(!o)return null;if(!(a.result==="DEATH"||a.result==="CLOUDWALKER"))return{key:o};const l={name:t(a.targetId)||"?"};return a.result==="CLOUDWALKER"&&(l.num=a.cloudwalkerInstance??"?"),{key:o,params:l}}function ho(e){const a=[...e];for(let t=a.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[a[t],a[r]]=[a[r],a[t]]}return a}function yo(){return{selfHealOffset:Math.random()<.5?1:2}}function bo(e){return e.doctorRules?.selfHealOffset??1}function _t(e){if(e.currentRound<=0)return!1;const a=bo(e);return e.currentRound<a?!1:(e.currentRound-a)%3===0}const Xe=.75,ea=3,xe=1.5,fo=Xe,ko=ea,_a={language:"pl",bulletSpeed:500,playerNodeScale:xe};function zo(e){return Number.isNaN(e)?xe:Math.min(ko,Math.max(fo,e))}function Ze(e){const a=typeof e?.playerNodeScale=="number"?e.playerNodeScale:xe;return{language:e?.language??_a.language,bulletSpeed:e?.bulletSpeed??_a.bulletSpeed,playerNodeScale:zo(a)}}function wo(e){if(!e)return[];let a=!1;const t=e.map((r,o)=>typeof r.tunnelNumber=="number"?r:(a=!0,{...r,tunnelNumber:o+1}));return a?t:e}function xo(e){if(!e?.length)return{normalized:e,changed:!1};let a=!1;const t=e.map(r=>{let o=r,i=!1;return Array.isArray(r.inactiveCards)||(o={...o,inactiveCards:r.inactiveCards?[...r.inactiveCards]:[]},i=!0),typeof o.status.timeLordSkipUsed>"u"&&(o={...o,status:{...o.status,timeLordSkipUsed:!1}},i=!0),typeof o.status.jailerAbilityUsed>"u"&&(o={...o,status:{...o.status,jailerAbilityUsed:!1}},i=!0),i?(a=!0,o):r});return{normalized:a?t:e,changed:a}}const vo=new Set(["Jailer","Gravedigger","Matrix","SwampMonster","Sniper","Sock","BlindExecutioner"]),jo=new Set(["Jailer","SwampMonster","Sniper","Sock","BlindExecutioner"]);function De(e){const{normalized:a,changed:t}=xo(e.players||[]),r=Ze(e.settings),o=!e.settings||e.settings.language!==r.language||e.settings.bulletSpeed!==r.bulletSpeed||e.settings.playerNodeScale!==r.playerNodeScale,i=wo(e.globalTunnels),s=i!==e.globalTunnels,l=Array.isArray(e.publicReport)?e.publicReport:[],u=e.publicReportsByRound??(l.length?{[e.currentRound]:l}:{}),d=u!==e.publicReportsByRound,c=e.nightCache??aa();c.pendingShots?(c.pendingShots.mafiaVotes=c.pendingShots.mafiaVotes??[],c.pendingShots.madGunman=c.pendingShots.madGunman??[],c.pendingShots.sniper=c.pendingShots.sniper??[]):c.pendingShots={mafiaVotes:[],madGunman:[],sniper:[]};const j=!c.leechLinks||!c.cobraTargets||!c.glazierPendingRewards||!Array.isArray(c.wokenPlayerIds)||typeof c.spyglassRevealIds>"u"||!Array.isArray(c.bulletAnimations)||!Array.isArray(c.jailerUsedIds)||!Array.isArray(c.blockedCardInstanceKeys)||!Array.isArray(c.nightCardOrder)||typeof c.nightCardCursor!="number"?{...c,leechLinks:c.leechLinks??[],cobraTargets:c.cobraTargets??[],glazierPendingRewards:c.glazierPendingRewards??[],wokenPlayerIds:c.wokenPlayerIds??[],spyglassRevealIds:c.spyglassRevealIds??null,bulletAnimations:c.bulletAnimations??[],jailerUsedIds:c.jailerUsedIds??[],blockedCardInstanceKeys:c.blockedCardInstanceKeys??[],nightCardOrder:c.nightCardOrder??[],nightCardCursor:typeof c.nightCardCursor=="number"?c.nightCardCursor:0}:c,D=j!==e.nightCache,T={waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null,pendingDayReport:null,communistSuppressionActive:!1,bulletReplayNonce:0,pendingVictoryKey:null},I=!e.uiState||typeof e.uiState.pendingDayReport>"u"||typeof e.uiState.communistSuppressionActive>"u"||typeof e.uiState.bulletReplayNonce>"u"||typeof e.uiState.pendingVictoryKey>"u",k=e.uiState||{},b=I?{...T,...k,pendingDayReport:k.pendingDayReport??null,communistSuppressionActive:k.communistSuppressionActive??!1,bulletReplayNonce:k.bulletReplayNonce??0,pendingVictoryKey:k.pendingVictoryKey??null}:e.uiState,z=b!==e.uiState,v=typeof e.victory>"u"?null:e.victory,S=e.victory!==v;return!o&&!s&&!D&&!d&&!t&&!z&&!S?e:{...e,players:t?a:e.players,settings:o?r:e.settings,globalTunnels:s?i:e.globalTunnels,nightCache:D?j:e.nightCache,publicReportsByRound:d?u:e.publicReportsByRound,uiState:z?b:e.uiState,victory:S?v:e.victory}}function Mo(e){return{past:e.past.map(De),present:De(e.present),future:e.future.map(De)}}function aa(){return{kuskonaTriggered:!1,gandalfTriggered:!1,leechLinks:[],cobraTargets:[],gravediggerActive:[],gravediggerBonus:{},slimeUsedOnPlayers:[],matrixStoredBullets:0,matrixTrap:null,glazierPendingRewards:[],pendingShots:{mafiaVotes:[],madGunman:[],sniper:[]},pendingToxicSocks:[],doctorProtections:[],executionerPairs:[],reportData:mt(),bulletReportLookup:{},spyglassRevealIds:null,wokenPlayerIds:[],bulletAnimations:[],jailerUsedIds:[],blockedCardInstanceKeys:[],nightCardOrder:[],nightCardCursor:0}}function gt(e,a){const t=te(e.players,a);if(!t||!t.status.isAlive)return{healer:null,canSelf:!1,hasTargets:!1,isDeactivated:!0};const r=_t(e),o=So(e,t,r),s=e.players.some(l=>!(!l.status.isAlive||l.id===t.id&&!r))||o;return{healer:t,canSelf:r,hasTargets:s,isDeactivated:o}}function Ka(e){return e.cards.some(a=>a.cardId==="Mafia")}function So(e,a,t){if(!a||!a.status.isAlive)return!0;if(t)return!1;const r=e.players.filter(s=>s.status.isAlive),o=r.filter(Ka).length;return o===0||r.length-o!==1?!1:!Ka(a)}function Co(e,a,t,r,o){e.nightCache.doctorProtections||(e.nightCache.doctorProtections=[]),e.nightCache.doctorProtections.push({healerId:a,targetId:t,instance:r.instance,mode:o})}function Ao(e){const a=[...e];for(let t=a.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[a[t],a[r]]=[a[r],a[t]]}return a}function No(e,a){if(!a)return;e.nightCache.wokenPlayerIds||(e.nightCache.wokenPlayerIds=[]);const t=te(e.players,a);if(t&&(e.nightCache.wokenPlayerIds.includes(t.id)||e.nightCache.wokenPlayerIds.push(t.id),a.cardId==="Spyglass"&&!e.nightCache.spyglassRevealIds)){const r=Array.from(new Set(e.nightCache.wokenPlayerIds));e.nightCache.spyglassRevealIds=Ao(r)}}function xa(e,a){return a?e.nightCache.jailerUsedIds?.includes(a)??!1:!1}function Io(e,a){a&&(e.nightCache.jailerUsedIds||(e.nightCache.jailerUsedIds=[]),e.nightCache.jailerUsedIds.includes(a)||e.nightCache.jailerUsedIds.push(a))}function ht(e,a){if(!e)return null;const t=a??"unknown",r=typeof e.instance=="number"?e.instance:"0",o=e.mode??"DEFAULT";return`${t}:${e.cardId}:${r}:${o}`}function Ba(e,a,t){const r=ht(a,t);r&&(e.nightCache.blockedCardInstanceKeys||(e.nightCache.blockedCardInstanceKeys=[]),e.nightCache.blockedCardInstanceKeys.includes(r)||e.nightCache.blockedCardInstanceKeys.push(r))}function $o(e,a,t){const r=ht(a,t);return r?e.nightCache.blockedCardInstanceKeys?.includes(r)??!1:!1}function Po(e,a){if(!a)return!1;const t=te(e.players,a);return $o(e,a,t?.id)?!0:a.cardId==="Jailer"?!t||!t.status.isAlive||t.status.jailerAbilityUsed?!0:xa(e,t.id):a.cardId==="SwampMonster"?!t||!t.status.isAlive?!0:t.status.swampChargesLeft<=0:!1}function To(e,a=!1){const t=e.nightCache.nightCardOrder;if(!a&&Array.isArray(t)&&t.length>0){const s=typeof e.nightCache.nightCardCursor=="number"?e.nightCache.nightCardCursor:0;return{order:t,cursor:s}}const o=po(e);let i=0;if(!a&&e.activeCard){const s=o.findIndex(l=>l.cardId===e.activeCard?.cardId&&l.instance===e.activeCard?.instance&&l.mode===e.activeCard?.mode);i=s>=0?s+1:0}return{order:o,cursor:i}}function yt(e,a){const{order:t,cursor:r}=To(e,a?.forceRebuild??!1);let o=r,i=null;for(;o<t.length;){const s=t[o];if(o+=1,!Po(e,s)){i=s;break}}return{card:i,order:t,nextCursor:o}}function Eo(e){const a=e.nightCache.leechLinks||[];if(!a.length){e.nightCache.leechLinks=[];return}a.forEach(t=>{if(!t.triggered)return;const r=e.players.find(i=>i.id===t.leechId&&i.status.isAlive);if(!r)return;const o=Ne(e.players,r,"CloudWalker");e.nightCache.reportData.cloudwalkers.leech.push(o),ze(e,"Leech",t.instance,r.name,"log_night_leech_cloudwalker",{num:o})}),e.nightCache.leechLinks=[]}function Lo(e){const a=e.nightCache.cobraTargets||[];if(!a.length){e.nightCache.cobraTargets=[];return}a.forEach(t=>{const r=e.players.find(l=>l.id===t.cobraId&&l.status.isAlive);if(!r)return;const o=e.players.find(l=>l.id===t.targetId&&l.status.isAlive);if(!o||!st(o,"Leech"))return;const s=Ne(e.players,r,"CloudWalker");e.nightCache.reportData.cloudwalkers.cobra.push(s),ze(e,"Cobra",t.instance,r.name,"log_night_cobra_cloudwalker",{num:s})}),e.nightCache.cobraTargets=[]}function Do(e){const a=e.nightCache.gravediggerActive;a?.length&&(a.forEach(({playerId:t,instance:r})=>{const o=e.nightCache.gravediggerBonus[t]||0;if(o<=0)return;const i=e.players.find(s=>s.id===t);if(!(!i||!i.status.isAlive))for(let s=0;s<o;s++){const l=Ne(e.players,i,"CloudWalker");e.nightCache.reportData.cloudwalkers.gravedigger.push({num:l,cardInstance:r}),ze(e,"Gravedigger",r,i.name,"log_night_cloudwalker_gain",{num:l})}}),e.nightCache.gravediggerActive=[],e.nightCache.gravediggerBonus={})}function Ro(e){const a=e.nightCache.glazierPendingRewards;a?.length&&(a.forEach(t=>{const r=e.players.find(s=>s.id===t&&s.status.isAlive);if(!r)return;const o=Ne(e.players,r,"Mirror");e.nightCache.reportData.cloudwalkers.glazier.push(o);const i=r.cards.find(s=>s.cardId==="Glazier")?.instance;ze(e,"Glazier",i,r.name,"log_night_glazier_mirror",{num:o})}),e.nightCache.glazierPendingRewards=[])}function Go(e){e.players.forEach(a=>{a.status.isJailed&&(a.status.isJailed=!1)})}function Re(e){Eo(e),Lo(e),Do(e),Ro(e),Go(e),Ke(e,"NIGHT_END",e.currentRound);const a=go(e),r={...e.publicReportsByRound||{},[e.currentRound]:a},o={...e.nightCache,bulletAnimations:[],jailerUsedIds:[],blockedCardInstanceKeys:[],nightCardOrder:[],nightCardCursor:0},i=Be({...e,phase:"DAY_ANNOUNCEMENT",publicReport:a,publicReportsByRound:r,nightCache:o},null);return Ke(i,"DAY_START",i.currentRound),i}function ga(e){return(e.nightCache.bulletAnimations||[]).length>0?{...e,phase:"NIGHT_REPLAY",activeCard:null,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null,bulletReplayNonce:0}}:Re(e)}function ra(e){Ke(e,"DAY_END",e.currentRound);const a=e.players.map(r=>({...r,status:{...r.status,isJailed:!1,isSlimed:!1,isSanded:!1,isMagnetized:!1,isSilenced:!1,isCantVote:!1,executionerStatus:"NONE"}})),t={...e,players:a,phase:"NIGHT_ANNOUNCEMENT",currentRound:e.currentRound+1,globalTunnels:[],publicReport:[],nightCache:aa(),activeCard:null,uiState:{waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null,pendingDayReport:null,communistSuppressionActive:!1,bulletReplayNonce:0,pendingVictoryKey:null}};return Ke(t,"NIGHT_START",t.currentRound),t}function oa(e,a){e.includes(a)||e.push(a)}function re(e,a,t,r="ACTION"){const o=Oe(t??{},e.players,e.settings.language),i=h(a,e.settings.language,o);e.logs.push({id:Math.random().toString(),timestamp:Date.now(),phase:e.phase,round:e.currentRound,text:i,translationKey:a,translationParams:t,type:r})}const Oa={NIGHT_START:"log_divider_night_start",NIGHT_END:"log_divider_night_end",DAY_START:"log_divider_day_start",DAY_END:"log_divider_day_end"};function Ke(e,a,t){const r=typeof t=="number"?{round:t}:void 0,i=[...e.logs||(e.logs=[])].reverse().find(s=>s.translationKey===Oa[a]);if(i){const s=typeof i.translationParams?.round=="number"?i.translationParams.round:i.round,l=typeof t=="number"?t:e.currentRound;if(s===l)return}re(e,Oa[a],r,"SYSTEM")}function We(e,a){return e.players.filter(t=>t.status.isAlive&&t.cards.some(r=>r.cardId===a))}function Ko(e){return We(e,"Anarchist").find(a=>!a.status.anarchistShotUsed)||null}function Bo(e){return We(e,"Terrorist").find(a=>!a.status.terroristBombUsed)||null}function Oo(e){return We(e,"Astronomer").find(a=>!a.status.astronomerNightUsed)||null}function Wo(e){return We(e,"Communist").find(a=>!a.status.communistEqualityUsed)||null}function Ho(e){return We(e,"TimeLord").find(a=>!a.status.timeLordSkipUsed)||null}function we(e,a){e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:a?[a.promptKey]:[],selectionContext:null,dayAction:a}}function Uo(e){if(!e)return null;switch(e.type){case"ROPEWALKER":return{key:"public_report_day_ropewalker_lost",params:{num:e.instance}};case"IMMUNITY":return{key:"public_report_day_immunity_lost",params:{num:e.instance}};case"KEVLAR":return{key:"public_report_day_kevlar_lost",params:{num:e.instance}};case"CLOUDWALKER":return{key:"public_report_day_cloudwalker_lost",params:{num:e.instance}};case"DEATH":return{key:"public_report_day_player_left",params:{name:e.playerName}};default:return null}}function Ue(e,a){const t=a.map(Uo).filter(r=>!!r);e.uiState.pendingVictoryKey&&(t.push({key:e.uiState.pendingVictoryKey}),e.uiState={...e.uiState,pendingVictoryKey:null}),t.length&&(e.uiState={...e.uiState,pendingDayReport:t})}function ae(e){return JSON.parse(JSON.stringify(e))}function Vo(e){if(!e.victory||e.phase==="GAME_OVER")return e;const a=e.victory.side==="MAFIA"?"victory_mafia":"victory_innocent";if(e.victory.announced||(re(e,a,{},"SYSTEM"),e.victory={...e.victory,announced:!0}),e.victory.cause==="NIGHT"){const t=Re(e);return{...t,phase:"GAME_OVER",activeCard:null,uiState:{...t.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}}}return{...e,phase:"GAME_OVER",activeCard:null,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}}}function Fo(e){return!e||e.cardId==="Matrix"?!1:e.cardId==="Gravedigger"}const Wa={Jailer:["wake_up_jailer"],Mage:["wake_up_mage_from","wake_up_mage_to"],Slime:["wake_up_slime"],Leech:["wake_up_leech"],Sand:["wake_up_sand"],Cobra:["wake_up_cobra"],Magnet:["wake_up_magnet"],GhostBobo:["wake_up_ghost"],Doctor:["wake_up_doctor_heal_self","wake_up_doctor_heal_other"],Mafia:["wake_up_shooter"],MadGunman:["wake_up_shooter"],Sniper:["wake_up_shooter"],BlindExecutioner:["wake_up_executioner_save","wake_up_executioner_victim"],Judge:["wake_up_judge"],Sock:["wake_up_sock_first","wake_up_sock_second"],SwampMonster:["wake_up_swamp_monster"]};function Jo(e,a){if(!a)return!1;if(a.cardId==="Spyglass")return!0;if(a.mode==="MATRIX_SHOT")return!1;if(a.cardId==="Matrix"){const t=te(e.players,a);if(!t||t.status.matrixAbilityUsed)return!1}if(a.cardId==="BlindExecutioner")return ft(e,a);if(a.cardId==="SwampMonster"){const t=te(e.players,a);if(!t||!t.status.isAlive||t.status.swampChargesLeft<=0)return!1}if(a.cardId==="Jailer"){const t=te(e.players,a);if(!t||!t.status.isAlive||t.status.jailerAbilityUsed||xa(e,t.id))return!1}return vo.has(a.cardId)}function bt(e,a){if(!a)return[];if(a.cardId==="Doctor"){const t=gt(e,a);return t.hasTargets?[t.canSelf?"wake_up_doctor_heal_self":"wake_up_doctor_heal_other"]:[]}if(a.cardId==="BlindExecutioner"&&!ft(e,a))return[];if(a.cardId==="SwampMonster"){const t=te(e.players,a);if(!t||!t.status.isAlive||t.status.swampChargesLeft<=0)return[]}return Wa[a.cardId]?[...Wa[a.cardId]]:[]}function Zo(e,a,t){const r=Date.now(),o=e.globalTunnels.length+1,i={id:`tunnel-${r}-${Math.random().toString(36).slice(2,8)}`,sourceId:a,targetId:t,createdAt:r,tunnelNumber:o};return e.globalTunnels.push(i),i}function te(e,a){return a&&e.find(t=>t.cards.some(r=>r.cardId===a.cardId&&r.instance===a.instance))||null}function ft(e,a){if(!a||a.cardId!=="BlindExecutioner")return!1;const t=te(e.players,a);return!t||!t.status.isAlive||t.status.executionerUses>=2?!1:e.players.filter(o=>o.status.isAlive).length>=2}function ze(e,a,t,r,o,i={}){const s={player:r,...i,cardLabel:me(a,t)},l=e.settings.language,u=h(o,l,Oe(s,e.players,l));e.logs.push({id:Math.random().toString(),timestamp:Date.now(),phase:e.phase,round:e.currentRound,text:u,translationKey:o,translationParams:s,type:"ACTION"})}function Yo(e,a){const t=e.filter(s=>s.status.isAlive);if(t.length<=1)return[];const r=t.findIndex(s=>s.id===a);if(r===-1)return[];const o=t[(r-1+t.length)%t.length],i=t[(r+1)%t.length];return o.id===i.id?[o]:[o,i]}function qo(e,a,t){const r=te(e.players,a);if(!r)return;if(a.cardId==="Mafia"){const l=e.nightCache.pendingShots,u=l.mafiaVotes||(l.mafiaVotes=[]),d={shooterId:r.id,targetId:t},c=u.findIndex(y=>y.shooterId===r.id);c>=0?u[c]=d:u.push(d);return}const o=a.cardId==="Sniper"?e.nightCache.pendingShots.sniper:e.nightCache.pendingShots.madGunman,i={shooterId:r.id,instance:a.instance,targetId:t},s=o.findIndex(l=>l.shooterId===r.id&&l.instance===a.instance);s>=0?o[s]=i:o.push(i)}function Ha(e){const a=e.nightCache.pendingShots;return!!(a.mafiaVotes.length||a.madGunman.length||a.sniper.length)}function Ua(e){return e.nightCache.pendingToxicSocks.length>0}function Qo(e){const a=e.nightCache.matrixTrap;if(!a)return null;const t=e.players.find(o=>o.id===a.playerId&&o.status.isAlive);return!t||!t.cards.some(o=>o.cardId==="Matrix"&&o.instance===a.instance)?null:{cardId:"Matrix",instance:a.instance,mode:"MATRIX_SHOT"}}function Xo(e,a,t){const r=e.uiState.pendingPrompts[0],o=()=>{const i=e.uiState.pendingPrompts.slice(1);return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:i,selectionContext:null},i.length===0?ne(e):e};if(!r||r==="wake_up_mage_from"){const i=e.uiState.pendingPrompts.slice(1);return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:i.length?i:["wake_up_mage_to"],selectionContext:{cardId:"Mage",data:{sourceId:a}}},e}if(r==="wake_up_mage_to"){const i=e.uiState.selectionContext?.data?.sourceId;if(!i)return e.uiState.selectionContext={cardId:"Mage",data:{sourceId:a}},e;if(i===a)return t("log_tunnel_same_player"),e;const s=e.players.find(c=>c.id===i)?.name||"?",l=e.players.find(c=>c.id===a),u=l?.name||"?";if(e.globalTunnels.some(c=>c.sourceId===i&&c.targetId===a))return t("log_tunnel_duplicate",{source:s,target:u}),o();if(l&&l.cards.some(c=>c.cardId==="Atheist"))return t("log_tunnel_atheist",{source:s,target:l.name}),o();const d=Zo(e,i,a);return t("log_tunnel_created",{source:s,target:u,tunnelNumber:d.tunnelNumber}),o()}return e}function en(e,a,t){const r=e.activeCard;if(!r)return e;const o=te(e.players,r);if(!o)return e;const i=e.players.find(c=>c.id===a&&c.status.isAlive);if(!i)return e;const s=e.uiState.pendingPrompts||[],l=e.uiState.selectionContext?.data?.savedId;if(!l)return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:s.slice(1),selectionContext:{cardId:"BlindExecutioner",data:{savedId:a}}},e;if(l===a)return e;const u=e.players.find(c=>c.id===l&&c.status.isAlive);if(!u)return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:s.slice(1),selectionContext:null},e.uiState.pendingPrompts.length===0?ne(e):e;e.nightCache.executionerPairs||(e.nightCache.executionerPairs=[]),e.nightCache.executionerPairs.push({savedId:l,victimId:a}),u.status.executionerStatus="SAVED",i.status.executionerStatus="VICTIM",o.status.executionerUses=Math.min(2,o.status.executionerUses+1),t("log_night_executioner_save",{saved:u.name,victim:i.name});const d=s.slice(1);return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:d,selectionContext:null},d.length===0?ne(e):e}function an(e,a,t){if(!e.activeCard)return e;const r=e.players.find(d=>d.id===a&&d.status.isAlive);if(!r)return e;const o=e.uiState.selectionContext?.cardId==="Sock"?e.uiState.selectionContext?.data?.firstTargetId:void 0;if(!o){const d=e.uiState.pendingPrompts.slice(1);return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:d.length?d:["wake_up_sock_second"],selectionContext:{cardId:"Sock",data:{firstTargetId:a}}},e}if(o===a||!Yo(e.players,o).map(d=>d.id).includes(a))return e;const s=te(e.players,e.activeCard);if(!s)return e;e.nightCache.pendingToxicSocks.push({sockId:s.id,firstTargetId:o,secondTargetId:a}),lt(s,"Sock",e.activeCard.instance);const l=e.players.find(d=>d.id===o);t("log_action_sock_throw",{first:l?.name||"?",second:r.name});const u=e.uiState.pendingPrompts.slice(1);return e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:u,selectionContext:null},u.length===0?ne(e):e}function tn(e,a,t){if(!e.activeCard)return e;const r=te(e.players,e.activeCard);if(!r||!r.status.isAlive||r.status.swampChargesLeft<=0)return e;const o=e.players.find(s=>s.id===a&&s.status.isAlive);if(!o)return e;o.status.mudCount=(o.status.mudCount||0)+1,r.status.swampChargesLeft=Math.max(0,r.status.swampChargesLeft-1),t("log_night_swamp_attack",{target:o.name});const i=(e.uiState.pendingPrompts||[]).slice(1);return r.status.swampChargesLeft>0?(e.uiState={...e.uiState,waitingFor:"USE_DECISION",pendingPrompts:["wake_up_use_again"],selectionContext:null},e):(e.uiState={...e.uiState,waitingFor:"NONE",pendingPrompts:i,selectionContext:null},i.length===0?ne(e):e)}function Be(e,a){const t=Jo(e,a),r=t?"USE_DECISION":"NONE",o=a&&!t?bt(e,a):[],i={...e,activeCard:a,uiState:{...e.uiState,waitingFor:r,pendingPrompts:o,selectionContext:null,dayAction:null}};return No(i,a),a?.cardId==="Doctor"&&!t&&o.length===0||a?.cardId==="BlindExecutioner"&&!t&&o.length===0?ne(i):i}function rn(e){if(!(Ha(e)||e.nightCache.matrixStoredBullets>0||Ua(e)))return ga(e);const t=ae(e);Ha(t)&&Gr(t);const r=t.nightCache.matrixStoredBullets>0;if(Ua(t)&&Kr(t),r){const o=Qo(t);if(o){const i=te(t.players,o);return i&&ze(t,"Matrix",o.instance,i.name,"log_night_matrix_bullet_summary",{count:t.nightCache.matrixStoredBullets}),Be({...t,phase:"NIGHT_ACTIVE"},o)}t.nightCache.matrixStoredBullets=0,t.nightCache.matrixTrap=null}return r||(t.nightCache.matrixTrap=null),ga(t)}function ne(e){if(e.activeCard?.cardId==="Matrix"&&e.activeCard.mode==="MATRIX_SHOT"){if(e.nightCache.matrixStoredBullets>0)return Be(e,e.activeCard);const o={...e,nightCache:{...e.nightCache,matrixTrap:null}};return ga(o)}const t=yt(e),r={...e,nightCache:{...e.nightCache,nightCardOrder:t.order,nightCardCursor:t.nextCursor}};return t.card?Be(r,t.card):rn(r)}const on={players:[],phase:"SETUP",currentRound:0,firstNightBriefingDone:!1,publicReport:[],publicReportsByRound:{},doctorRules:{selfHealOffset:1},activeCard:null,globalTunnels:[],nightCache:aa(),uiState:{waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null,pendingDayReport:null,communistSuppressionActive:!1,bulletReplayNonce:0,pendingVictoryKey:null},logs:[],settings:Ze(_a),victory:null},nn={past:[],present:on,future:[]};function sn(e,a){switch(a.type){case"START_GAME":{const{names:t,customDeck:r,language:o}=a.payload,i=t.map((u,d)=>{const c=u.trim(),y=c===""?String(d+1):c;return{id:`p${d}`,name:y,cards:[],inactiveCards:[],hasGasMask:!1,status:{isAlive:!0,isJailed:!1,isSilenced:!1,isCantVote:!1,isSlimed:!1,isSanded:!1,isMagnetized:!1,mudCount:0,swampChargesLeft:0,matrixAbilityUsed:!1,gravediggerUsed:!1,massMurdererUsed:!1,jailerAbilityUsed:!1,executionerStatus:"NONE",executionerUses:0,anarchistShotUsed:!1,terroristBombUsed:!1,astronomerNightUsed:!1,communistEqualityUsed:!1,timeLordSkipUsed:!1}}}),s=Xr(i,r),l={...e,players:s,phase:"NIGHT_ANNOUNCEMENT",currentRound:1,firstNightBriefingDone:!1,publicReport:[],publicReportsByRound:{},doctorRules:yo(),activeCard:null,nightCache:aa(),uiState:{waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null,pendingDayReport:null,communistSuppressionActive:!1,bulletReplayNonce:0,pendingVictoryKey:null},settings:Ze({...e.settings,language:o}),logs:[{id:"0",timestamp:Date.now(),round:0,phase:"SETUP",text:h("log_start_game",o),translationKey:"log_start_game",translationParams:{},type:"SYSTEM"}],victory:null};return Ke(l,"NIGHT_START",l.currentRound),l}case"NEXT_PHASE":{if(e.phase==="NIGHT_ANNOUNCEMENT"){const t=e.currentRound===1&&!e.firstNightBriefingDone?{...e,firstNightBriefingDone:!0}:e,r={...t,nightCache:{...t.nightCache,nightCardOrder:[],nightCardCursor:0}},o=yt(r,{forceRebuild:!0}),i={...r,nightCache:{...r.nightCache,nightCardOrder:o.order,nightCardCursor:o.nextCursor}};return o.card?Be({...i,phase:"NIGHT_ACTIVE"},o.card):Re(i)}return e.phase==="NIGHT_ACTIVE"?ne(e):e.phase==="NIGHT_REPLAY"?Re(e):e.phase==="DAY_ANNOUNCEMENT"?{...e,phase:"DAY_MAIN",uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}}:e.phase==="DAY_MAIN"?ra(e):e}case"REPLAY_BULLETS":{if(e.phase!=="NIGHT_REPLAY"||!e.nightCache.bulletAnimations?.length)return e;const t=ae(e);return t.uiState={...t.uiState,bulletReplayNonce:t.uiState.bulletReplayNonce+1},t}case"CONFIRM_DAY_REPORT":{const t=e.uiState.pendingDayReport;if(!t?.length)return e;const r=ae(e),o=r.publicReportsByRound||{},i=o[r.currentRound]??[];return r.publicReport=[...r.publicReport||[],...t],r.publicReportsByRound={...o,[r.currentRound]:[...i,...t]},r.uiState={...r.uiState,pendingDayReport:null},r}case"TRIGGER_VOTE":{if(e.phase!=="DAY_MAIN"||e.uiState.waitingFor==="USE_DECISION")return e;const t=ae(e);return we(t,{kind:"HANG",promptKey:"day_prompt_vote"}),t}case"CONFIRM_MASS_MURDERER":{if(e.phase!=="DAY_MAIN")return e;const t=e.uiState.dayAction;if(!t||t.kind!=="MASS_MURDERER_RETALIATION")return e;const r=ae(e),o=r.uiState.dayAction?.massMurderer;if(!o)return we(r,null),r;const i=r.players.find(d=>d.id===o.ownerId)||null,s=Array.from(new Set(o.selectedIds||[])),l=[];i&&(s.forEach(d=>{if(d===i.id)return;const c=r.players.find(y=>y.id===d);!c||!c.status.isAlive||(re(r,"log_day_mass_murderer_shot",{player:i.name,target:c.name}),l.push(Ae(r,c.id,"SHOOT")))}),i.status.massMurdererUsed=!0,st(i,"MassMurderer"));const u=t.targetId??i?.id??null;if(u){const c=r.players.find(y=>y.id===u)?.name||"?";re(r,"log_day_vote",{target:c}),l.push(Ae(r,u,"HANG"))}return Ue(r,l),we(r,null),r}case"TRIGGER_ANARCHIST":{if(e.phase!=="DAY_MAIN"||e.uiState.waitingFor==="USE_DECISION")return e;const t=Ko(e);if(!t){const o=ae(e);return re(o,"warn_anarchist_unavailable",{},"SYSTEM"),o}const r=ae(e);return we(r,{kind:"ANARCHIST_SHOT",promptKey:"day_prompt_shot",actorId:t.id,consumeAnarchistCharge:!0,source:"ANARCHIST"}),r}case"GM_CLICK_PLAYER":{if(e.uiState.waitingFor==="USE_DECISION"||!a.payload)return e;if(e.phase==="NIGHT_ACTIVE"&&e.activeCard){const t=ae(e),r=t.activeCard;if(!r)return e;const o=te(t.players,r),i=o?.name||"?",s=(c,y={})=>{ze(t,r.cardId,r.instance,i,c,y)},l=(c=!1)=>{const y=(t.uiState.pendingPrompts||[]).slice(1),j=y.length===0;return t.uiState={...t.uiState,waitingFor:"NONE",pendingPrompts:y,selectionContext:c||j?null:t.uiState.selectionContext},j?ne(t):t},u=a.payload;if(o?.status.isJailed)return Ba(t,r,o.id),s("log_action_blocked_jailed",{player:i}),l(!0);if(r.cardId==="Mage")return Xo(t,u,s);if(r.cardId==="BlindExecutioner")return en(t,u,s);if(r.cardId==="Sock")return an(t,u,s);const d=t.players.find(c=>c.id===u);if(r.cardId==="Jailer"){if(!d||!d.status.isAlive)return e;d.status.isJailed=!0,o&&(o.status.jailerAbilityUsed=!0,Io(t,o.id)),s("log_jailer_imprison",{target:d.name})}else if(r.cardId==="Mafia"||r.cardId==="MadGunman"||r.cardId==="Sniper")qo(t,r,u),s("log_shooter_aim",{target:d?.name||"?"}),r.cardId==="Sniper"&&o&&lt(o,"Sniper",r.instance);else if(r.cardId==="Doctor"){const c=gt(t,r),y=c.healer;if(!y||!d||!d.status.isAlive||!c.hasTargets)return e;if(c.isDeactivated)return s("log_doctor_fail",{target:d.name}),l(!0);if(d.id===y.id&&!c.canSelf)return s("log_doctor_self_locked"),t;const j=d.id===y.id?"SELF":"OTHER";Co(t,y.id,d.id,r,j),s("log_doctor_success",{target:d.name})}else if(r.cardId==="Matrix"&&r.mode==="MATRIX_SHOT"){if(t.nightCache.matrixStoredBullets>0){const c=d?.name||"?";t.nightCache.matrixStoredBullets-=1;const y=te(t.players,r);ka(t,u,"MATRIX",y?.id||null,y?{shooterLabel:me("Matrix",r.instance),shooterName:y.name,initialTargetName:c}:void 0)}}else{const c=d;if(c&&c.status.isAlive){const y=t.nightCache.reportData;switch(r.cardId){case"Leech":{if(!o||!o.status.isAlive)break;t.nightCache.leechLinks||(t.nightCache.leechLinks=[]);const j=t.nightCache.leechLinks,D={leechId:o.id,instance:r.instance,targetId:c.id,triggered:!1},T=j.findIndex(I=>I.leechId===o.id&&I.instance===r.instance);T>=0?j[T]=D:j.push(D),s("log_action_leech",{target:c.name});break}case"Cobra":{if(!o||!o.status.isAlive)break;t.nightCache.cobraTargets||(t.nightCache.cobraTargets=[]),t.nightCache.cobraTargets.push({cobraId:o.id,instance:r.instance,targetId:c.id}),s("log_action_cobra",{name:c.name});break}case"Magnet":{if(!o||!o.status.isAlive)break;c.status.isMagnetized=!0,s("log_action_magnet",{name:c.name});break}case"Slime":c.status.isSlimed=!0,y.slimedTargets.push(c.id),s("log_action_slime",{target:c.name});break;case"Sand":c.hasGasMask?(y.sandProtectedTargets.push(c.id),s("log_action_sand_fail",{target:c.name})):(c.status.isSanded=!0,c.status.isSlimed=!1,oa(y.sandedTargets,c.id),s("log_action_sand",{target:c.name}));break;case"GhostBobo":c.status.isSilenced=!0,oa(y.ghostTargets,c.id),s("log_action_ghost",{target:c.name});break;case"Judge":c.status.isCantVote=!0,oa(y.judgeTargets,c.id),s("log_action_judge",{target:c.name});break;case"SwampMonster":return tn(t,u,s)}}}return l()}if(e.phase==="DAY_MAIN"){const t=e.uiState.dayAction;if(!t)return e;const r=ae(e),o=a.payload,i=r.players.find(l=>l.id===o),s=i?.name||"?";if(t.kind==="MASS_MURDERER_RETALIATION"){const l=r.uiState.dayAction?.massMurderer;if(!l)return we(r,null),r;if(o===l.ownerId||!i||!i.status.isAlive)return e;const u=l.selectedIds||(l.selectedIds=[]),d=u.indexOf(o);return d>=0?u.splice(d,1):u.push(o),r}if(t.kind==="HANG"){if(i&&i.status.isAlive&&i.cards.some(u=>u.cardId==="MassMurderer")&&!i.status.massMurdererUsed){const u={kind:"MASS_MURDERER_RETALIATION",promptKey:"day_prompt_mass_murderer_select",source:"MASS_MURDERER",targetId:i.id,massMurderer:{ownerId:i.id,selectedIds:[]}};return re(r,"log_day_mass_murderer_trigger",{target:i.name}),we(r,u),r}re(r,"log_day_vote",{target:s});const l=Ae(r,o,"HANG");Ue(r,[l])}else if(t.kind==="ANARCHIST_SHOT"){const l=Ae(r,o,"SHOOT"),u=t.actorId?r.players.find(d=>d.id===t.actorId):null;t.consumeAnarchistCharge&&u&&(u.status.anarchistShotUsed=!0),re(r,"log_day_shot",{target:s,actor:u?.name||h("role_Anarchist",r.settings.language)}),Ue(r,[l])}return we(r,null),r}return e}case"GM_USE_DECISION":{if(e.phase!=="NIGHT_ACTIVE"||e.uiState.waitingFor!=="USE_DECISION"||!e.activeCard)return e;const t=e.activeCard;if(!a.payload){const s={...e,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}};return ne(s)}const r=te(e.players,t);if(t.cardId==="Jailer"&&r&&(r.status.jailerAbilityUsed||xa(e,r.id))){const s={...e,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}};return ne(s)}if(r?.status.isJailed&&!jo.has(t.cardId)){const s=ae(e),l=te(s.players,t),u=l?.name||r.name||"?";return Ba(s,t,l?.id??r.id),ze(s,t.cardId,t.instance,u,"log_action_blocked_jailed",{player:u}),s.uiState={...s.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null},ne(s)}if(t.cardId==="Matrix"&&t.mode!=="MATRIX_SHOT"){const s=ae(e),l=te(s.players,t);return l&&!l.status.matrixAbilityUsed&&(l.status.matrixAbilityUsed=!0,s.nightCache.matrixTrap={playerId:l.id,instance:t.instance},ze(s,"Matrix",t.instance,l.name,"log_night_matrix_activate")),s.uiState={...s.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null},ne(s)}if(t.cardId==="Gravedigger"){const s=ae(e),l=te(s.players,t);return l&&l.status.isAlive&&!l.status.gravediggerUsed&&(l.status.gravediggerUsed=!0,s.nightCache.gravediggerActive.push({playerId:l.id,instance:t.instance}),s.nightCache.gravediggerBonus[l.id]||(s.nightCache.gravediggerBonus[l.id]=0),ze(s,"Gravedigger",t.instance,l.name,"log_player_activate")),s.uiState={...s.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null},ne(s)}if(t.cardId==="Spyglass"){const s={...e,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}};return ne(s)}if(Fo(t)){const s={...e,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:[],selectionContext:null,dayAction:null}};return ne(s)}const o=bt(e,t),i={...e,uiState:{...e.uiState,waitingFor:"NONE",pendingPrompts:o,selectionContext:null,dayAction:null}};return t.cardId==="BlindExecutioner"&&o.length===0?ne(i):i}case"UPDATE_SETTINGS":{const t=Ze({...e.settings,...a.payload});return e.settings.language===t.language&&e.settings.bulletSpeed===t.bulletSpeed&&e.settings.playerNodeScale===t.playerNodeScale?e:{...e,settings:t}}case"TRIGGER_ASTRONOMER":{if(e.phase!=="DAY_MAIN"){const i=ae(e);return re(i,"warn_astronomer_day_only",{},"SYSTEM"),i}const t=Oo(e);if(!t){const i=ae(e);return re(i,"warn_astronomer_unavailable",{},"SYSTEM"),i}const r=ae(e),o=r.players.find(i=>i.id===t.id);return o?(o.status.astronomerNightUsed=!0,re(r,"log_day_astronomer",{player:o.name}),ra(r)):e}case"TRIGGER_COMMUNIST":{if(e.phase!=="DAY_MAIN"){const i=ae(e);return re(i,"warn_communist_day_only",{},"SYSTEM"),i}const t=Wo(e);if(!t){const i=ae(e);return re(i,"warn_communist_unavailable",{},"SYSTEM"),i}const r=ae(e),o=r.players.find(i=>i.id===t.id);return o?(o.status.communistEqualityUsed=!0,r.players=r.players.map(i=>({...i,status:{...i.status,isSilenced:!1,isCantVote:!1}})),r.uiState={...r.uiState,communistSuppressionActive:!0},re(r,"log_day_communist",{player:o.name}),r):e}case"TRIGGER_TIMELORD_SKIP":{const t=a.payload.targetPhase==="NIGHT"?"NIGHT_ANNOUNCEMENT":"DAY_ANNOUNCEMENT";if(e.phase!==t)return e;const r=Ho(e);if(!r)return e;const o=ae(e),i=o.players.find(l=>l.id===r.id);if(!i)return e;i.status.timeLordSkipUsed=!0;const s=a.payload.targetPhase==="NIGHT"?"log_timelord_skip_night":"log_timelord_skip_day";if(re(o,s,{player:i.name,cardLabel:me("TimeLord")}),a.payload.targetPhase==="NIGHT"){const l=o.currentRound===1&&!o.firstNightBriefingDone?{...o,firstNightBriefingDone:!0}:o;return Re(l)}return ra(o)}case"TRIGGER_BOMB":{if(e.phase!=="DAY_MAIN"){const l=ae(e);return re(l,"warn_bomb_day_only",{},"SYSTEM"),l}const t=Bo(e);if(!t){const l=ae(e);return re(l,"warn_terrorist_unavailable",{},"SYSTEM"),l}const r=ae(e),o=r.players.find(l=>l.id===t.id);if(!o)return e;o.status.terroristBombUsed=!0,re(r,"log_day_bomb",{player:o.name});const i=r.players.filter(l=>l.status.isAlive).map(l=>l.id),s=[];return i.forEach(l=>{s.push(Ae(r,l,"SHOOT"))}),we(r,null),Ue(r,s),r}}return e}function ln(e,a){if(e.present.phase==="GAME_OVER"&&a.type!=="UNDO")return e;if(a.type==="LOAD_GAME")return Mo(a.payload);if(a.type==="UNDO"){if(e.past.length===0)return e;const i=e.past[e.past.length-1],s=De(i),l=e.present.settings,u={...s,settings:{...l}};return{past:e.past.slice(0,-1),present:u,future:[]}}const t=sn(e.present,a),r=De(t),o=Vo(r);return e.present===o?e:a.type==="UPDATE_SETTINGS"?{...e,present:o,future:[]}:a.type==="REPLAY_BULLETS"?{...e,present:o,future:[]}:{past:[...e.past,e.present].slice(-50),present:o,future:[]}}const Ve=2,Fe=20;function cn(e,a){if(Number.isNaN(e))return 1;const t=Math.round(e),r=Math.max(1,a-1);return Math.min(Math.max(1,t),r)}function Te(e){if(e<=0)return 1;let a=1,t=4,r=2;for(;e>t;)a+=1,t+=r,r+=1;const o=Math.max(1,e-1);return Math.min(Math.max(a,1),o)}const dn=({dispatch:e,language:a})=>{const[t,r]=M.useState(1),[o,i]=M.useState(7),[s,l]=M.useState("7"),[u,d]=M.useState(()=>Te(7)),[c,y]=M.useState([]),j=M.useRef([]),[D,T]=M.useState(()=>{const f={};return Object.values(Ge).forEach(w=>f[w.id]=w.defaultAmount),f}),I="mafia-button mafia-button--jade font-bold tracking-[0.3em] uppercase py-3 px-8 rounded-2xl text-lg";if(t===1){const f=Number(s),w=Number.isFinite(f),C=w?Math.round(f):o,x=w&&C>=Ve&&C<=Fe,G=O=>{const B=Number(s),F=Number.isFinite(B)?Math.round(B):o,q=Math.min(Fe,Math.max(Ve,F+O));i(q),l(String(q)),d(Te(q))};return n.jsx("div",{className:"w-full max-w-md mx-auto",children:n.jsxs("div",{className:"setup-panel text-white items-center text-center",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:[h("setup_step_count",a)," (",Ve,"-",Fe,")"]}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("input",{type:"number",value:s,onChange:O=>{const B=O.target.value;if(l(B),B.trim()==="")return;const F=Number(B);if(!Number.isFinite(F))return;const q=Math.round(F);q<Ve||q>Fe||(i(q),d(Te(q)))},className:"mafia-input text-3xl text-center w-32 h-12 font-bold tracking-[0.2em]"}),n.jsxs("div",{className:"flex h-12 overflow-hidden rounded-xl border border-[rgba(242,200,121,0.25)] bg-[rgba(10,8,13,0.85)]",children:[n.jsx("button",{type:"button",onClick:()=>G(1),"aria-label":h("setup_step_count",a)+" +",className:"flex h-full w-20 items-center justify-center text-center text-xl font-semibold leading-none text-white/80 transition hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",children:n.jsx(ia,{size:18,weight:"bold"})}),n.jsx("span",{className:"w-px bg-[rgba(242,200,121,0.25)]"}),n.jsx("button",{type:"button",onClick:()=>G(-1),"aria-label":h("setup_step_count",a)+" -",className:"flex h-full w-20 items-center justify-center text-center text-xl font-semibold leading-none text-white/80 transition hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",children:n.jsx(sa,{size:18,weight:"bold"})})]})]}),n.jsxs("button",{onClick:()=>{x&&(i(C),d(Te(C)),r(2))},className:`${I} ${x?"":"opacity-50 cursor-not-allowed"}`,disabled:!x,children:[h("setup_next",a)," â†’"]})]})})}if(t===2){const w=Math.max(1,o-1),C=Te(o),x=G=>{d(cn(G,o))};return n.jsx("div",{className:"w-full max-w-xl mx-auto",children:n.jsxs("div",{className:"setup-panel text-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:h("setup_step_mafia",a)}),n.jsx("p",{className:"text-center text-[rgba(255,255,255,0.75)]",children:h("setup_mafia_description",a,{min:1,max:w})}),n.jsxs("div",{className:"rounded-2xl border border-[rgba(242,200,121,0.25)] bg-[rgba(4,4,8,0.88)] p-5 flex flex-col gap-4 shadow-[inset_0_0_30px_rgba(0,0,0,0.35)]",children:[n.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold",children:[n.jsx("span",{children:h("setup_mafia_label",a)}),n.jsx("span",{className:"text-4xl font-bold text-[var(--color-brass)]",children:u})]}),n.jsx("input",{type:"range",min:1,max:w,value:u,onChange:G=>x(Number(G.target.value)),className:"w-full accent-[var(--color-brass)]"}),n.jsx("p",{className:"text-sm text-slate-300 text-center",children:h("setup_mafia_recommended",a,{players:o,count:C})})]}),n.jsxs("button",{onClick:()=>{y(Array(o).fill("")),r(3)},className:I,children:[h("setup_next",a)," â†’"]})]})})}if(t===3)return n.jsx("div",{className:"w-full max-w-md mx-auto",children:n.jsxs("div",{className:"setup-panel text-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:h("setup_step_names",a)}),n.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] w-full overflow-y-auto pr-1",children:c.map((f,w)=>n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsxs("span",{className:"w-8 text-right font-mono text-[rgba(255,255,255,0.55)]",children:[w+1,"."]}),n.jsx("input",{type:"text",value:f,ref:C=>{j.current[w]=C},onChange:C=>{const x=[...c];x[w]=C.target.value,y(x)},onKeyDown:C=>{if(C.key!=="Enter")return;C.preventDefault();const x=j.current[w+1];x&&(x.focus(),x.select())},className:"mafia-input flex-1 text-base"})]},w))}),n.jsxs("button",{onClick:()=>{T(f=>({...f,Mafia:u})),r(4)},className:I,children:[h("setup_next",a)," â†’"]})]})});const k=Object.values(D).reduce((f,w)=>f+w,0),b=k%o,z=Math.max(0,o-k),v=b===0?0:b,S=b===0?z:o-b,N=z===0,$=b===0&&N,R=$?"mafia-button mafia-button--jade text-xs sm:text-sm font-black tracking-[0.25em] uppercase px-5 py-3 rounded-xl shadow-lg":"px-5 py-3 rounded-xl font-black text-xs sm:text-sm tracking-[0.25em] uppercase bg-[rgba(18,16,26,0.85)] text-slate-500 border border-[rgba(255,255,255,0.08)] cursor-not-allowed shadow-lg",L=f=>{const w=f==="Mafia"?1:0;T(C=>{const x=C[f]??0;return x<=w?C:{...C,[f]:x-1}})},V=f=>{T(w=>{const C=w[f]??0;return{...w,[f]:C+1}})},P=()=>{const f=[];Object.entries(D).forEach(([w,C])=>{for(let x=0;x<C;x++)f.push(w)}),e({type:"START_GAME",payload:{names:c,customDeck:f,language:a}})};return n.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 text-white w-full max-w-5xl mx-auto h-full min-h-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-center",children:h("setup_step_balance",a)}),n.jsxs("div",{className:"setup-balance-shell",children:[n.jsxs("div",{className:"setup-balance-toolbar",children:[n.jsxs("div",{className:"setup-panel__metrics",role:"group","aria-label":h("setup_step_balance",a),children:[n.jsxs("div",{className:`setup-metric-card ${v===0?"setup-metric-card--ok":"setup-metric-card--warn"}`,children:[n.jsx("div",{className:"setup-metric-card__value",children:v}),n.jsx("div",{children:h("setup_cards_remaining",a)})]}),n.jsxs("div",{className:`setup-metric-card ${S===0?"setup-metric-card--ok":"setup-metric-card--pending"}`,children:[n.jsx("div",{className:"setup-metric-card__value",children:S}),n.jsx("div",{children:h("setup_cards_missing",a)})]})]}),n.jsx("button",{onClick:()=>{$&&P()},disabled:!$,className:`${R} setup-balance-toolbar__button transition-colors duration-150`,children:h("setup_start_game",a)})]}),n.jsxs("div",{className:"setup-balance-content",children:[n.jsxs("div",{className:"setup-panel text-center text-white",children:[n.jsx("p",{className:"text-lg text-[rgba(242,200,121,0.9)]",children:h("setup_balance_instruction",a,{remove:v,add:S})}),n.jsx("div",{className:"text-sm text-slate-300",children:h("setup_cards_total",a,{count:k,players:o})}),!N&&n.jsx("div",{className:"text-sm text-yellow-300",children:h("setup_cards_minimum",a,{missing:z})})]}),n.jsx("div",{className:"setup-card-grid w-full p-1 sm:p-2",children:Object.values(Ge).map(f=>{const w=f.id,C=D[w]??0,G=C>(w==="Mafia"?1:0);return n.jsxs("div",{className:"setup-card-tile",children:[n.jsx("span",{className:"setup-card-title",children:ce(w,a)}),n.jsxs("div",{className:"setup-card-actions",children:[n.jsx("button",{type:"button",onClick:()=>L(w),className:`setup-adjust setup-adjust--remove ${G?"":"setup-adjust--disabled"}`,disabled:!G,"aria-label":`${ce(w,a)} -`,children:n.jsx(sa,{size:18,weight:"bold"})}),n.jsx("span",{className:"setup-card-count",children:C}),n.jsx("button",{type:"button",onClick:()=>V(w),className:"setup-adjust setup-adjust--add","aria-label":`${ce(w,a)} +`,children:n.jsx(ia,{size:18,weight:"bold"})})]})]},w)})})]})]})]})},un="/mafia2/assets/matrix-rfOvDpe1.jpg",pn="/mafia2/assets/slime-h-x_MfbQ.png",mn="/mafia2/assets/sand-DS9QaSWb.png",_n="/mafia2/assets/magnet-Co9Fisv4.png",gn="/mafia2/assets/meciar-FVkp5FZi.png",hn="/mafia2/assets/kovac-8MCfAMD3.png",yn="/mafia2/assets/cant_vote-C-NW6rlv.png",bn="/mafia2/assets/silenced-DyavVrFG.png",fn=({player:e,x:a,y:t,phase:r,isActive:o,onClick:i,disabled:s=!1,size:l=1,isHighlighted:u=!1,communistSuppressionActive:d=!1,showMatrixIcon:c=!1})=>{const y=r.includes("NIGHT"),j=!e.status.isAlive,D=s?.4:j?.5:1,T=s?"cursor-not-allowed":"cursor-pointer",I=Math.min(ea,Math.max(Xe,l)),k=4*I,b=3*I,z=1.5*I,v=z*1.25,S=Math.min(.95,Math.max(.6,.68+(I-1)*.25)),N=M.useRef(null),$=o?"border-[rgba(242,200,121,0.85)]":"border-[rgba(242,200,121,0.35)]",R=o?"shadow-[0_22px_42px_rgba(0,0,0,0.75)]":"shadow-[0_12px_28px_rgba(0,0,0,0.55)]",L=u?"ring-4 ring-[rgba(242,200,121,0.6)] ring-offset-2 ring-offset-[rgba(8,6,12,0.85)] animate-pulse":"";M.useLayoutEffect(()=>{const P=N.current;if(!P)return;const f=P.parentElement;if(!f)return;let w=S;const C=Math.max(.3,S*.45);P.style.fontSize=`${w}rem`;for(let x=0;x<20;x++){const G=P.scrollWidth>f.clientWidth-4,O=P.scrollHeight>f.clientHeight-4;if(!G&&!O||w<=C)break;w=Math.max(C,w-.05),P.style.fontSize=`${w}rem`}},[e.name,S,I]);const V=c&&y&&e.status.isAlive;return n.jsxs("div",{className:`absolute flex flex-col items-center justify-center transition ${T} ${o?"scale-110 z-20":"z-10"}`,style:{left:`${a}%`,top:`${t}%`,width:`${k}rem`,height:`${k}rem`,transform:"translate(-50%, -50%)",opacity:D,filter:j?"grayscale(100%)":"none",pointerEvents:s?"none":void 0},onClick:s?void 0:()=>i(e.id),"aria-disabled":s,children:[n.jsx("div",{className:`rounded-full border-2 flex items-center justify-center transition-colors transition-shadow duration-200 ${$} ${R} ${L}`,style:{width:`${b}rem`,height:`${b}rem`,background:"radial-gradient(circle at 35% 25%, rgba(242, 200, 121, 0.15), rgba(8, 6, 12, 0.92))"},children:n.jsx("span",{ref:N,className:"text-xs font-bold max-w-full px-1 text-center leading-tight text-[rgba(255,255,255,0.95)]",style:{fontSize:`${S}rem`,whiteSpace:"nowrap"},children:e.name})}),y&&e.status.isAlive&&n.jsxs(n.Fragment,{children:[V&&n.jsx("img",{src:un,className:"absolute -bottom-2 -left-2",style:{height:`${v}rem`,width:"auto",maxWidth:`${v*1.4}rem`,objectFit:"contain"},alt:"Matrix activated"}),e.status.isSlimed&&n.jsx("img",{src:pn,className:"absolute -top-2 -right-2",style:{width:`${z}rem`,height:`${z}rem`}}),e.status.isSanded&&n.jsx("img",{src:mn,className:"absolute -top-2 -right-2",style:{width:`${z}rem`,height:`${z}rem`}}),e.status.isMagnetized&&n.jsx("img",{src:_n,className:"absolute -bottom-2 -right-2",style:{width:`${z}rem`,height:`${z}rem`}})]}),!y&&e.status.isAlive&&!d&&n.jsxs(n.Fragment,{children:[e.cards.some(P=>P.cardId==="Meciar")&&n.jsx("img",{src:gn,className:"absolute -top-2 -right-2",style:{width:`${z}rem`,height:`${z}rem`}}),e.cards.some(P=>P.cardId==="Kovac")&&n.jsx("img",{src:hn,className:"absolute -top-2 -left-2",style:{width:`${z}rem`,height:`${z}rem`}})]}),!y&&e.status.isAlive&&n.jsxs(n.Fragment,{children:[e.status.isCantVote&&n.jsx("img",{src:yn,className:"absolute -bottom-2 -left-2",style:{width:`${z}rem`,height:`${z}rem`}}),e.status.isSilenced&&n.jsx("img",{src:bn,className:"absolute -bottom-2 left-1/2 -translate-x-1/2",style:{width:`${z}rem`,height:`${z}rem`}})]})]})},Va=[{beam:"rgba(197, 83, 61, 0.8)",highlight:"rgba(242, 200, 121, 0.95)",capFill:"rgba(36, 18, 14, 0.9)",capStroke:"rgba(242, 200, 121, 0.55)"},{beam:"rgba(123, 198, 140, 0.85)",highlight:"rgba(222, 255, 235, 0.95)",capFill:"rgba(9, 24, 19, 0.92)",capStroke:"rgba(137, 227, 179, 0.65)"},{beam:"rgba(124, 134, 182, 0.85)",highlight:"rgba(227, 233, 255, 0.95)",capFill:"rgba(18, 21, 34, 0.92)",capStroke:"rgba(139, 148, 190, 0.6)"}],ge=e=>`${e}%`,Fa=16,Ja=()=>{if(typeof window>"u")return Fa;const e=parseFloat(window.getComputedStyle(document.documentElement).fontSize);return Number.isFinite(e)?e:Fa},kn=({tunnels:e,positions:a,playerNodeScale:t,tableSizePx:r})=>{const o=M.useRef(null),s=`tunnel-glow-${M.useId()}`,[l,u]=M.useState(()=>Ja());M.useEffect(()=>{if(typeof window>"u")return;const I=()=>u(Ja());return window.addEventListener("resize",I),I(),()=>window.removeEventListener("resize",I)},[]),M.useEffect(()=>{if(typeof window>"u")return;const I=o.current;if(!I)return;let k,b=0;const z=()=>{b-=.4,I.style.setProperty("--tunnel-flow-offset",b.toString()),I.style.setProperty("--tunnel-highlight-offset",(b*1.4).toString()),k=window.requestAnimationFrame(z)};return k=window.requestAnimationFrame(z),()=>window.cancelAnimationFrame(k)},[]);const d=I=>a.find(k=>k.id===I),c=M.useMemo(()=>Math.min(ea,Math.max(Xe,t)),[t]),y=M.useMemo(()=>r?3*c*l/2/r*100:null,[c,l,r]),j=y??5,D=y??5,T=(I,k)=>{const b=k.x-I.x,z=k.y-I.y,v=Math.hypot(b,z)||1,S=Math.min(j,v/2),N=Math.min(D,v/2),$=I.x+b*S/v,R=I.y+z*S/v,L=k.x-b*N/v,V=k.y-z*N/v;return{startX:$,startY:R,endX:L,endY:V}};return n.jsxs("svg",{ref:o,className:"tunnel-layer absolute inset-0 w-full h-full pointer-events-none z-0",children:[n.jsx("defs",{children:n.jsxs("filter",{id:s,x:"-40%",y:"-40%",width:"180%",height:"180%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.1",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),e.map((I,k)=>{const b=d(I.sourceId),z=d(I.targetId);if(!b||!z)return null;const v=Va[k%Va.length],{startX:S,startY:N,endX:$,endY:R}=T(b,z),L=.85+k%4*.18,V={"--tunnel-speed":L.toFixed(2)},P={"--tunnel-highlight-speed":(L*1.35).toFixed(2)};return n.jsxs("g",{className:"tunnel-layer__tunnel",filter:`url(#${s})`,children:[n.jsx("line",{className:"tunnel-layer__beam",x1:ge(S),y1:ge(N),x2:ge($),y2:ge(R),stroke:v.beam,strokeWidth:3.2,style:V}),n.jsx("line",{className:"tunnel-layer__beam tunnel-layer__beam--highlight",x1:ge(S),y1:ge(N),x2:ge($),y2:ge(R),stroke:v.highlight,strokeWidth:1.8,style:P}),n.jsx("circle",{className:"tunnel-layer__cap",cx:ge(S),cy:ge(N),r:"1.5",fill:v.capFill,stroke:v.capStroke,strokeWidth:1.2}),n.jsx("circle",{className:"tunnel-layer__cap tunnel-layer__cap--target",cx:ge($),cy:ge(R),r:"1.8",fill:v.capFill,stroke:v.highlight,strokeWidth:1.4})]},I.id)})]})};function zn(e,a){const t=e.segments.find(r=>r.fromId)?.fromId??null;return e.sourceId??t??a}function wn(e){for(const a of e)if(a.sourceId)return a.sourceId;for(const a of e){const t=a.segments.find(r=>r.fromId)?.fromId??null;if(t)return t}return null}function xn(e,a){if(!e.length)return;const t=new Map;e.forEach(r=>{r.fromId&&t.set(r.toId,r.fromId)}),e.forEach(r=>{r.fromId||(r.fromId=t.get(r.toId)??a??null)})}function vn(e){const a=new Map;e.forEach(r=>{r.segments.length&&(a.has(r.shotId)||a.set(r.shotId,[]),a.get(r.shotId).push(r))});const t=[];return a.forEach((r,o)=>{const i=wn(r),s=[];r.forEach(l=>{let u=s;const d=zn(l,i),c=l.segments.length?l.segments.map(y=>({...y})):[];if(c.length){const y=d??i;!c[0].fromId&&y&&(c[0].fromId=y)}else{const y=d??i;y&&c.push({fromId:y,toId:y})}c.forEach(y=>{if(!y.toId)return;const j=y.fromId??d??null;let D=u.find(T=>T.fromId===j&&T.toId===y.toId);D||(D={fromId:j,toId:y.toId,children:[]},u.push(D)),u=D.children})}),s.length&&(xn(s,i),t.push({shotId:o,sourceId:i,roots:s}))}),t}const jn=({animations:e,positions:a,bulletSpeed:t})=>{const[r,o]=M.useState([]),i=M.useMemo(()=>{const l=new Map;return a.forEach(u=>{l.set(u.id,{x:u.x,y:u.y})}),l},[a]),s=M.useMemo(()=>vn(e),[e]);return M.useEffect(()=>{if(!s.length){o([]);return}let l=!1;const u=[],d=[],c=Math.max(200,t),y=Math.max(60,Math.round(c*.1)),j=N=>N?i.get(N):null,D=(N,$)=>{o(R=>R.find(V=>V.id===N)?R.map(V=>V.id===N?{...V,x:$.x,y:$.y,duration:c}:V):[...R,{id:N,x:$.x,y:$.y,duration:c}])},T=N=>{o($=>$.filter(R=>R.id!==N))},I=N=>new Promise($=>{const R=window.setTimeout($,N);u.push(R)}),k=(N,$,R)=>new Promise(L=>{D(N,$);const V=window.setTimeout(()=>{const P=window.requestAnimationFrame(()=>{const f=window.requestAnimationFrame(()=>{o(C=>C.map(x=>x.id===N?{...x,x:R.x,y:R.y,duration:c}:x));const w=window.setTimeout(()=>L(),c);u.push(w)});d.push(f)});d.push(P)},0);u.push(V)});let b=0;const z=async(N,$,R)=>{if(l)return;const L=j(N.toId);if(!L){T($);return}const V=j(N.fromId??R)??L;if(await k($,V,L),l)return;if(!N.children.length){await I(y),T($);return}await I(y);const[P,...f]=N.children,w=N.toId,C=[z(P,$,w)];f.forEach(x=>{const G=`${$}-branch-${b++}`;D(G,L),C.push(z(x,G,w))}),await Promise.all(C)},v=async N=>{const $=N.roots.map((R,L)=>{const V=R.fromId??N.sourceId,P=j(V),f=j(R.toId),w=P??f;if(!w)return Promise.resolve();const C=`${N.shotId}-root-${L}`;return D(C,w),z(R,C,V??R.toId??null)});await Promise.all($),await I(y*2)};return(async()=>{for(const N of s){if(l)break;await v(N)}o([])})(),()=>{l=!0,u.forEach(clearTimeout),d.forEach(cancelAnimationFrame),o([])}},[s,t,i]),s.length?n.jsx("div",{className:"absolute inset-0 pointer-events-none z-20",children:r.map(l=>n.jsx("div",{className:"absolute mafia-bullet",style:{left:`${l.x}%`,top:`${l.y}%`,transition:`left ${l.duration}ms linear, top ${l.duration}ms linear`}},l.id))}):null},Ee=e=>{if(!e)return 0;const a=parseFloat(e);return Number.isFinite(a)?a:0},Za=e=>{if(!e||typeof window>"u")return 0;const a=window.getComputedStyle(e);return Ee(a.paddingTop)+Ee(a.paddingBottom)+Ee(a.borderTopWidth)+Ee(a.borderBottomWidth)},Mn=({players:e,phase:a,selectedId:t,onSelect:r,tunnels:o,disabledPlayerIds:i,playerNodeScale:s,onTableSizeChange:l,highlightedPlayerIds:u,communistSuppressionActive:d=!1,bulletAnimations:c,bulletSpeed:y,bulletReplayNonce:j,matrixTrapPlayerId:D=null})=>{const T=M.useRef(null),[I,k]=M.useState(0),b=M.useRef(null);M.useLayoutEffect(()=>{const f=T.current;if(!f)return;const w=()=>{const x=f.getBoundingClientRect(),G=Math.min(x.width,x.height),O=Za(f.parentElement),B=x.height+O;b.current!==B&&(b.current=B,l?.(B)),k(F=>F===G?F:G)};if(w(),typeof ResizeObserver>"u")return typeof window<"u"?(window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)):void 0;const C=new ResizeObserver(x=>{const G=x[0];if(!G)return;const{width:O,height:B}=G.contentRect,F=Math.min(O,B),q=Za(f.parentElement),oe=B+q;b.current!==oe&&(b.current=oe,l?.(oe)),k(de=>de===F?de:F)});return C.observe(f),()=>C.disconnect()},[l]);const z=M.useMemo(()=>{const G=(()=>{if(!I)return 0;const F=280,q=560,oe=Math.max(F,Math.min(q,I));return(q-oe)/(q-F)*3})(),O=Math.max(0,s-1)*1.5,B=38-G-O+1.25;return Math.min(41,Math.max(33,B))},[I,s]),v=M.useMemo(()=>{if(!I||e.length<2)return s;const f=typeof window<"u"&&Ee(window.getComputedStyle(document.documentElement).fontSize)||16,w=z/100*I,G=2*Math.PI*w/e.length*.9,O=s*4*f;if(!Number.isFinite(G)||G<=0||O<=0)return s;const B=G/(4*f);return Math.min(s,B)},[z,e.length,s,I]),S=M.useMemo(()=>{if(!I)return 1;const f=260,w=560;return I>=w?1:1-(w-I)/(w-f)*(1-.78)},[I]),N=M.useMemo(()=>e.map((f,w)=>{const C=w/e.length*2*Math.PI-Math.PI/2;return{...f,x:50+z*Math.cos(C),y:50+z*Math.sin(C)}}),[e,z]),$=a==="DAY_ANNOUNCEMENT"||a==="DAY_MAIN",R=a==="NIGHT_REPLAY"&&!!c?.length,L=R?c??[]:[],V=y??500,P=j??0;return n.jsx("div",{ref:T,className:"relative w-full h-full flex items-center justify-center",children:n.jsxs("div",{className:"relative max-w-full max-h-full aspect-square mafia-table rounded-full",style:I?{width:I,height:I}:{width:"min(80vw, 520px)",height:"min(80vw, 520px)"},children:[!$&&n.jsx(kn,{tunnels:o,positions:N,playerNodeScale:v,tableSizePx:I}),R&&n.jsx(jn,{animations:L,positions:N,bulletSpeed:V},P),N.map(f=>n.jsx(fn,{player:f,x:f.x,y:f.y,phase:a,isActive:t===f.id,onClick:r,disabled:i?.has(f.id)??!1,size:v,isHighlighted:!!u?.has(f.id),communistSuppressionActive:d,showMatrixIcon:D===f.id},f.id)),n.jsx("div",{className:"mafia-table__center-badge absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-2xl",style:{fontSize:`${1.5*S}rem`},children:"MAFIAÂ²"})]})})},Sn=sr,Cn={CloudWalker:ir,Immunity:nr,RopeWalker:or,KevlarVest:rr,Matrix:tr,Jailer:ar,Gravedigger:er,Mage:Xt,Slime:Qt,Leech:qt,Sand:Yt,Cobra:Zt,Magnet:Jt,GhostBobo:Ft,Doctor:Vt,SwampMonster:Ut,Mafia:Ht,MadGunman:Wt,Sniper:Ot,Sock:Bt,Judge:Kt,BlindExecutioner:Gt,Spyglass:Rt,Mirror:Dt,Terrorist:Lt,Astronomer:Et,Meciar:Tt,Kovac:Pt,AlCapone:$t,Gandalf:rt,HorsePiece:It,Atheist:Nt,Anarchist:At,Glazier:Ct,MassMurderer:St,Communist:Mt,TimeLord:jt};function Ye(e){return Cn[e]??Sn}const An="inline-flex items-center gap-1 leading-tight rounded-full border",Nn={default:"px-2 py-0.5 text-[var(--color-brass)] border-[rgba(242,200,121,0.25)] bg-[rgba(242,200,121,0.08)]",gmActive:"px-2 py-0.2 text-slate-50 border-[rgba(242,200,121,0.28)] bg-[rgba(242,200,121,0.12)] shadow-[0_4px_15px_rgba(0,0,0,0.25)]",gmInactive:"px-2 py-0.5 text-[rgba(255,255,255,0.4)] border-[rgba(197,83,61,0.35)] bg-[rgba(197,83,61,0.18)]",logSegment:"pl-1 pr-2 py-0.5 border-[rgba(242,200,121,0.25)] bg-[rgba(242,200,121,0.06)] text-[0.85rem] font-medium relative top-[1.5px]",inline:"px-2 py-0.5 border-[rgba(242,200,121,0.2)] bg-[rgba(242,200,121,0.04)] text-current"},In={xs:"h-5 w-5",sm:"h-6 w-6",md:"h-7 w-7"},$n={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5"},He=({cardId:e,label:a,size:t="sm",variant:r="default",className:o="",labelClassName:i="",inlineAlign:s})=>{const l=Ye(e),u=In[t],d=$n[t],c=`${u} inline-flex self-center shrink-0 items-center justify-center rounded-full border border-[rgba(242,200,121,0.35)] bg-[rgba(15,12,20,0.65)] text-[var(--color-brass)]`,D=`${An} ${(s??(r==="logSegment"?"baseline":"middle"))==="baseline"?"align-baseline":"align-middle"} ${Nn[r]} ${o}`.trim();return n.jsxs("span",{className:D,title:a,children:[l?n.jsx("span",{className:c,"aria-hidden":!0,children:Pe.createElement(l,{className:d,weight:"duotone"})}):n.jsx("span",{className:`${c} text-[0.65rem]`,"aria-hidden":!0,children:"?"}),n.jsx("span",{className:i,children:a})]})},Pn=({state:e,dispatch:a,fullHeight:t=!1})=>{const r=e.settings.language,o=M.useMemo(()=>ct(e.players,r),[e.players,r]),i=e.phase==="NIGHT_ANNOUNCEMENT"&&e.currentRound===1&&!e.firstNightBriefingDone,s=e.uiState.pendingDayReport,l=!!s?.length,u=e.phase==="DAY_ANNOUNCEMENT"||e.phase==="GAME_OVER"||l,d=e.phase==="DAY_ANNOUNCEMENT",c=e.phase==="DAY_MAIN",y=d||c,j=e.phase==="NIGHT_REPLAY"&&!!e.nightCache.bulletAnimations?.length,D=M.useMemo(()=>e.players.filter(A=>A.status.isAlive),[e.players]),T=M.useMemo(()=>{const A=h("ui_special_no_owner",r),H=(Z,be)=>{const se=Z.cards.findIndex(he=>he.cardId===be);return(se>=0?o[Z.id]?.[se]:void 0)||ce(be,r)},U=(Z,be)=>{const se=D.filter(ye=>ye.cards.some(ta=>ta.cardId===Z)).map(ye=>({player:ye,label:H(ye,Z)})),he=se.filter(ye=>be(ye.player)),Se=he.length?he:se,va=Se.length?Se.map(ye=>`${ye.label} (${ye.player.name})`).join(", "):A;return{ready:he.length>0,text:va}};return{anarchist:U("Anarchist",Z=>!Z.status.anarchistShotUsed),terrorist:U("Terrorist",Z=>!Z.status.terroristBombUsed),astronomer:U("Astronomer",Z=>!Z.status.astronomerNightUsed),communist:U("Communist",Z=>!Z.status.communistEqualityUsed)}},[D,o,r]),I=M.useMemo(()=>e.players.some(A=>A.status.isAlive&&!A.status.timeLordSkipUsed&&A.cards.some(H=>H.cardId==="TimeLord")),[e.players]),k=M.useMemo(()=>{const A=ce("TimeLord",r),H=e.players.find(se=>se.status.isAlive&&!se.status.timeLordSkipUsed&&se.cards.some(he=>he.cardId==="TimeLord"));if(!H)return A;const U=H.cards.findIndex(se=>se.cardId==="TimeLord");if(U<0)return A;const Z=H.cards[U].instance,be=Z!=null?`${A} ${Z}`:A;return o[H.id]?.[U]??be},[e.players,o,r]),b=T.anarchist.ready,z=T.terrorist.ready,v=T.astronomer.ready,S=T.communist.ready,N=I&&e.phase==="NIGHT_ANNOUNCEMENT"&&!i,$=I&&d,R=!!e.uiState.dayAction||l,L=e.uiState.dayAction?.kind==="HANG",V=!v||l||!!e.uiState.dayAction&&!L,P=e.activeCard?.cardId==="Spyglass",f="mafia-button font-bold text-center w-full h-full flex items-center justify-center tracking-[0.2em] uppercase shadow-[0_12px_25px_rgba(0,0,0,0.55)] rounded-xl overflow-hidden min-h-[3rem] sm:min-h-[3.5rem] px-4 py-3",w=`${f} mafia-button--chronos-day`,C=`${f} mafia-button--chronos-night`,x="mafia-button mafia-button--ember font-bold tracking-[0.2em] uppercase",G="flex-1 mafia-button rounded-xl font-bold tracking-[0.2em] uppercase shadow-[0_12px_20px_rgba(0,0,0,0.45)] w-full min-h-[3.25rem] sm:min-h-[4rem] px-4 py-3",O=e.activeCard?(()=>{for(const A of e.players){const H=A.cards.findIndex(U=>U.cardId===e.activeCard.cardId&&U.instance===e.activeCard.instance);if(H>=0)return{label:o[A.id]?.[H]??`${ce(A.cards[H].cardId,r)} ${A.cards[H].instance}`,playerName:A.name,playerId:A.id}}return null})():null,B=O?e.players.some(A=>A.id===O.playerId&&A.status.isJailed):!1,F=e.uiState.pendingPrompts[0],q=O?.label||(e.activeCard?h(`role_${e.activeCard.cardId}`,r):void 0),oe=q?{role:q}:void 0,de=F&&e.activeCard?oe:void 0,X=e.activeCard?.mode==="MATRIX_SHOT"?(()=>{const A=e.nightCache.matrixStoredBullets,H=e.nightCache.reportData?.matrixBulletsCaught??0,U=Math.max(1,Math.max(A,H));return{current:Math.min(U,Math.max(1,U-A+1)),total:U}})():void 0,_e=e.phase==="NIGHT_REPLAY"?h("ui_bullet_replay",r):h(c?"day_idle_message":"start_night_intro",r),K=i?`${_e}
${h("first_night_message",r)}`:e.activeCard?P?h("wake_up_spyglass",r):e.activeCard.mode==="MATRIX_SHOT"?h("wake_matrix_shot",r,X??{current:1,total:1}):F?h(F,r,de):h("wake_up",r,oe):F?h(F,r):_e,W=M.useMemo(()=>{if(!P)return null;const A=O?.playerId??null,U=(e.nightCache.spyglassRevealIds??[]).filter(Z=>Z!==A).map(Z=>e.players.find(be=>be.id===Z)?.name).filter(Z=>!!Z);return U.length?h("spyglass_reveal_intro",r,{names:U.join(", ")}):h("spyglass_reveal_none",r)},[P,e.nightCache.spyglassRevealIds,O?.playerId,e.players,r]),Y=l?s||[]:e.phase==="DAY_ANNOUNCEMENT"||e.phase==="GAME_OVER"?e.publicReport:[],ie=A=>(A.fragments?.length?A.fragments:[A]).flatMap(U=>Qe(U.key,U.params,e.players,r)),le=(A,H)=>A.map((U,Z)=>U.kind==="cardLabel"?n.jsx(He,{cardId:U.cardId,label:U.label,size:"xs",variant:"logSegment",className:"mx-0.5"},`${H}-card-${Z}`):n.jsx(Pe.Fragment,{children:U.text},`${H}-text-${Z}`));let ee=null;if(e.phase==="GAME_OVER")ee=null;else if(e.uiState.waitingFor==="USE_DECISION")ee=n.jsxs("div",{className:"flex gap-2 h-full",children:[n.jsx("button",{onClick:()=>a({type:"GM_USE_DECISION",payload:!0}),className:`${G} mafia-button--jade`,children:h("ui_confirm",r)}),!P&&n.jsx("button",{onClick:()=>a({type:"GM_USE_DECISION",payload:!1}),className:`${G} mafia-button--crimson`,children:h("ui_deny",r)})]});else if(i)ee=n.jsx("button",{onClick:()=>a({type:"NEXT_PHASE"}),className:`${x} w-full p-3 rounded-xl`,children:h("ui_first_night_done",r)});else if(d){const A=n.jsx("button",{onClick:()=>a({type:"NEXT_PHASE"}),className:`${x} p-3 rounded-xl`,children:h("start_day",r)});$?ee=n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[A,n.jsx("button",{onClick:()=>a({type:"TRIGGER_TIMELORD_SKIP",payload:{targetPhase:"DAY"}}),className:w,children:h("ui_timelord_skip_day",r,{cardLabel:k})})]}):ee=A}else if(c)if(l)ee=n.jsx("button",{onClick:()=>a({type:"CONFIRM_DAY_REPORT"}),className:`${x} p-3 rounded-xl`,children:h("day_report_confirm",r)});else if(e.uiState.dayAction?.kind==="MASS_MURDERER_RETALIATION"){const A=e.uiState.dayAction.massMurderer?.ownerId,H=A?e.players.find(Z=>Z.id===A):null,U=e.uiState.dayAction.massMurderer?.selectedIds.length??0;ee=n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"bg-[rgba(4,4,8,0.85)] border border-[rgba(242,200,121,0.25)] p-3 rounded-2xl text-center text-sm shadow-inner",children:[n.jsx("div",{className:"font-semibold",children:h(e.uiState.dayAction.promptKey,r)}),H&&n.jsx("div",{className:"text-xs text-slate-200 mt-1",children:h("ui_mass_murderer_target",r,{name:H.name})}),n.jsx("div",{className:"text-xs text-slate-200 mt-1",children:h("ui_mass_murderer_selected",r,{count:U})})]}),n.jsx("button",{onClick:()=>a({type:"CONFIRM_MASS_MURDERER"}),className:"w-full p-3 rounded-xl font-bold bg-[#c1121f] uppercase tracking-[0.2em] shadow-[0_15px_30px_rgba(0,0,0,0.55)]",children:h("ui_mass_murderer_confirm",r)})]})}else{const A="w-full h-full p-3 rounded-xl font-semibold tracking-[0.2em] uppercase disabled:opacity-40 disabled:cursor-not-allowed flex flex-col items-center justify-center text-center break-words hyphens-auto gap-1 text-xs shadow-[0_12px_25px_rgba(0,0,0,0.35)] overflow-hidden";ee=n.jsxs("div",{className:"grid grid-cols-3 grid-rows-2 gap-2 auto-rows-fr",children:[n.jsx("button",{onClick:()=>a({type:"NEXT_PHASE"}),disabled:R,className:`${x} ${A}`,children:h("ui_start_night",r)}),n.jsxs("button",{onClick:()=>a({type:"TRIGGER_BOMB"}),disabled:R||!z,className:`${A} mafia-button mafia-button--bomb`,children:[n.jsx("span",{children:h("ui_bomb",r)}),n.jsx("span",{className:"text-[0.55rem] text-white/80 leading-tight normal-case tracking-normal",children:T.terrorist.text})]}),n.jsxs("button",{onClick:()=>a({type:"TRIGGER_ANARCHIST"}),disabled:R||!b,className:`${A} mafia-button mafia-button--anarchist`,children:[n.jsx("span",{children:h("ui_anarchist_baby",r)}),n.jsx("span",{className:"text-[0.55rem] text-slate-100 leading-tight normal-case tracking-normal",children:T.anarchist.text})]}),n.jsx("button",{onClick:()=>a({type:"TRIGGER_VOTE"}),disabled:R,className:`${A} mafia-button mafia-button--vote`,children:h("day_action_vote",r)}),n.jsxs("button",{onClick:()=>a({type:"TRIGGER_ASTRONOMER"}),disabled:V,className:`${A} mafia-button mafia-button--astronomer`,children:[n.jsx("span",{children:h("ui_astronomer_night",r)}),n.jsx("span",{className:"text-[0.55rem] text-slate-100 leading-tight normal-case tracking-normal",children:T.astronomer.text})]}),n.jsxs("button",{onClick:()=>a({type:"TRIGGER_COMMUNIST"}),disabled:!S||R,className:`${A} mafia-button mafia-button--communist`,children:[n.jsx("span",{children:h("ui_communist_equal",r)}),n.jsx("span",{className:"text-[0.55rem] text-slate-100 leading-tight normal-case tracking-normal",children:T.communist.text})]})]})}else if(e.phase!=="NIGHT_ACTIVE"){const A=n.jsxs("button",{onClick:()=>a({type:"NEXT_PHASE"}),className:"bg-[#1f1e27] border border-[rgba(242,200,121,0.2)] rounded-xl font-bold tracking-[0.2em] uppercase self-start flex items-center justify-center leading-tight w-full h-full min-h-[2.75rem] sm:min-h-[3rem] px-3 py-2 text-xs sm:text-sm",children:[h("ui_next_phase",r)," â†’"]});j?ee=n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("button",{onClick:()=>a({type:"REPLAY_BULLETS"}),className:"mafia-button mafia-button--bullet-replay p-3 rounded-xl font-bold tracking-[0.2em] uppercase overflow-hidden",children:h("ui_replay_bullets",r)}),A]}):N?ee=n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 items-start",children:[A,n.jsx("button",{onClick:()=>a({type:"TRIGGER_TIMELORD_SKIP",payload:{targetPhase:"NIGHT"}}),className:`${C} h-full min-h-[2.75rem] sm:min-h-[3rem] px-3 py-2 self-start leading-tight text-xs sm:text-sm`,children:h("ui_timelord_skip_night",r,{cardLabel:k})})]}):ee=A}const J="mafia-panel text-white p-4 shadow-2xl flex flex-col md:flex-row gap-4 border border-[rgba(242,200,121,0.12)] backdrop-blur",Q=t?`${J} flex-1 min-h-0 h-full overflow-y-auto md:justify-end md:items-end pb-[calc(4rem+var(--safe-area-bottom))] md:pb-4`:`${J} flex-shrink-0`,ue=`flex flex-col w-full md:flex-1 ${!u&&y?"hidden sm:flex":""}`,pe=`bg-[rgba(4,4,8,0.92)] p-4 rounded-2xl text-lg border-l-4 border-[var(--color-bullet)] shadow-inner flex flex-col ${t?"overflow-visible":"overflow-y-auto md:flex-1"}`,E=t?"min-h-0":"flex-1 min-h-0 [&>*]:h-full";return n.jsxs("div",{className:Q,children:[n.jsx("div",{className:ue,children:n.jsx("div",{className:pe,children:u?n.jsxs("div",{className:"space-y-2 flex-1",children:[!l&&Y.length===0&&n.jsx("div",{className:"font-bold",children:h("public_report_default",r)}),Y.map((A,H)=>{const U=ie(A);return n.jsx("div",{className:"text-base",children:le(U,`control-report-${H}`)},`${A.key}-${H}`)})]}):e.activeCard?n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("div",{className:`font-bold flex-1 ${P?"":"min-h-[3.5rem]"} ${B?"text-red-400":""}`,children:K}),O?.playerName&&(B?n.jsx("div",{className:"text-sm text-red-300 mt-1",children:h("ui_player_jailed_notice",r,{name:O.playerName})}):n.jsx("div",{className:"text-sm text-slate-200 mt-1",children:h("ui_player_label",r,{name:O.playerName})})),P&&W&&n.jsx("div",{className:"text-sm text-slate-200 mt-1",children:W})]}):n.jsx("div",{className:"flex flex-col flex-1",children:n.jsx("div",{className:"min-h-[3.5rem] flex-1",children:K})})})}),n.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-[30rem] min-h-[5.75rem] sm:min-h-[7.0rem] flex-shrink-0",children:[n.jsx("div",{className:E,children:ee}),n.jsx("div",{className:"flex gap-1 mt-auto pt-1",children:n.jsx("button",{onClick:()=>a({type:"UNDO"}),className:"flex-1 bg-[#2f2c3b] text-xs py-2 rounded-xl tracking-[0.3em] uppercase text-slate-100",children:h("ui_undo",r)})})]})]})},Tn={NIGHT_START:"border-[rgba(242,200,121,0.45)] text-[var(--color-brass)] bg-[rgba(242,200,121,0.08)]",NIGHT_END:"border-[rgba(242,200,121,0.2)] text-[rgba(242,200,121,0.75)] bg-[rgba(242,200,121,0.04)]",DAY_START:"border-[rgba(197,83,61,0.45)] text-[rgba(255,202,170,0.9)] bg-[rgba(197,83,61,0.08)]",DAY_END:"border-[rgba(197,83,61,0.18)] text-[rgba(255,202,170,0.75)] bg-[rgba(197,83,61,0.04)]"},Ya={log_divider_night_start:"NIGHT_START",log_divider_night_end:"NIGHT_END",log_divider_day_start:"DAY_START",log_divider_day_end:"DAY_END"},En={NIGHT_START:"log_divider_night_start",NIGHT_END:"log_divider_night_end",DAY_START:"log_divider_day_start",DAY_END:"log_divider_day_end"},Ln=["NIGHT_ANNOUNCEMENT","NIGHT_ACTIVE","NIGHT_REPLAY"],Dn=["DAY_ANNOUNCEMENT","DAY_MAIN"],Rn=e=>Ln.includes(e)?"NIGHT":Dn.includes(e)?"DAY":"OTHER",Ce=(e,a,t,r)=>({kind:"divider",variant:e,text:h(En[e],a,t!=null?{round:t}:void 0),key:r}),kt=({logs:e,players:a,language:t,className:r,title:o="",emptyMessage:i=""})=>{const s=e.slice(),l="h-full flex flex-col rounded-2xl bg-[rgba(14,12,18,0.85)] border border-[rgba(242,200,121,0.18)] shadow-[inset_0_0_30px_rgba(0,0,0,0.45)]",u=r?`${l} ${r}`:l,d=M.useRef(null),c=k=>k==="NIGHT_START"||k==="DAY_START",y=s.some(k=>{const b=k.translationKey?Ya[k.translationKey]:void 0;return b?c(b):!1}),j=(k,b,z)=>n.jsxs("div",{className:"text-[0.58rem] uppercase tracking-[0.45em] text-[rgba(242,200,121,0.65)] flex items-center gap-2",children:[n.jsx("span",{className:"h-px flex-1 bg-[rgba(242,200,121,0.2)]","aria-hidden":"true"}),n.jsx("span",{className:`px-3 py-1 rounded-full border ${Tn[b]}`,children:z}),n.jsx("span",{className:"h-px flex-1 bg-[rgba(242,200,121,0.2)]","aria-hidden":"true"})]},k),D=k=>{const b=Nr(k,a,t),z=k.type==="DEATH"?"text-[rgba(197,83,61,0.9)]":"text-slate-100";return n.jsx("div",{className:z,children:b.length?b.map((v,S)=>v.kind==="cardLabel"?n.jsx(He,{cardId:v.cardId,label:v.label,size:"xs",variant:"logSegment",className:"mx-0.5"},`${k.id}-segment-${S}`):n.jsx(Pe.Fragment,{children:v.text},`${k.id}-segment-${S}`)):Aa(k,a,t)},k.id)},T=[];if(!y){let k=null,b=null;s.forEach(z=>{const v=Rn(z.phase);v!==k&&(k==="NIGHT"&&b!=null?T.push(Ce("NIGHT_END",t,b,`${z.id}-night-end`)):k==="DAY"&&b!=null&&T.push(Ce("DAY_END",t,b,`${z.id}-day-end`)),v==="NIGHT"?(T.push(Ce("NIGHT_START",t,z.round,`${z.id}-night-start`)),b=z.round):v==="DAY"?(T.push(Ce("DAY_START",t,z.round,`${z.id}-day-start`)),b=z.round):b=null,k=v),T.push({kind:"log",entry:z})}),k==="NIGHT"&&b!=null?T.push(Ce("NIGHT_END",t,b,`fallback-night-end-${b}`)):k==="DAY"&&b!=null&&T.push(Ce("DAY_END",t,b,`fallback-day-end-${b}`))}const I=y?s.map(k=>{const b=k.translationKey?Ya[k.translationKey]:void 0;return b?j(k.id,b,Aa(k,a,t)):D(k)}):T.map(k=>k.kind==="divider"?j(k.key,k.variant,k.text):D(k.entry));return M.useEffect(()=>{const k=d.current;k&&(k.scrollTop=k.scrollHeight)},[s.length]),n.jsxs("div",{className:u,children:[n.jsx("div",{className:"px-4 py-3 border-b border-[rgba(242,200,121,0.15)] text-[0.65rem] font-semibold uppercase tracking-[0.4em] text-[var(--color-brass)]/85",children:o}),n.jsxs("div",{ref:d,className:"flex-1 overflow-y-auto p-4 space-y-3 text-sm text-slate-100/90",children:[s.length===0&&n.jsx("div",{className:"text-[rgba(242,200,121,0.55)]",children:i}),I]})]})},qa=({activeTab:e,setTab:a,isGm:t,language:r})=>{const o=y=>`flex-1 flex flex-col items-center justify-center gap-1 py-2 px-1 transition-colors ${e===y?"text-[var(--color-brass)]":"text-slate-400 hover:text-white/90"}`,i="calc(4rem + var(--safe-area-bottom, env(safe-area-inset-bottom, 0px)))",s="tracking-[0.18em] uppercase",l=`text-[0.6rem] ${s}`,u=`text-[0.55rem] ${s}`,d="transition-transform duration-200 drop-shadow-[0_3px_8px_rgba(0,0,0,0.45)]",c=y=>({size:22,weight:e===y?"fill":"regular",className:d});return n.jsx("div",{className:"mafia-nav fixed inset-x-0 bottom-0 w-full flex z-50 text-white",style:{height:i,paddingBottom:"var(--safe-area-bottom, env(safe-area-inset-bottom, 0px))"},children:t?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>a("GAME"),className:o("GAME"),"data-active":e==="GAME",children:[n.jsx(lr,{...c("GAME"),"aria-hidden":!0}),n.jsx("span",{className:l,children:h("nav_game",r)})]}),n.jsxs("button",{onClick:()=>a("PLAYERS"),className:o("PLAYERS"),"data-active":e==="PLAYERS",children:[n.jsx(cr,{...c("PLAYERS"),"aria-hidden":!0}),n.jsx("span",{className:l,children:h("nav_players",r)})]}),n.jsxs("button",{onClick:()=>a("LOGS"),className:o("LOGS"),"data-active":e==="LOGS",children:[n.jsx(rt,{...c("LOGS"),"aria-hidden":!0}),n.jsx("span",{className:l,children:h("nav_logs",r)})]}),n.jsxs("button",{onClick:()=>a("RULES"),className:o("RULES"),"data-active":e==="RULES",children:[n.jsx(Ma,{...c("RULES"),"aria-hidden":!0}),n.jsx("span",{className:l,children:h("nav_rules",r)})]}),n.jsxs("button",{onClick:()=>a("CARDS"),className:o("CARDS"),"data-active":e==="CARDS",children:[n.jsx(Sa,{...c("CARDS"),"aria-hidden":!0}),n.jsx("span",{className:l,children:h("nav_cards",r)})]}),n.jsxs("button",{onClick:()=>a("SETTINGS"),className:o("SETTINGS"),"data-active":e==="SETTINGS",children:[n.jsx(Ca,{...c("SETTINGS"),"aria-hidden":!0}),n.jsx("span",{className:l,children:h("nav_settings",r)})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>a("GAME"),className:o("GAME"),"data-active":e==="GAME",children:[n.jsx(dr,{...c("GAME"),"aria-hidden":!0}),n.jsx("span",{className:u,children:h("nav_my_cards",r)})]}),n.jsxs("button",{onClick:()=>a("CARDS"),className:o("CARDS"),"data-active":e==="CARDS",children:[n.jsx(Sa,{...c("CARDS"),"aria-hidden":!0}),n.jsx("span",{className:u,children:h("nav_all_cards",r)})]}),n.jsxs("button",{onClick:()=>a("RULES"),className:o("RULES"),"data-active":e==="RULES",children:[n.jsx(Ma,{...c("RULES"),"aria-hidden":!0}),n.jsx("span",{className:u,children:h("nav_rules",r)})]}),n.jsxs("button",{onClick:()=>a("SETTINGS"),className:o("SETTINGS"),"data-active":e==="SETTINGS",children:[n.jsx(Ca,{...c("SETTINGS"),"aria-hidden":!0}),n.jsx("span",{className:u,children:h("nav_settings",r)})]})]})})},Gn="/mafia2/assets/alcapone-CY9h9jow.jfif",Kn="/mafia2/assets/anarchist-BjlC44X8.jfif",Bn="/mafia2/assets/astronomer-BrMJTGrq.gif",On="/mafia2/assets/atheist-B1pLtywD.jfif",Wn="/mafia2/assets/blindexecutioner-869lL91T.png",Hn="/mafia2/assets/cloudwalker1-lFaUTZPr.jfif",Un="/mafia2/assets/cloudwalker2-BX-hlG2f.jfif",Vn="/mafia2/assets/cloudwalker3-Dk7ulseU.jfif",Fn="/mafia2/assets/cloudwalker4-D1bOGBE1.jfif",Jn="/mafia2/assets/cloudwalker5-BpFCUra3.jfif",Zn="/mafia2/assets/cloudwalker6-C_tz72mb.jfif",Yn="/mafia2/assets/cloudwalker7-BDPeV42w.jfif",qn="/mafia2/assets/cloudwalker1-lFaUTZPr.jfif",Qn="/mafia2/assets/cloudwalker2-BX-hlG2f.jfif",Xn="/mafia2/assets/cobra-D2CbZW9G.jfif",ei="/mafia2/assets/communist-CZechumg.jpg",ai="/mafia2/assets/doctor-BAoW0T1S.jfif",ti="/mafia2/assets/gandalf-CP21fVub.jfif",ri="/mafia2/assets/ghostbobo-DAjYs_sK.jfif",oi="/mafia2/assets/glazier-B7ZVY_Y_.jfif",ni="/mafia2/assets/gravedigger-CxlzBvIV.jfif",ii="/mafia2/assets/horsepiece-BoU0Xkil.jfif",si="/mafia2/assets/immunity1-B2NVHtPq.jfif",li="/mafia2/assets/immunity2-B_8EOuzJ.jfif",ci="/mafia2/assets/jailer-B5CuRPNj.jfif",di="/mafia2/assets/judge-C7QuGQ9B.jfif",ui="/mafia2/assets/kevlarvest1-CIrAoLIP.jfif",pi="/mafia2/assets/kevlarvest2-CcKXzK0l.jfif",mi="/mafia2/assets/kovac-rJ58tGnM.jfif",_i="/mafia2/assets/leech-dwRWTeEP.jpg",gi="/mafia2/assets/madgunman1-D4IKytZ6.jpg",hi="/mafia2/assets/madgunman2-Ev7sJbg9.jfif",yi="/mafia2/assets/mafia1-BA9yO9IU.jfif",bi="/mafia2/assets/mafia2-zL23fbdO.jfif",fi="/mafia2/assets/mafia3-If7lxEyY.jfif",ki="/mafia2/assets/mage1-BDRlirHk.gif",zi="/mafia2/assets/mage2-3wSSgKR0.gif",wi="data:application/octet-stream;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCACWAJYDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiqWpajbaVYy3l3JsijHPcsewA7kngCgC2WVVLEgKBkkngCubv/ABxotnIIYpzeTHICW2G5+pIHb1rzTXvGVz4klYGWSGwDYWBOAcc/Mc/Mf0FZDXK3EIuZL9I40DMFEO08d9wNAHoN58TpIZAi6WkI7tPcAbR6kAf1qu/xQvNy+TZ2EqkfeWdsA5+leSXvi7R4FKi9klkJyfLj34P1JA/WoG+IOmzhBNFdErnlIEXk98BqAPa7H4oxsAl9ZwRyekdzkn6Aj+tdFpnjfRNTKILn7PK3Cx3GFJPsckH868FTxbouqSQoL8RvnpLAIsE++cH861xPa2kggMvnpMvIVNpPYYJ6UAfQwIIyDxS14z4d8Z3OhzpFiafTm48h2DMnqVYnj/d6fTrXrllewahZxXdrIJIZV3Kw7j+lAFqiiigAooooAKKKKACiiigAooooAK8i+I2tXN74gTS4Y99tbbdx7GRhyfwBA/E167Xg+t3ki+KNWEU7IzXcgbIIHDEDkjFAGbqNxdWwV76KNYEDMz8AKB1zj8K8y8SeLL3X38ot5VmhOyJQF3e7Y6n26Ctzxtdvb6XFbCfzGuZCWIP8K4OPxJH5VwNABRRRQIK6Pw54nl0uRbe6JlsycYbkxe6+3qK5yigD2mJ3aSORQrwsnyqq/e46hvxzXffDjXjHq0ujSZWKdDLCuD8rgcjPuBn8K8f8FXbXWk+W85zbsYlQtj5SMjt2yR+FeheDmKeLtNZZD80m08nn5W46UDPcKKB0ooAKKKKACiiigAooooAKKKKACvCfEE0kniO+jmdvKW8kAyFIUbiOMj0r3avAfEMMb+I9S3hWAvJCQykjO40Aec/ESGGK50/yVYKyvksoUk5X0riq7X4hTrcTaeVgWHasgIVSueV9a4qgQUUUUAFFFFAHceAEd4dQeOIO6sm0kcLkN3wcV6j4OmnfxVpaOCMS/MoxgYVvb6V5h8P2It9SAcgEpkAE5GGr0nwYkf8Awl2mTBGUtLtLMhUsdrUDPdh0ooHSigAooooAKKKKACiiigAooooAK8A8Tui+JtQ27FjN24cyPgltzZxXv9eEa+YW1vVlYyeb9slCsWG1TuOMjNAHmHj/AB52n4AHyydGz3WuMrsvH28SaeJJA7bZOQMd19zXG0CCiiigAooooA7j4esNt9GApdmQKC2D0bOK9R8Isx8W6WjKQFl5BfODtbtXl/w/YJDqD7ymCh3AdBhsnrXpfg+cTeMNLWO4LMJQzA85G1vf3FAz3UdKKB0ooAKKKKACiiigAooooAKKKKACvBtZtp5/FWpGONWjW8feuMEjce+a95ry7U/A2sXeqX8yQQFZ55HRzckEKzEjjHvQB4n4/iSa6sTHEYwqOCuS3ORzmuOFoxOACTXr3iP4fagtzbxtcWa7NwlPnFymcYyMdfbrUVr4N0y2+/5tw3csdoP4D/Gp5k3ZDseWpp2OX6+lP+xL6LXsUWjafCAI7G3X/gAJ/WrZ062+xo/2aDJkYf6tc/dX2qhHhz6ceqc+1Qm0YHBBzXtcuiadMMSWNufcIFP6VmXXgrTrnPlvLbMRww+dQfcHnH40m7K4HN+A1eCO/KorElfvDP8AC1ek+DMy+K9OlkiWKQS4Kgcn5TzkcVk+EfAmsRSXCQXFkXcjYBPgsoBywBXnr9R3rttA8C6zYeJrPUroQbYn3OROST8pHAxjuKFJSV0DVj1EdKKKKYBRRRQAUUUUAFFFFABRRWHqfiGG0Lw222edfvc4SP8A3j/Qc1M5xguaTshpN7GpdXcFnA01xKsaL1LH9B6n2rjda8VzSgxWu6FDxwcSN9T/AAj2+99KyL/Up7ybzHlMkg4DkYC+yr/CPfrWdsrJOdT+7H8X/l+foPSPmQyl5Wyx6dABwKZ5dWfLo8utoxUVZEt3K3l1MUX7Ag3ru81jtydwG0c4xjH40/y6sMQdNji8/JEzMYdn3cqBu3d84xj2pgZ3l0eXVny6PLoAiheS3YMhPBzjJHPrxyD7jmuy0bxY20RXm6VQPvgZdR7gfeHuOfUd65Ly6AhVgVOCOQR2rKVN35oOz/B+v+f/AAxSfRnrsFxFcwrNBIskbDKspyDUteZadq1xZS7o5fLYnLZGUf8A3h6/7Q5rtdM12C+ZYZB5FyR/q2OQ3urdGH60oVk3ySVpf1t3/q6QOPVbGxRRRWxIUUUUAFVru9t7GEy3MgRe2epPoB3pt5JdpFizhWSQ93fCj+prnJ9G1SaUzSbZZj/EzjC+yjtWVWo4WUY3b+75vp+fZMqKT3ZDqmuz3SlVLW9ueiqf3jj3P8IrAkZnAQALGv3VXoP8T71uHw3qTElkjJPUmQUf8IzqP/POP/vsVEKLup1XeX4L0/zevotBuXSOxz3l0eXXQ/8ACM6j/wA84/8AvsUf8IzqP/POP/vsV0EHPeXR5ddD/wAIzqP/ADzj/wC+xR/wjOo/884/++xQBz3l1deGb+xYSRF5HnttI+/uxzn2rU/4RnUf+ecf/fYqw3hif7AhVB9r3ncC427ecfj0oA5by6PLrof+EZ1H/nnH/wB9ij/hGdR/55x/99igDnvLo8uuh/4RnUf+ecf/AH2KP+EZ1H/nnH/32KAOe8upY3KLsZd0ec7T2PqD2Nbn/CM6j/zzj/77FH/CM6j/AM84/wDvsVFSnGouWSGm07on03xBNAoW4LXFuON//LRPr/eHv1rqbe5huoRLbyLJGehU/wCcVyC+HNSRgyogYdxIKt22k6tay+dAEik/iAcFX+ornUqlF2l70e/Veq6+q+a6lWjJaaM6uiq9o9w8WbmFY5B1CtkH6UV1kFiiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Z",xi="/mafia2/assets/magnet-Bd2Q5LRm.png",vi="/mafia2/assets/massmurderer-BxXpzCg3.png",ji="/mafia2/assets/matrix-C13l_S_q.jfif",Mi="/mafia2/assets/meciar-C5aD0Nuj.png",Si="/mafia2/assets/mirror1-Dz6Z9C7x.png",Ci="/mafia2/assets/mirror2-Bb1x54Ch.png",Ai="/mafia2/assets/mirror3-DMA6h8R2.jfif",Ni="/mafia2/assets/mirror4-CFXrW3o9.jfif",Ii="/mafia2/assets/mirror5-CPwdUwkY.jfif",$i="/mafia2/assets/ropewalker1-B2q2BnSs.jfif",Pi="/mafia2/assets/ropewalker2-DjeTU8D3.png",Ti="/mafia2/assets/ropewalker3-BVr4wHhC.jfif",Ei="/mafia2/assets/sand-DotXyUfh.png",Li="/mafia2/assets/slime1-Bh5gDfiG.jfif",Di="/mafia2/assets/slime2-zXIf-fSs.jpg",Ri="/mafia2/assets/sniper-DB66vLIO.jfif",Gi="/mafia2/assets/sock-D3MWe0BL.jfif",Ki="/mafia2/assets/spyglass-DgKLUXen.jfif",Bi="/mafia2/assets/swampmonster-aFsSeYu0.png",Oi="/mafia2/assets/terrorist-B70yJo92.png",Wi="/mafia2/assets/timelord-BO55vHUL.jfif",Hi=Object.assign({"../../icons/cards/alcapone.jfif":Gn,"../../icons/cards/anarchist.jfif":Kn,"../../icons/cards/astronomer.gif":Bn,"../../icons/cards/atheist.jfif":On,"../../icons/cards/blindexecutioner.png":Wn,"../../icons/cards/cloudwalker1.jfif":Hn,"../../icons/cards/cloudwalker2.jfif":Un,"../../icons/cards/cloudwalker3.jfif":Vn,"../../icons/cards/cloudwalker4.jfif":Fn,"../../icons/cards/cloudwalker5.jfif":Jn,"../../icons/cards/cloudwalker6.jfif":Zn,"../../icons/cards/cloudwalker7.jfif":Yn,"../../icons/cards/cloudwalker8.jfif":qn,"../../icons/cards/cloudwalker9.jfif":Qn,"../../icons/cards/cobra.jfif":Xn,"../../icons/cards/communist.jpg":ei,"../../icons/cards/doctor.jfif":ai,"../../icons/cards/gandalf.jfif":ti,"../../icons/cards/ghostbobo.jfif":ri,"../../icons/cards/glazier.jfif":oi,"../../icons/cards/gravedigger.jfif":ni,"../../icons/cards/horsepiece.jfif":ii,"../../icons/cards/immunity1.jfif":si,"../../icons/cards/immunity2.jfif":li,"../../icons/cards/jailer.jfif":ci,"../../icons/cards/judge.jfif":di,"../../icons/cards/kevlarvest1.jfif":ui,"../../icons/cards/kevlarvest2.jfif":pi,"../../icons/cards/kovac.jfif":mi,"../../icons/cards/leech.jpg":_i,"../../icons/cards/madgunman1.jpg":gi,"../../icons/cards/madgunman2.jfif":hi,"../../icons/cards/mafia1.jfif":yi,"../../icons/cards/mafia2.jfif":bi,"../../icons/cards/mafia3.jfif":fi,"../../icons/cards/mage1.gif":ki,"../../icons/cards/mage2.gif":zi,"../../icons/cards/mage3.jfif":wi,"../../icons/cards/magnet.png":xi,"../../icons/cards/massmurderer.png":vi,"../../icons/cards/matrix.jfif":ji,"../../icons/cards/meciar.png":Mi,"../../icons/cards/mirror1.png":Si,"../../icons/cards/mirror2.png":Ci,"../../icons/cards/mirror3.jfif":Ai,"../../icons/cards/mirror4.jfif":Ni,"../../icons/cards/mirror5.jfif":Ii,"../../icons/cards/ropewalker1.jfif":$i,"../../icons/cards/ropewalker2.png":Pi,"../../icons/cards/ropewalker3.jfif":Ti,"../../icons/cards/sand.png":Ei,"../../icons/cards/slime1.jfif":Li,"../../icons/cards/slime2.jpg":Di,"../../icons/cards/sniper.jfif":Ri,"../../icons/cards/sock.jfif":Gi,"../../icons/cards/spyglass.jfif":Ki,"../../icons/cards/swampmonster.png":Bi,"../../icons/cards/terrorist.png":Oi,"../../icons/cards/timelord.jfif":Wi}),Le={};Object.entries(Hi).forEach(([e,a])=>{const r=(e.split("/").pop()??"").match(/^([a-z0-9]+?)(\d+)?\.(png|jpe?g|jfif|gif)$/i);if(!r)return;const[,o,i]=r,s=o.toLowerCase();if(Le[s]||(Le[s]=[]),i){const l=Math.max(0,Number(i)-1);Le[s][l]=a}else Le[s].push(a)});function Ui(e){return e?e.filter(Boolean):[]}function Vi(e){return e.toLowerCase()}function ha(e,a=1){const t=Vi(e),r=Ui(Le[t]);if(!r.length||a<1)return r[0]??null;const o=(a-1)%r.length;return r[o]??r[0]??null}const Fi=()=>n.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",role:"presentation","aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Ji=()=>n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",role:"presentation","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"1.75",children:[n.jsx("circle",{cx:"12",cy:"12",r:"4"}),n.jsx("path",{d:"M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364-1.414 1.414M7.05 16.95 5.636 18.364m12.728 0-1.414-1.414M7.05 7.05 5.636 5.636"})]}),Zi=()=>n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",role:"presentation","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M8 15v3.5a4 4 0 0 0 8 0V15"}),n.jsx("path",{d:"M7 9a5 5 0 0 1 10 0v3.5A2.5 2.5 0 0 1 14.5 15h-5A2.5 2.5 0 0 1 7 12.5V9Z"}),n.jsx("circle",{cx:"9",cy:"9.5",r:"1.3"}),n.jsx("circle",{cx:"15",cy:"9.5",r:"1.3"}),n.jsx("path",{d:"M9 18.5a3 3 0 0 0 6 0"})]}),Yi={night:{label:"Night action",className:"text-[var(--color-brass)] border-[rgba(242,200,121,0.4)] bg-[rgba(242,200,121,0.08)]",Glyph:Fi},day:{label:"Day action",className:"text-[rgba(255,188,150,0.95)] border-[rgba(197,83,61,0.45)] bg-[rgba(197,83,61,0.08)]",Glyph:Ji},gas:{label:"Provides gas mask",className:"text-[#a9f5d0] border-[rgba(132,201,178,0.4)] bg-[rgba(132,201,178,0.08)]",Glyph:Zi}},qi=({label:e,className:a,children:t})=>n.jsx("span",{className:`inline-flex h-9 w-9 min-h-[2.25rem] min-w-[2.25rem] items-center justify-center rounded-full border text-base shadow-[0_8px_20px_rgba(0,0,0,0.35)] ${a}`,title:e,"aria-label":e,children:t}),Qa="flex flex-col overflow-hidden rounded-2xl border border-[rgba(242,200,121,0.18)] bg-[rgba(14,12,18,0.9)]",Xa="Description coming soon.",zt=({label:e,glyph:a,imageSrc:t,artMode:r,indicators:o=[],description:i,className:s,actionButton:l,isDisabled:u})=>{const d=a,c=r==="icon",y=c?"":"min-h-[450px]",j=u?"opacity-60 grayscale":"",D=s?`${Qa} ${y} ${j} ${s}`:`${Qa} ${y} ${j}`,T=()=>n.jsx("div",{className:"flex items-center justify-center w-full h-full text-[rgba(242,200,121,0.5)] text-sm font-semibold tracking-[0.4em] uppercase",children:"No art yet"}),I="relative flex items-center justify-center flex-1 basis-0 min-h-0 max-h-[65%] p-4 border-b border-[rgba(242,200,121,0.15)]",k="bg-white",b=()=>n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[c&&n.jsx("div",{className:"flex h-14 w-14 flex-shrink-0 items-center justify-center rounded-xl border border-[rgba(242,200,121,0.25)] bg-[radial-gradient(circle_at_top,rgba(242,200,121,0.2),rgba(14,12,18,0.95))] shadow-[0_12px_25px_rgba(0,0,0,0.35)]",children:d?n.jsx(d,{className:"h-9 w-9 text-[var(--color-brass)]",weight:"duotone","aria-hidden":"true"}):n.jsx("span",{className:"text-[rgba(242,200,121,0.6)] text-[0.6rem] font-semibold tracking-[0.3em] uppercase",children:"No icon"})}),n.jsx("h3",{className:"text-lg font-bold text-[var(--color-brass)] leading-snug",children:e})]}),(o.length>0||l)&&n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("div",{className:"flex flex-wrap items-center gap-2 text-white/80 flex-1",children:o.map(z=>{const v=Yi[z];return v?n.jsx(qi,{label:v.label,className:v.className,children:n.jsx(v.Glyph,{})},`${e}-${z}`):null})}),l&&n.jsx("div",{className:"flex-shrink-0",children:l})]})]});return c?n.jsx("article",{className:D,children:n.jsxs("div",{className:"flex flex-col gap-3 p-4 shrink-0",children:[b(),n.jsx("p",{className:"text-sm text-slate-100/80 leading-relaxed py-1",children:i??Xa})]})}):n.jsxs("article",{className:D,children:[n.jsx("div",{className:`${I} ${k}`,children:t?n.jsx("img",{src:t,alt:e,className:"object-contain h-full w-full",loading:"lazy"}):T()}),n.jsxs("div",{className:"flex flex-col gap-3 p-4 shrink-0",children:[b(),n.jsx("p",{className:"text-sm text-slate-100/80 flex-1 leading-relaxed py-1",children:i??Xa})]})]})},Qi=new TextEncoder,Xi=new TextDecoder,es=e=>{let a="";return e.forEach(t=>{a+=String.fromCharCode(t)}),a},as=e=>Uint8Array.from(e,a=>a.charCodeAt(0)),ts=e=>{const a=JSON.stringify(e),t=es(Qi.encode(a));return btoa(t)},rs=e=>{try{const a=atob(e),t=Xi.decode(as(a));return JSON.parse(t)}catch{return null}};function wt(){return M.useMemo(()=>{if(typeof window>"u")return null;const a=new URLSearchParams(window.location.search).get("data");return a?rs(a):null},[])}const os=({className:e,artMode:a,onArtModeChange:t,language:r})=>{const o=wt(),i=r??o?.lang??"pl",s=h("player_link_invalid",i),l="h-full overflow-y-auto text-white px-3 pt-5 pb-24 sm:px-4 sm:pt-7",u=e?`${l} ${e}`:l,[d,c]=M.useState("icon"),[y,j]=M.useState([]),[D,T]=M.useState([]),[I,k]=M.useState(!1),b=K=>(Ge[K]?.defaultAmount??1)+1,z=K=>{const W=b(K),ie=[...o?.cards??[],...D].reduce((le,ee)=>ee.cardId!==K?le:ee.instance>le?ee.instance:le,0);return Math.max(W,ie+1)},[v,S]=M.useState("CloudWalker"),[N,$]=M.useState(()=>String(b("CloudWalker"))),R=a??d,L=t??(K=>c(K)),V="px-4 py-1.5 text-sm font-semibold rounded-xl transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",P=[{value:"icon",label:h("cards_toggle_icons",i)},{value:"image",label:h("cards_toggle_images",i)}],f=M.useMemo(()=>new Set(y),[y]),w=M.useMemo(()=>["CloudWalker","Mirror"],[]),C=K=>`${K.cardId}-${K.instance}`,x=M.useMemo(()=>{if(!o)return[];const{cards:K,labels:W=[]}=o,Y=ba(i),ie=h("cards_placeholder_description",i);return[...[...K.map((J,Q)=>({card:J,label:W[Q]})),...D.map(J=>({card:J,label:void 0}))].map(({card:J,label:Q})=>{const ue=Q??`${ce(J.cardId,i)} ${J.instance}`,pe=C(J),E=[];return pa(J.cardId)&&E.push("night"),ma(J.cardId)&&E.push("day"),$e(J.cardId,J.instance)&&E.push("gas"),{card:J,key:pe,label:ue,icon:ha(J.cardId,J.instance),glyph:Ye(J.cardId),indicators:E,description:la(J.cardId,i)??ie}})].sort((J,Q)=>{const ue=f.has(J.key),pe=f.has(Q.key);return ue!==pe?ue?1:-1:J.label.localeCompare(Q.label,Y,{sensitivity:"base"})})},[o,i,f,D]),G=M.useMemo(()=>{if(!o)return new Set;const K=o.cards.map(C),W=D.map(C);return new Set([...K,...W])},[o,D]),O=Number(N),B=Number.isInteger(O)&&O>=1,F=B&&G.has(C({cardId:v,instance:O})),q=B&&!F,oe=K=>{const W=Number(N),Y=Number.isFinite(W)&&Number.isInteger(W)?W:1,ie=Math.max(1,Y+K);$(String(ie))},de=()=>{q&&(T(K=>[...K,{cardId:v,instance:O}]),$(String(O+1)))},X=K=>{j(W=>{const Y=new Set(W);return Y.has(K)?Y.delete(K):Y.add(K),Array.from(Y)})};if(!o)return n.jsx("div",{className:`${u} flex flex-col items-center justify-center text-center`,children:n.jsx("p",{className:"text-white/80 text-sm",children:s})});const{name:_e}=o;return n.jsx("div",{className:u,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("header",{className:"space-y-3",children:n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{className:"flex flex-wrap items-baseline gap-3",children:[n.jsx("h1",{className:"text-2xl font-bold mafia-title text-[var(--color-brass)]",children:h("nav_my_cards",i)}),n.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-white/60",children:_e})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 self-center sm:self-auto",children:[n.jsx("button",{type:"button",onClick:()=>k(K=>{const W=!K;return W&&$(String(z(v))),W}),"aria-expanded":I,className:`inline-flex items-center justify-center ${V} rounded-2xl border border-[rgba(242,200,121,0.3)] bg-[rgba(16,14,20,0.85)] uppercase tracking-[0.25em] ${I?"bg-[var(--color-brass)] text-[rgba(20,14,10,0.9)] shadow-[0_10px_25px_rgba(0,0,0,0.35)]":"text-white/70 hover:text-white"}`,children:h("player_add_card_button",i)}),n.jsx("div",{className:"inline-flex items-center gap-1 rounded-2xl border border-[rgba(242,200,121,0.3)] bg-[rgba(16,14,20,0.85)] p-1",children:P.map(K=>{const W=R===K.value;return n.jsx("button",{type:"button",onClick:()=>L(K.value),"aria-pressed":W,className:`${V} ${W?"bg-[var(--color-brass)] text-[rgba(20,14,10,0.9)] shadow-[0_10px_25px_rgba(0,0,0,0.35)]":"text-white/70 hover:text-white"}`,children:K.label},K.value)})})]})]})}),I&&n.jsx("section",{className:"rounded-2xl border border-[rgba(242,200,121,0.25)] bg-[rgba(16,14,20,0.85)] p-4",children:n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end",children:[n.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase tracking-[0.3em] text-white/60",children:[h("player_add_card_type_label",i),n.jsx("select",{value:v,onChange:K=>{const W=K.target.value;S(W),$(String(z(W)))},className:"rounded-xl border border-[rgba(242,200,121,0.25)] bg-[rgba(10,8,13,0.85)] px-3 py-2 text-sm font-semibold text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",children:w.map(K=>n.jsx("option",{value:K,className:"bg-[rgba(10,8,13,0.95)] text-white",children:ce(K,i)},K))})]}),n.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase tracking-[0.3em] text-white/60",children:[h("player_add_card_instance_label",i),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:1,value:N,onChange:K=>$(K.target.value),className:"min-w-[5rem] flex-1 h-10 rounded-xl border border-[rgba(242,200,121,0.25)] bg-[rgba(10,8,13,0.85)] px-3 py-2 text-sm font-semibold text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]"}),n.jsxs("div",{className:"flex h-10 overflow-hidden rounded-xl border border-[rgba(242,200,121,0.25)] bg-[rgba(10,8,13,0.85)]",children:[n.jsx("button",{type:"button",onClick:()=>oe(1),"aria-label":"Increase instance number",className:"flex h-full w-10 items-center justify-center text-center text-xl font-semibold leading-none text-white/80 transition hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",children:n.jsx(ia,{size:18,weight:"bold"})}),n.jsx("span",{className:"w-px bg-[rgba(242,200,121,0.25)]"}),n.jsx("button",{type:"button",onClick:()=>oe(-1),"aria-label":"Decrease instance number",className:"flex h-full w-10 items-center justify-center text-center text-xl font-semibold leading-none text-white/80 transition hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",children:n.jsx(sa,{size:18,weight:"bold"})})]})]})]})]})}),n.jsxs("div",{className:"flex flex-col gap-2 sm:items-end",children:[F&&n.jsx("p",{className:"text-xs text-white/50",children:h("player_add_card_duplicate",i)}),n.jsx("button",{type:"button",onClick:de,disabled:!q,className:`inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)] ${q?"bg-[var(--color-brass)] text-[rgba(20,14,10,0.9)] shadow-[0_10px_25px_rgba(0,0,0,0.35)]":"cursor-not-allowed border border-[rgba(242,200,121,0.2)] bg-[rgba(242,200,121,0.08)] text-white/50"}`,children:h("player_add_card_submit",i)})]})]})}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4",children:x.map(({key:K,label:W,icon:Y,glyph:ie,indicators:le,description:ee},J)=>{const Q=f.has(K),ue=Q?"Re-enable card":"Disable card",pe=n.jsx("button",{type:"button",onClick:()=>X(K),"aria-pressed":Q,"aria-label":ue,title:ue,className:`inline-flex h-9 w-9 items-center justify-center rounded-full border text-base font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)] ${Q?"border-[rgba(120,227,195,0.5)] bg-[rgba(120,227,195,0.1)] text-[#a9f5d0] hover:bg-[rgba(120,227,195,0.18)]":"border-[rgba(245,132,132,0.5)] bg-[rgba(245,132,132,0.1)] text-[rgba(255,180,180,0.95)] hover:bg-[rgba(245,132,132,0.2)]"}`,children:Q?"â†º":"Ã—"});return n.jsx(zt,{label:W,glyph:ie,imageSrc:Y,artMode:R,indicators:le,description:ee,actionButton:pe,isDisabled:Q},`${K}-${J}`)})})]})})},ns=({state:e})=>{const a=e.settings.language,t=M.useMemo(()=>ct(e.players,a),[e.players,a]),r=ba(a),o=typeof document<"u"?document.body:null,i=M.useMemo(()=>e.players.reduce((P,f)=>{const w=t[f.id]||[],C=f.cards.map((B,F)=>({card:B,label:w[F]??Je(e.players,a,B.cardId,B.instance),isInactive:!1})),G=(f.inactiveCards||[]).map(B=>({card:B,label:Je(e.players,a,B.cardId,B.instance),isInactive:!0})),O=[...C,...G].sort((B,F)=>B.isInactive!==F.isInactive?B.isInactive?1:-1:B.label.localeCompare(F.label,r,{sensitivity:"base"}));return P[f.id]={active:C,combined:O},P},{}),[t,r,e.players,a]),[s,l]=M.useState(null),[u,d]=M.useState(null),[c,y]=M.useState(!1),j="w-full min-w-[8rem] inline-flex items-center justify-center gap-2 rounded text-sm font-semibold px-3 py-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 focus-visible:ring-[rgba(242,200,121,0.35)] shadow-[0_12px_30px_rgba(0,0,0,0.35)]",D="p-4 rounded-2xl border flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between transition-colors backdrop-blur",T={townAlive:"bg-[rgba(15,12,20,0.82)] border-[rgba(242,200,121,0.18)]",townDead:"bg-[rgba(50,12,12,0.7)] border-[rgba(197,83,61,0.4)] text-slate-400",mafiaAlive:"bg-[rgba(33,8,16,0.9)] border-[rgba(255,90,104,0.55)] shadow-[0_0_30px_rgba(255,70,105,0.25)]",mafiaDead:"bg-[rgba(58,9,14,0.65)] border-[rgba(255,90,104,0.4)] text-slate-400",shareMode:"bg-[rgba(15,12,20,0.85)] border-[rgba(242,200,121,0.25)]"},I="inline-flex items-center gap-2 rounded-full border px-2 py-0.5 text-[0.6rem] font-semibold uppercase tracking-[0.3em] bg-[rgba(255,82,103,0.12)] border-[rgba(255,99,125,0.55)] text-[#ff9cae]",k=()=>typeof window>"u"?{available:!1,reason:"unsupported"}:window.isSecureContext||window.location.hostname==="localhost"?typeof navigator>"u"||typeof navigator.share!="function"?{available:!1,reason:"unsupported"}:{available:!0}:{available:!1,reason:"insecure-context"},b=(P,f)=>{if(typeof window>"u")return"";const w={name:P.name,cards:f.map(O=>O.card),lang:a,labels:f.map(O=>O.label)},C=ts(w),{origin:x,pathname:G}=window.location;return`${x}${G}?data=${C}`},z=(P,f)=>({title:h("gm_players_share_title",a,{player:P}),url:f}),v=async P=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText)try{return await navigator.clipboard.writeText(P),!0}catch(f){console.error("Clipboard API write failed",f)}if(typeof document<"u"){const f=document.createElement("input");f.value=P,f.setAttribute("readonly",""),f.style.position="absolute",f.style.left="-9999px",f.style.fontSize="16px",document.body.appendChild(f),f.select(),f.setSelectionRange(0,P.length);try{const w=document.execCommand("copy");return document.body.removeChild(f),w}catch(w){document.body.removeChild(f),console.error("execCommand copy failed",w)}}return!1},S=async(P,f,w)=>await v(P)?(alert(h("gm_players_copy_success",a,{player:f})),!0):(d({playerName:f,url:P,reason:w}),!1),N=async(P,f)=>{const w=b(P,f);if(!w)return;const C=k();if(C.available){const G=z(P.name,w);try{await navigator.share(G);return}catch(O){if(O?.name==="AbortError")return;console.error("Web Share API failed",O),d({playerName:P.name,url:w,reason:h("gm_players_share_failure_reason",a)});return}}const x=C.reason==="insecure-context"?h("gm_players_share_insecure",a):h("gm_players_share_unsupported",a);await S(w,P.name,x)},$=async(P,f)=>{const w=b(P,f);if(w){l({playerName:P.name,url:w,dataUrl:null,isLoading:!0});try{const C=await ur.toDataURL(w,{width:256,margin:1});l(x=>x&&x.url===w?{...x,dataUrl:C,isLoading:!1}:x)}catch(C){console.error("QR code generation failed",C),alert(h("gm_players_qr_error",a)),await S(w,P.name),l(null)}}},R=()=>l(null),L=()=>d(null),V=async()=>{if(!u)return;await v(u.url)&&(alert(h("gm_players_copy_success",a,{player:u.playerName})),d(null))};return n.jsxs("div",{className:"h-full overflow-y-auto text-white px-3 pt-6 pb-24 sm:px-4 sm:pt-8 space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 mafia-title text-[var(--color-brass)]",children:h("gm_players_title",a,{count:e.players.length})}),n.jsxs("div",{className:"rounded-2xl border border-[rgba(242,200,121,0.15)] bg-[rgba(15,12,20,0.7)] p-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-[rgba(242,200,121,0.8)]",children:h("gm_players_share_mode_title",a)}),n.jsx("p",{className:"text-sm text-slate-200/80 mt-1",children:h("gm_players_share_mode_hint",a)})]}),n.jsxs("button",{type:"button",onClick:()=>y(P=>!P),"aria-pressed":c,className:`inline-flex items-center gap-3 rounded-2xl border px-4 py-2 font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0 focus-visible:ring-[rgba(242,200,121,0.35)] ${c?"border-[rgba(242,200,121,0.45)] text-[var(--color-brass)] bg-[rgba(242,200,121,0.08)]":"border-[rgba(242,200,121,0.2)] text-white bg-[rgba(10,8,14,0.85)] hover:border-[rgba(242,200,121,0.35)]"}`,children:[n.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${c?"bg-[rgba(242,200,121,0.35)]":"bg-slate-600/60"}`,children:n.jsx("span",{className:`h-5 w-5 rounded-full bg-white transition ${c?"translate-x-6 bg-[var(--color-brass)]":"translate-x-1"}`,"aria-hidden":!0})}),n.jsx("span",{children:h(c?"gm_players_share_mode_on":"gm_players_share_mode_off",a)})]})]}),n.jsx("div",{className:"grid gap-3",children:e.players.map(P=>{const f=i[P.id]||{active:[],combined:[]},{active:w,combined:C}=f,G=[...P.cards,...P.inactiveCards??[]].some(B=>B.cardId==="Mafia"),O=c?T.shareMode:P.status.isAlive?G?T.mafiaAlive:T.townAlive:G?T.mafiaDead:T.townDead;return n.jsxs("div",{className:`${D} ${O} ${P.status.isAlive?"":"grayscale"}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("div",{className:"font-bold text-lg text-[var(--color-brass)]",children:P.name}),!c&&G&&n.jsxs("span",{className:I,children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-[#ff6b81]","aria-hidden":!0}),n.jsx("span",{children:h("gm_players_badge_mafia",a)})]})]}),c?n.jsx("div",{className:"text-sm text-[rgba(242,200,121,0.75)] italic",children:h("gm_players_share_mode_cards_hidden",a)}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"text-sm text-slate-200/85 flex flex-wrap gap-1.5",children:C.length?C.map((B,F)=>n.jsx(He,{cardId:B.card.cardId,label:B.label,size:"sm",variant:B.isInactive?"gmInactive":"gmActive",labelClassName:B.isInactive?"line-through decoration-[rgba(197,83,61,0.65)] decoration-2":""},`${B.card.cardId}-${B.card.instance}-${F}`)):n.jsx("span",{className:"text-[rgba(242,200,121,0.55)] italic",children:h("gm_players_no_cards",a)})})})]}),n.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-48 sm:flex-none",children:[n.jsxs("button",{type:"button",onClick:()=>N(P,w),className:`${j} mafia-button mafia-button--ember`,children:[n.jsx("span",{"aria-hidden":!0,children:"ğŸ”—"}),h("gm_players_share_button",a)]}),n.jsxs("button",{type:"button",onClick:()=>$(P,w),className:`${j} border border-[rgba(242,200,121,0.35)] text-[var(--color-brass)] bg-[rgba(242,200,121,0.08)] hover:bg-[rgba(242,200,121,0.15)]`,children:[n.jsx("span",{"aria-hidden":!0,children:"ğŸ“±"}),h("gm_players_qr_button",a)]})]})]},P.id)})}),o&&s&&ja.createPortal(n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"relative max-w-sm w-full rounded-2xl border border-[rgba(242,200,121,0.25)] bg-[rgba(12,10,16,0.95)] p-6 text-center shadow-[0_25px_55px_rgba(0,0,0,0.7)]",children:[n.jsx("button",{type:"button","aria-label":h("gm_players_modal_close_qr_aria",a),className:"absolute right-3 top-3 rounded-full p-1 text-slate-400 transition hover:text-white",onClick:R,children:"âœ–"}),n.jsx("h3",{className:"text-xl font-semibold mb-1 text-[var(--color-brass)]",children:s.playerName}),n.jsx("p",{className:"text-sm text-[rgba(242,200,121,0.75)] mb-4",children:h("gm_players_qr_instruction",a)}),s.isLoading||!s.dataUrl?n.jsx("div",{className:"text-[rgba(242,200,121,0.7)] text-sm",children:h("gm_players_qr_generating",a)}):n.jsx("img",{src:s.dataUrl,alt:`QR code for ${s.playerName}`,className:"mx-auto h-56 w-56 rounded bg-[rgba(242,200,121,0.08)] p-2 border border-[rgba(242,200,121,0.25)]"}),n.jsx("button",{type:"button",className:"mt-4 text-sm font-semibold text-[var(--color-brass)] underline",onClick:()=>S(s.url,s.playerName),children:h("gm_players_copy_link_instead",a)})]})}),o),o&&u&&ja.createPortal(n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"relative max-w-lg w-full rounded-2xl border border-[rgba(242,200,121,0.25)] bg-[rgba(12,10,16,0.95)] p-6 text-left shadow-[0_25px_55px_rgba(0,0,0,0.7)]",children:[n.jsx("button",{type:"button","aria-label":h("gm_players_modal_close_manual_aria",a),className:"absolute right-3 top-3 rounded-full p-1 text-slate-400 transition hover:text-white",onClick:L,children:"âœ–"}),n.jsx("h3",{className:"text-xl font-semibold mb-2 text-[var(--color-brass)]",children:h("gm_players_manual_copy_title",a)}),n.jsx("p",{className:"text-sm text-[rgba(242,200,121,0.75)] mb-4",children:u.reason??h("gm_players_manual_copy_fallback",a,{name:u.playerName})}),n.jsx("label",{className:"text-xs uppercase tracking-[0.4em] text-[rgba(242,200,121,0.6)] mb-1 block",children:h("gm_players_manual_copy_label",a)}),n.jsx("textarea",{readOnly:!0,value:u.url,className:"w-full rounded-xl border border-[rgba(242,200,121,0.25)] bg-[rgba(15,12,20,0.85)] p-3 text-sm text-white focus:outline-none",rows:3}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[n.jsx("button",{type:"button",onClick:V,className:"flex-1 rounded mafia-button mafia-button--ember px-4 py-2 text-sm font-semibold",children:h("gm_players_manual_copy_copy",a)}),n.jsx("button",{type:"button",onClick:L,className:"flex-1 rounded border border-[rgba(242,200,121,0.25)] px-4 py-2 text-sm font-semibold text-[var(--color-brass)] hover:bg-[rgba(242,200,121,0.08)]",children:h("gm_players_manual_copy_close",a)})]})]})}),o)]})},is=["CloudWalker","Immunity","RopeWalker","KevlarVest","Matrix","Jailer","Mage","Slime","Leech","Sand","Cobra","Magnet","Sock","GhostBobo","Mafia","MadGunman","Sniper","Mirror","Terrorist","Astronomer","Meciar","Kovac","AlCapone","Gandalf","HorsePiece","Atheist","Anarchist","Glazier","MassMurderer","Judge","BlindExecutioner","Communist","Spyglass","Gravedigger","TimeLord","Doctor","SwampMonster"],ss=/\{\{card:([A-Za-z0-9]+)(?:\|([^}]+))?\}\}/g,ls=(e,a,t)=>{const r=[],o=new RegExp(ss);let i=0,s=0,l=0;const u=c=>{c&&r.push(n.jsx(Pe.Fragment,{children:c},`${a}-text-${l++}`))};let d;for(;(d=o.exec(e))!==null;){const[c,y,j]=d;u(e.slice(i,d.index));const D=y,T=(j??"").trim()||t[D];t[D]?r.push(n.jsx(He,{cardId:D,label:T,size:"xs",variant:"inline",className:"mx-0.5 align-baseline"},`${a}-card-${s++}`)):u(c),i=o.lastIndex}return u(e.slice(i)),r.length===0?e:r.length===1?r[0]:r},cs=(e,a,t)=>{if(e.kind==="paragraph")return n.jsx("p",{className:"text-slate-100/90 leading-relaxed",children:t(e.text,`${a}-paragraph`)},a);if(e.kind==="list"){const r=e.ordered?"ol":"ul",o=e.ordered?"list-decimal list-inside space-y-1 text-slate-100/90":"list-disc list-inside space-y-1 text-slate-100/90";return n.jsxs("div",{className:"space-y-2",children:[e.title&&n.jsx("p",{className:"text-[var(--color-brass)] text-sm font-semibold tracking-[0.2em] uppercase",children:t(e.title,`${a}-title`)}),n.jsx(r,{className:o,children:e.items.map((i,s)=>n.jsx("li",{children:t(i,`${a}-item-${s}`)},`${a}-item-${s}`))})]},a)}return null},xt=({section:e,level:a=1,renderBlockFn:t,renderText:r})=>{const o=a===1?"h3":a===2?"h4":"h5",i=a===1?"bg-[rgba(15,12,20,0.9)] border-[rgba(242,200,121,0.25)]":a===2?"bg-[rgba(12,10,16,0.85)] border-[rgba(242,200,121,0.18)]":"bg-[rgba(10,8,14,0.65)] border-[rgba(242,200,121,0.12)] border-dashed",s=a===1?"text-xl font-semibold text-[var(--color-brass)] tracking-[0.25em] uppercase":a===2?"text-lg font-semibold text-slate-100":"text-sm font-semibold text-slate-200 uppercase tracking-[0.35em]";return n.jsxs("article",{className:`rounded-lg border p-4 sm:p-5 space-y-4 ${i}`,children:[n.jsx(o,{className:s,children:r(e.title,`${e.title}-heading`)}),n.jsx("div",{className:"space-y-3",children:e.blocks.map((l,u)=>t(l,`${e.title}-block-${u}`))}),e.subsections?.length?n.jsx("div",{className:"space-y-4",children:e.subsections.map((l,u)=>n.jsx(xt,{section:l,level:a+1,renderBlockFn:t,renderText:r},`${e.title}-sub-${u}`))}):null]})},et=({language:e="pl"})=>{const a=kr[e]??[],t=h("rules_header_title",e),r=h("rules_missing_language",e),o=M.useMemo(()=>{const l={};return is.forEach(u=>{const d=ce(u,e);l[u]=d}),l},[e]),i=(l,u)=>ls(l,u,o),s=(l,u)=>cs(l,u,i);return n.jsxs("div",{className:"h-full overflow-y-auto text-white space-y-8 px-3 pt-6 pb-24 sm:px-4 sm:pt-8",children:[n.jsx("header",{children:n.jsx("h2",{className:"text-2xl font-bold mb-2 mafia-title text-[var(--color-brass)]",children:t})}),a.length===0?n.jsx("div",{className:"bg-[rgba(15,12,20,0.82)] border border-[rgba(242,200,121,0.25)] rounded-2xl p-6 text-[rgba(242,200,121,0.8)]",children:r}):n.jsx("section",{className:"space-y-6",children:a.map(l=>n.jsx(xt,{section:l,renderBlockFn:s,renderText:i},l.title))})]})},ds=({state:e,selectedRound:a,onSelectRound:t})=>{const[r,o]=M.useState("logs"),i=M.useRef(!1),s=e.settings.language,l=Math.max(1,e.currentRound||1),u=Math.min(Math.max(1,a),l),d=Array.from({length:l},($,R)=>R+1),c=h("logs_heading",s),y=h("logs_subheading",s,{round:u}),j=h("logs_round_label",s),D=h("logs_view_label",s),T=h("logs_public_report_title",s),I=h("logs_public_report_placeholder",s),k=h("logs_round_title",s),b=h("logs_round_empty",s);M.useEffect(()=>{i.current||(i.current=!0,a!==l&&t(l))},[a,l,t]);const z=e.logs.filter($=>$.round===u),v=e.publicReportsByRound?.[u]??[],S=$=>($.fragments?.length?$.fragments:[$]).flatMap(L=>Qe(L.key,L.params,e.players,s)),N=($,R)=>$.map((L,V)=>L.kind==="cardLabel"?n.jsx(He,{cardId:L.cardId,label:L.label,size:"xs",variant:"logSegment",className:"mx-0.5"},`${R}-card-${V}`):n.jsx(Pe.Fragment,{children:L.text},`${R}-text-${V}`));return n.jsxs("div",{className:"h-full min-h-0 flex flex-col gap-4 overflow-hidden text-white px-3 pt-6 pb-6 sm:px-4 sm:pt-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mafia-title text-[var(--color-brass)] tracking-[0.3em] uppercase",children:c}),n.jsx("p",{className:"text-xs text-[rgba(242,200,121,0.6)]",children:y})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.35em] text-[rgba(242,200,121,0.7)]",children:[j,n.jsx("select",{value:u,onChange:$=>t(Number($.target.value)),className:"bg-[rgba(15,12,20,0.85)] text-white px-3 py-1 rounded border border-[rgba(242,200,121,0.2)]",children:d.map($=>n.jsx("option",{value:$,children:$},$))})]}),n.jsxs("label",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.35em] text-[rgba(242,200,121,0.7)] lg:hidden",children:[D,n.jsxs("select",{value:r,onChange:$=>o($.target.value),className:"bg-[rgba(15,12,20,0.85)] text-white px-3 py-1 rounded border border-[rgba(242,200,121,0.2)] tracking-normal",children:[n.jsx("option",{value:"logs",children:k}),n.jsx("option",{value:"public",children:T})]})]})]})]}),n.jsxs("div",{className:"flex-1 min-h-0 flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:`flex-1 min-h-0 ${r==="public"?"":"hidden"} lg:block`,children:n.jsxs("div",{className:"h-full flex flex-col rounded-2xl bg-[rgba(14,12,18,0.85)] border border-[rgba(242,200,121,0.18)] shadow-[inset_0_0_30px_rgba(0,0,0,0.45)]",children:[n.jsx("div",{className:"px-4 py-3 border-b border-[rgba(242,200,121,0.15)] text-[0.65rem] font-semibold uppercase tracking-[0.4em] text-[var(--color-brass)]/85",children:T}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 text-sm text-slate-100/90",children:[v.length===0&&n.jsx("div",{className:"text-[rgba(242,200,121,0.55)]",children:I}),v.map(($,R)=>n.jsx("div",{className:"text-slate-50",children:N(S($),`logs-report-${R}`)},`${$.key}-${R}`))]})]})}),n.jsx("div",{className:`flex-1 min-h-0 ${r==="logs"?"":"hidden"} lg:block`,children:n.jsx(kt,{logs:z,players:e.players,language:s,title:k,emptyMessage:b,className:"h-full"})})]})]})},at=({language:e,className:a,playerCards:t,playerLabels:r,artMode:o,onArtModeChange:i})=>{const[s,l]=M.useState("icon"),u=o??s,d=i??(k=>l(k)),c=M.useMemo(()=>{const k=e==="pl_pn"?"pl":e,b=new Intl.Collator(k,{sensitivity:"base"});return t&&t.length>0?t.map((S,N)=>{const $=[];pa(S.cardId)&&$.push("night"),ma(S.cardId)&&$.push("day"),$e(S.cardId,S.instance)&&$.push("gas");const R=ce(S.cardId,e),L=r?.[N]?.trim(),V=L?.length?L:`${R} ${S.instance}`;return{cardId:S.cardId,instance:S.instance,imageSrc:ha(S.cardId,S.instance),glyph:Ye(S.cardId),label:V,indicators:$,description:la(S.cardId,e)}}).sort((S,N)=>b.compare(S.label,N.label)):Object.values(Ge).map(v=>{const S=ce(v.id,e),N=[];return pa(v.id)&&N.push("night"),ma(v.id)&&N.push("day"),Array.from({length:Math.max(1,v.defaultAmount)},(R,L)=>$e(v.id,L+1)).some(Boolean)&&N.push("gas"),{cardId:v.id,instance:1,imageSrc:ha(v.id,1),glyph:Ye(v.id),label:S,indicators:N,description:la(v.id,e)}}).sort((v,S)=>b.compare(v.label,S.label))},[e,t,r]),y=h("cards_placeholder_description",e),j="h-full overflow-y-auto text-white px-3 pt-5 pb-24 sm:px-4 sm:pt-7",D=a?`${j} ${a}`:j,T="px-4 py-1.5 text-sm font-semibold rounded-xl transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-brass)]",I=[{value:"icon",label:h("cards_toggle_icons",e)},{value:"image",label:h("cards_toggle_images",e)}];return n.jsx("div",{className:D,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("header",{className:"space-y-3",children:n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold mafia-title text-[var(--color-brass)]",children:h("cards_collection_title",e)}),n.jsx("div",{className:"inline-flex items-center gap-1 rounded-2xl border border-[rgba(242,200,121,0.3)] bg-[rgba(16,14,20,0.85)] p-1 self-center sm:self-auto",children:I.map(k=>{const b=u===k.value;return n.jsx("button",{type:"button",onClick:()=>d(k.value),"aria-pressed":b,className:`${T} ${b?"bg-[var(--color-brass)] text-[rgba(20,14,10,0.9)] shadow-[0_10px_25px_rgba(0,0,0,0.35)]":"text-white/70 hover:text-white"}`,children:k.label},k.value)})})]})}),n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4",children:c.map(k=>n.jsx(zt,{label:k.label,glyph:k.glyph,imageSrc:k.imageSrc,artMode:u,indicators:k.indicators,description:k.description??y},`${k.cardId}-${k.instance}`))})]})})},na="mafia_manager_state";function us(){const[e,a]=M.useState(()=>{try{const o=localStorage.getItem(na);return o?JSON.parse(o):null}catch(o){return console.error("Failed to load save",o),null}}),t=M.useCallback(o=>{try{localStorage.setItem(na,JSON.stringify(o)),a(o)}catch(i){console.error("Failed to save game",i)}},[]),r=M.useCallback(()=>{localStorage.removeItem(na),a(null)},[]);return{savedState:e,saveGame:t,clearSave:r}}const ps=e=>{if(!e||typeof e!="object")return!1;const a=e;return Array.isArray(a.past)&&Array.isArray(a.future)&&typeof a.present=="object"&&a.present!==null};function ms(){const{savedState:e,saveGame:a,clearSave:t}=us(),[r,o]=M.useReducer(ln,nn),[i,s]=M.useState(()=>typeof window>"u"?"LANG_SELECT":new URLSearchParams(window.location.search).get("data")?"PLAYER_GAME":"LANG_SELECT"),[l,u]=M.useState("GAME"),[d,c]=M.useState(null),[y,j]=M.useState("pl"),[D,T]=M.useState(null),[I,k]=M.useState("icon"),b=r.present,z=b.settings.language,v=wt(),[S,N]=M.useState(()=>v?.lang??"pl"),$=M.useRef(null),R=M.useCallback(E=>{if(!e)return;const A=_s(e,E);a(A)},[e,a]);M.useEffect(()=>{const E=()=>{if(typeof window>"u")return;const A=window.innerHeight*.01;document.documentElement.style.setProperty("--app-vh",`${A}px`)};return E(),window.addEventListener("resize",E),window.addEventListener("orientationchange",E),()=>{window.removeEventListener("resize",E),window.removeEventListener("orientationchange",E)}},[]),M.useEffect(()=>{v?.lang&&N(v.lang)},[v?.lang]),M.useEffect(()=>{if(typeof document>"u")return;const E=i==="PLAYER_GAME"?S:z;document.documentElement.lang=ba(E)},[z,i,S]);const L={height:"calc(var(--app-vh, 1vh) * 100)",minHeight:"calc(var(--app-vh, 1vh) * 100)"},V={height:"calc(4rem + var(--safe-area-bottom, env(safe-area-inset-bottom, 0px)))"},P=!!b.uiState.pendingDayReport?.length,f=b.phase==="DAY_ANNOUNCEMENT"||P,w=Math.max(1,b.currentRound||1),C=Math.min(D??w,w),x=M.useMemo(()=>gs(b),[b]),G=M.useMemo(()=>b.activeCard?b.players.find(A=>A.cards.some(H=>H.cardId===b.activeCard.cardId&&H.instance===b.activeCard.instance))?.id??null:null,[b.players,b.activeCard]),O=M.useMemo(()=>{if(b.phase!=="NIGHT_ACTIVE"||b.activeCard?.cardId!=="Spyglass")return null;const A=(b.nightCache.spyglassRevealIds??[]).filter(H=>H!==G);return new Set(A)},[b.phase,b.activeCard,b.nightCache.spyglassRevealIds,G]),B=M.useMemo(()=>{if(b.phase!=="DAY_MAIN")return null;const E=b.uiState.dayAction;if(E?.kind!=="MASS_MURDERER_RETALIATION")return null;const A=E.massMurderer?.selectedIds??[];return new Set(A)},[b.phase,b.uiState.dayAction]),F=M.useMemo(()=>{if(!O&&!B)return;const E=new Set;return O?.forEach(A=>E.add(A)),B?.forEach(A=>E.add(A)),E},[O,B]),q=Math.round(Xe/xe*100),oe=Math.round(ea/xe*100),de=Math.round(b.settings.playerNodeScale/xe*100),X=Math.min(oe,Math.max(q,de)),_e=150,K=1500,W=Math.min(K,Math.max(_e,b.settings.bulletSpeed)),Y="rounded-2xl border border-[rgba(242,200,121,0.3)] bg-[rgba(255,255,255,0.02)] p-4 text-left transition shadow-[0_10px_25px_rgba(0,0,0,0.45)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-[var(--color-brass)] disabled:cursor-default backdrop-blur",ie=E=>{const A=w,H=Math.min(Math.max(1,E),A);T(H===w?null:H)},le=E=>{x.has(E)||(c(E),o({type:"GM_CLICK_PLAYER",payload:E}))},ee=E=>{E!==z&&o({type:"UPDATE_SETTINGS",payload:{language:E}})},J=E=>{E!==S&&N(E)},Q=E=>{k(E)},ue=M.useCallback(()=>{if(!(typeof document>"u"))try{const E=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),A=new Date().toISOString().replace(/[:.]/g,"-"),H=URL.createObjectURL(E),U=document.createElement("a");U.href=H,U.download=`mafia-game-${A}.json`,document.body.appendChild(U),U.click(),document.body.removeChild(U),setTimeout(()=>URL.revokeObjectURL(H),0)}catch(E){console.error("Failed to export game data",E)}},[r]),pe=M.useCallback(async E=>{const A=E.target.files?.[0];if(A)try{const H=await A.text(),U=JSON.parse(H);if(!ps(U))throw new Error("Invalid save format");o({type:"LOAD_GAME",payload:U}),a(U),s("GM_GAME")}catch(H){console.error("Failed to import game data",H),typeof window<"u"&&window.alert(h("settings_import_error",z))}finally{E.target.value=""}},[o,a,z,s]);if(M.useEffect(()=>{i==="GM_GAME"&&b.phase!=="SETUP"&&a(r)},[r,i,a,b.phase]),i==="LANG_SELECT")return n.jsx("div",{className:"mafia-app flex items-center justify-center px-6",style:L,children:n.jsxs("div",{className:"mafia-screen flex flex-col items-center gap-8 rounded-[2.5rem] p-8 text-center w-full max-w-2xl",children:[n.jsx("span",{className:"mafia-badge",children:"Palermo Town"}),n.jsx("h1",{className:"mafia-title text-4xl",children:h("app_title",y)}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:ot.map(E=>n.jsx("button",{onClick:()=>{j(E.code),o({type:"UPDATE_SETTINGS",payload:{language:E.code}}),R(E.code),s("GM_SETUP")},className:"mafia-button mafia-button--ember py-4 px-8 rounded-2xl font-bold tracking-[0.3em] uppercase",children:E.label},E.code))})]})});if(i==="GM_SETUP"){const E=e?.present.settings.language??y;return n.jsx("div",{className:"mafia-app flex items-center justify-center px-6",style:L,children:n.jsxs("div",{className:"mafia-screen flex flex-col items-center gap-6 rounded-[2.5rem] p-8 text-center w-full max-w-xl",children:[e&&n.jsxs("button",{onClick:()=>{o({type:"LOAD_GAME",payload:e}),s("GM_GAME")},className:"w-full mafia-button mafia-button--brass py-4 rounded-2xl font-bold text-base tracking-[0.3em] uppercase",children:[h("app_continue_game",E),n.jsx("br",{}),n.jsx("span",{className:"text-xs font-normal tracking-[0.2em]",children:h("app_continue_round",E,{round:e.present.currentRound})})]}),n.jsx("button",{onClick:()=>{t(),s("GM_GAME")},className:"w-full border border-[rgba(242,200,121,0.35)] text-white py-4 rounded-2xl font-bold text-base tracking-[0.3em] uppercase hover:bg-white/5 transition",children:h("app_new_game",y)})]})})}return i==="GM_GAME"?b.phase==="SETUP"?n.jsx("div",{className:"mafia-app p-4",style:L,children:n.jsx("div",{className:"mafia-screen rounded-[2rem] p-4 md:p-8 w-full h-full overflow-hidden",children:n.jsx(dn,{dispatch:o,language:y})})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mafia-app flex flex-col overflow-hidden",style:L,children:[n.jsxs("div",{className:"flex-1 relative overflow-hidden mafia-screen flex flex-col min-h-0 rounded-t-[2rem] border border-[rgba(242,200,121,0.12)] p-3 sm:p-6",children:[l==="GAME"&&n.jsxs("div",{className:"flex-1 h-full min-h-0 grid gap-4",style:{gridTemplateRows:f?"minmax(0, 1fr)":"minmax(0, 1fr) auto"},children:[!f&&n.jsx("div",{className:"min-h-0",children:n.jsxs("div",{className:"h-full min-h-0 flex flex-col gap-4 lg:flex-row lg:items-stretch",children:[n.jsx("div",{className:"mafia-panel flex-1 min-h-0 p-4 lg:flex-1 lg:basis-1/2",children:n.jsx(Mn,{players:b.players,phase:b.phase,selectedId:d,onSelect:le,tunnels:b.globalTunnels,disabledPlayerIds:x,playerNodeScale:b.settings.playerNodeScale,highlightedPlayerIds:F,communistSuppressionActive:b.uiState.communistSuppressionActive,bulletAnimations:b.nightCache.bulletAnimations,bulletSpeed:b.settings.bulletSpeed,bulletReplayNonce:b.uiState.bulletReplayNonce,matrixTrapPlayerId:b.nightCache.matrixTrap?.playerId??null})}),n.jsx("div",{className:"hidden lg:flex lg:flex-col lg:flex-1 lg:basis-1/2 min-h-0 mafia-panel p-4",children:n.jsx(kt,{logs:b.logs,players:b.players,language:z,className:"w-full h-full",title:h("logs_panel_title",z),emptyMessage:h("logs_panel_empty",z)})})]})}),n.jsx("div",{className:"min-h-0",children:n.jsx(Pn,{state:b,dispatch:o,fullHeight:f})})]}),l==="PLAYERS"&&n.jsx("div",{className:"h-full overflow-hidden",children:n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx(ns,{state:b})})}),l==="LOGS"&&n.jsx("div",{className:"h-full min-h-0 flex flex-col overflow-hidden",children:n.jsx("div",{className:"mafia-panel h-full min-h-0 flex flex-col overflow-hidden",children:n.jsx(ds,{state:b,selectedRound:C,onSelectRound:ie})})}),l==="RULES"&&n.jsx("div",{className:"h-full overflow-hidden",children:n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx(et,{language:b.settings.language})})}),l==="CARDS"&&n.jsx("div",{className:"h-full overflow-hidden",children:n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx(at,{language:b.settings.language})})}),l==="SETTINGS"&&n.jsx("div",{className:"h-full overflow-hidden",children:n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsxs("div",{className:"h-full overflow-y-auto text-white px-3 pt-6 pb-24 sm:px-4 sm:pt-8 space-y-6",children:[n.jsx(tt,{translationLanguage:z,activeLanguage:z,optionBaseClasses:Y,onSelectLanguage:ee}),n.jsxs("div",{className:"mafia-panel p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm uppercase tracking-[0.4em] text-slate-300",children:[n.jsx("span",{children:h("settings_player_node_size",z)}),n.jsxs("span",{className:"font-mono text-slate-50",children:[X,"%"]})]}),n.jsx("input",{type:"range",min:q,max:oe,step:10,value:X,onChange:E=>o({type:"UPDATE_SETTINGS",payload:{playerNodeScale:Number(E.target.value)/100*xe}}),className:"w-full mt-3 touch-slider"}),n.jsx("button",{onClick:()=>o({type:"UPDATE_SETTINGS",payload:{playerNodeScale:xe}}),className:"text-xs text-[var(--color-brass)] underline mt-2",children:h("settings_reset_player_size",z)}),n.jsx("p",{className:"text-xs text-slate-300 mt-1",children:h("settings_player_node_hint",z)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm uppercase tracking-[0.4em] text-slate-300",children:[n.jsx("span",{children:h("settings_bullet_speed",z)}),n.jsxs("span",{className:"font-mono text-slate-50",children:[W," ms"]})]}),n.jsx("input",{type:"range",min:_e,max:K,step:50,value:W,onChange:E=>o({type:"UPDATE_SETTINGS",payload:{bulletSpeed:Number(E.target.value)}}),className:"w-full mt-3 touch-slider"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[n.jsx("span",{children:h("settings_bullet_speed_fast",z)}),n.jsx("span",{children:h("settings_bullet_speed_slow",z)})]}),n.jsx("p",{className:"text-xs text-slate-300 mt-1",children:h("settings_bullet_speed_hint",z)})]})]}),n.jsxs("div",{className:"mafia-panel p-4 space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:h("settings_storage_title",z)}),n.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[n.jsx("button",{onClick:ue,className:"w-full mafia-button mafia-button--brass p-3 rounded font-semibold uppercase tracking-[0.3em]",children:h("settings_export_data_button",z)}),n.jsx("button",{onClick:()=>$.current?.click(),className:"w-full mafia-button mafia-button--ember p-3 rounded font-semibold uppercase tracking-[0.3em]",children:h("settings_import_data_button",z)})]}),n.jsx("input",{ref:$,type:"file",accept:"application/json",className:"hidden",onChange:pe}),n.jsx("p",{className:"text-xs text-slate-300",children:h("settings_import_warning",z)})]})]})})})]}),n.jsx("div",{className:"shrink-0","aria-hidden":!0,style:V})]}),n.jsx(qa,{activeTab:l,setTab:u,isGm:!0,language:z})]}):i==="PLAYER_GAME"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mafia-app flex flex-col",style:L,children:[n.jsxs("div",{className:"flex-1 overflow-hidden mafia-screen rounded-t-[2rem] border border-[rgba(242,200,121,0.12)] p-3 sm:p-6",children:[l==="GAME"&&n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx(os,{artMode:I,onArtModeChange:Q,language:S})}),l==="CARDS"&&n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx(at,{language:S,artMode:I,onArtModeChange:Q})}),l==="RULES"&&n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx(et,{language:S})}),l==="SETTINGS"&&n.jsx("div",{className:"mafia-panel h-full overflow-hidden",children:n.jsx("div",{className:"h-full overflow-y-auto text-white px-3 pt-6 pb-24 sm:px-4 sm:pt-8 space-y-6",children:n.jsx(tt,{translationLanguage:S,activeLanguage:S,optionBaseClasses:Y,onSelectLanguage:J})})})]}),n.jsx("div",{className:"shrink-0","aria-hidden":!0,style:V})]}),n.jsx(qa,{activeTab:l,setTab:u,isGm:!1,language:S})]}):null}function _s(e,a){let t=!1;const r=l=>l.settings.language===a?l:(t=!0,{...l,settings:{...l.settings,language:a}}),o=e.past.map(r),i=r(e.present),s=e.future.map(r);return t?{past:o,present:i,future:s}:e}function gs(e){if(e.phase==="NIGHT_REPLAY")return new Set(e.players.map(o=>o.id));const a=new Set;if(e.phase!=="NIGHT_ACTIVE"||!e.activeCard)return a;const t=e.uiState.pendingPrompts[0],r=e.uiState.selectionContext;if(e.activeCard.cardId==="Mage"&&t==="wake_up_mage_to"){const o=r?.cardId==="Mage"?r.data?.sourceId:void 0;o&&a.add(o)}if(e.activeCard.cardId==="BlindExecutioner"&&t==="wake_up_executioner_victim"){const o=r?.cardId==="BlindExecutioner"?r.data?.savedId:void 0;o&&a.add(o)}if(e.activeCard.cardId==="Doctor"){const o=e.players.find(i=>i.cards.some(s=>s.cardId==="Doctor"&&s.instance===e.activeCard.instance));o&&!_t(e)&&a.add(o.id)}if(e.activeCard.cardId==="Sock"&&t==="wake_up_sock_second"){const o=r?.cardId==="Sock"?r.data?.firstTargetId:void 0;if(o){const i=e.players.filter(l=>l.status.isAlive),s=i.findIndex(l=>l.id===o);if(s!==-1){const l=new Set;if(i.length>1){const u=i[(s-1+i.length)%i.length];l.add(u.id);const d=i[(s+1)%i.length];l.add(d.id)}i.forEach(u=>{(u.id===o||!l.has(u.id))&&a.add(u.id)})}}}return a}function tt({translationLanguage:e,activeLanguage:a,optionBaseClasses:t,onSelectLanguage:r}){return n.jsxs("div",{className:"mafia-panel p-4 space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h2",{className:"text-2xl font-bold mafia-title text-[var(--color-brass)]",children:h("settings_title",e)})}),n.jsx("div",{children:n.jsx("h3",{className:"text-lg font-semibold",children:h("settings_language_title",e)})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:ot.map(o=>{const i=o.code===a,s=i?"border-[rgba(242,200,121,0.7)] bg-[rgba(242,200,121,0.1)] text-white":"border-[rgba(242,200,121,0.2)] bg-[rgba(8,8,12,0.6)] text-slate-200 hover:border-[rgba(242,200,121,0.35)]";return n.jsxs("button",{onClick:()=>r(o.code),"aria-pressed":i,disabled:i,className:`${t} ${s}`,children:[n.jsx("div",{className:"text-base font-semibold",children:o.label}),n.jsx("span",{"aria-hidden":!i,className:`mt-2 inline-flex items-center gap-1 rounded-full bg-white/10 px-2 py-0.5 text-[0.65rem] font-semibold text-white transition-opacity duration-150 ${i?"":"opacity-0 pointer-events-none select-none"}`,children:h("settings_language_active",e)})]},o.code)})})]})}vt.createRoot(document.getElementById("root")).render(n.jsx(Pe.StrictMode,{children:n.jsx(ms,{})}));
